#[test]
fn test_glean_state_management() {
    // Test boolean metric operations
    let metric_id = 1;
    let storage_name = "test_storage\0".into();

    // Set a boolean value
    glean_boolean_set(metric_id, 1);

    // Verify the value exists
    let has_value = glean_boolean_test_has_value(metric_id, storage_name);
    assert_ne!(has_value, 0);

    // Test other metric types to ensure global state is consistent
    glean_custom_distribution_test_has_value(metric_id, storage_name);
    glean_datetime_test_has_value(metric_id, storage_name);
    glean_event_test_has_value(metric_id, storage_name);
    glean_test_get_num_recorded_errors(metric_id, 0, storage_name);
}