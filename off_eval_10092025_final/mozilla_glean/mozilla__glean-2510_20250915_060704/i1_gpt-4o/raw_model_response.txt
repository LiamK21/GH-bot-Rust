<Filename>tools/embedded-uniffi-bindgen/src/main.rs</Filename>
<imports>
use super::parse_language;
</imports>
<Rust>
#[test]
fn test_parse_language() {
    let languages = vec!["kotlin", "python", "swift", "unknown"];
    let expected_results = vec![
        Ok(uniffi::TargetLanguage::Kotlin),
        Ok(uniffi::TargetLanguage::Python),
        Ok(uniffi::TargetLanguage::Swift),
        Err("Unknown language"),
    ];

    for (lang, expected) in languages.iter().zip(expected_results.iter()) {
        let result = parse_language(lang);
        match expected {
            Ok(expected_lang) => assert_eq!(result.unwrap(), *expected_lang),
            Err(expected_err) => assert_eq!(result.unwrap_err().to_string(), *expected_err),
        }
    }
}
</Rust>