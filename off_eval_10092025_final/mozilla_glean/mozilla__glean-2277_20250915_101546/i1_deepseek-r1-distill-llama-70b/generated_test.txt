#[test]
fn test_remove_dir_all_windows() {
    let temp_dir = TempDir::new("test_remove_dir").expect("Failed to create temp dir");
    let test_dir = temp_dir.path().join("test");

    // Create a directory with some contents
    std::fs::create_dir(&test_dir).expect("Failed to create test dir");
    std::fs::File::create(&test_dir.join("file.txt")).expect("Failed to create file");
    std::fs::create_dir(&test_dir.join("subdir")).expect("Failed to create subdir");

    // Use the patched function to remove the directory
    remove_dir_all::remove_dir_all(&test_dir).expect("Failed to remove directory");

    // Check that the directory was removed
    assert!(!test_dir.exists(), "Directory still exists after removal");
}