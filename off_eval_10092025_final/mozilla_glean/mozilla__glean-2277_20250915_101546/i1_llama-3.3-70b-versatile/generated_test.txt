#[test]
fn test_remove_dir_all() {
  let path = Path::new("test_dir");
  fs::create_dir_all(&path).unwrap();
  let event_database = EventDatabase { path: path.to_path_buf(), file_lock: std::sync::RwLock::new(()) };
  let result = event_database.file_lock.write().unwrap();
  drop(result);
  let expected = Ok(());
  let actual = std::panic::catch_unwind(|| event_database.file_lock.write().unwrap());
  assert!(actual.is_ok());
  let actual = remove_dir_all::remove_dir_all(&event_database.path);
  assert_eq!(expected, actual);
}