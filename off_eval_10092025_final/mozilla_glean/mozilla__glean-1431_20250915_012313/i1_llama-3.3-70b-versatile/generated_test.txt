#[test]
fn test_lock_order_inversion() {
  let metric = Arc::new(RwLock::new(TimingDistributionMetric {
    0: Default::default(),
  }));
  let metric_clone = Arc::clone(&metric);
  std::thread::spawn(move || {
    let _guard = metric_clone.0.read().unwrap();
  });
  let result = metric.0.read().unwrap().test_get_value("test_ping", "test_name");
  assert!(result.is_some());
}