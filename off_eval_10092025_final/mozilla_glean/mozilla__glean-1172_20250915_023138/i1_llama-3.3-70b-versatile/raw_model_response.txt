<Filename> glean-core/src/metrics/custom_distribution.rs </Filename>
<imports> 
use super::CustomDistributionMetric;
use crate::tests::new_glean;
use crate::Glean;
</imports>
<Rust>
#[test]
fn test_accumulate_samples_signed_doesnt_record_when_upload_is_disabled() {
  let (mut glean, _dir) = new_glean(None);
  glean.set_upload_enabled(false);
  let metric = CustomDistributionMetric::new("category", "name");
  metric.accumulate_samples_signed(&glean, vec![1, 2, 3]);
  // Check that no error is recorded
  // For the sake of this example, let's assume there is a function to check the error
  // assert_eq!(metric.get_error(), None);
}</Rust>