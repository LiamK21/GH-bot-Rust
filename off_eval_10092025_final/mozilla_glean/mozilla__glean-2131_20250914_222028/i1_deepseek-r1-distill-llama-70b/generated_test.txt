#[test]
fn test_client_info_metrics_initialization() {
    let glean = Glean::new();
    let mut client_info = ClientInfoMetrics::new();

    // Set test values
    client_info.android_sdk_version = Some("Test SDK Version".into());
    client_info.device_manufacturer = Some("Test Manufacturer".into());
    client_info.device_model = Some("Test Model".into());
    client_info.locale = Some("test_locale".into());

    initialize_core_metrics(&glean, &client_info);

    // Verify metrics are set correctly
    assert_eq!(glean.get_string("android_sdk_version"), Ok(Some("Test SDK Version".into())));
    assert_eq!(glean.get_string("device_manufacturer"), Ok(Some("Test Manufacturer".into())));
    assert_eq!(glean.get_string("device_model"), Ok(Some("Test Model".into())));
    assert_eq!(glean.get_string("locale"), Ok(Some("test_locale".into())));

    // Test with missing fields
    let client_info_empty = ClientInfoMetrics::new();
    initialize_core_metrics(&glean, &client_info_empty);

    assert_eq!(glean.get_string("android_sdk_version"), Ok(None));
    assert_eq!(glean.get_string("device_manufacturer"), Ok(None));
    assert_eq!(glean.get_string("device_model"), Ok(None));
    assert_eq!(glean.get_string("locale"), Ok(None));
}