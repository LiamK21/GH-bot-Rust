#[test]
fn test_snapshot_metric() {
  let storage = mock_storage();
  let store_name = "test_store";
  let metric_id = "test_metric";
  let metric_lifetime = Lifetime::Application;

  // Add metric to storage
  storage.add_metric(store_name, metric_id, metric_lifetime, Metric::Boolean(true));

  // Check if snapshot_metric returns the correct metric
  let snapshot = StorageManager::snapshot_metric(storage, store_name, metric_id, metric_lifetime);
  assert_eq!(snapshot, Some(Metric::Boolean(true)));
}