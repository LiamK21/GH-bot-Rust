<Filename>glean-core/src/histogram/mod.rs</Filename>
<imports>
use super::Histogram;
use super::Bucketing;
</imports>
<Rust>
#[test]
fn test_snapshot_values_no_infill_zero_buckets() {
    struct MockBucketing;
    impl Bucketing for MockBucketing {
        fn ranges(&self) -> Vec<u64> {
            vec![0, 1, 2, 3, 4, 5]
        }
    }

    let bucketing = MockBucketing;
    let mut histogram = Histogram {
        values: [(1, 10), (3, 5), (5, 1)].iter().cloned().collect(),
        bucketing,
    };

    let expected = [(1, 10), (3, 5), (5, 1)].iter().cloned().collect::<HashMap<u64, u64>>();
    let actual = histogram.snapshot_values();
    assert_eq!(expected, actual);
}
</Rust>