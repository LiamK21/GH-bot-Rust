#[test]
fn test_glean_initialization_logs_version() {
  struct TestLogger;
  impl log::Log for TestLogger {
    fn enabled(&self, _metadata: &Metadata) -> bool {
      true
    }
    fn log(&self, record: &Record) {
      if record.level() == Level::Info {
        let message = format!("{}", record.args());
        assert!(message.contains("Creating new Glean v"), "Expected log message to contain version");
      }
    }
    fn flush(&self) {}
  }
  log::set_logger(&TestLogger).unwrap();
  log::set_max_level(Level::Info);
  let _glean = Glean::new(Default::default()).unwrap();
}