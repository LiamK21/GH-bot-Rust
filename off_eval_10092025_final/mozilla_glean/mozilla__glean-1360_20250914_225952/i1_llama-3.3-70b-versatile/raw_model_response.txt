<Filename> glean-core/rlb/src/dispatcher/mod.rs </Filename>
<imports> 
use super::initialize;
use std::thread;
use std::thread::Builder;
</imports>
<Rust>
#[test]
fn test_thread_naming() {
  let handle = thread::Builder::new().name("test_thread".into()).spawn(|| {});
  assert!(handle.is_ok());
  let handle_before_patch = thread::spawn(|| {});
  let thread_name_before_patch = handle_before_patch.thread().name().unwrap_or("unknown");
  assert_eq!(thread_name_before_patch, "unknown");
  let handle_after_patch = thread::Builder::new().name("test_thread_after_patch".into()).spawn(|| {});
  let thread_name_after_patch = handle_after_patch.thread().name().unwrap_or("unknown");
  assert_eq!(thread_name_after_patch, "test_thread_after_patch");
}</Rust>