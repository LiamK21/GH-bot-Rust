<Filename>glean-core/rlb/src/lib.rs</Filename>
<imports>
use super::initialize;
use std::thread;
</imports>
<Rust>
#[test]
fn test_thread_names() {
    let cfg = Configuration {
        upload_enabled: true,
        data_path: Some("test_path".into()),
        application_id: "test_app".into(),
        max_events: 100,
        delay_ping_lifetime_io: false,
        server_endpoint: None,
        uploader: None,
        channel: "test_channel".into(),
    };
    let client_info = ClientInfoMetrics {
        os: "test_os".into(),
        architecture: "test_arch".into(),
        app_build: "test_build".into(),
        app_display_version: "test_version".into(),
    };

    initialize(cfg, client_info);

    let mut found_init_thread = false;
    let mut found_dispatcher_thread = false;
    let mut found_upload_thread = false;

    for thread in thread::current().threads() {
        if let Some(name) = thread.name() {
            if name == "glean.init" {
                found_init_thread = true;
            } else if name == "glean.dispatcher" {
                found_dispatcher_thread = true;
            } else if name == "glean.upload" {
                found_upload_thread = true;
            }
        }
    }

    assert!(found_init_thread, "Init thread not found");
    assert!(found_dispatcher_thread, "Dispatcher thread not found");
    assert!(found_upload_thread, "Upload thread not found");
}
</Rust>