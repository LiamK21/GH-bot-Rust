#[test]
fn test_glean_disabled_logging() {
  let _ = SimpleLogger::init(Level::Info, Config::default());
  let glean = Glean { upload_enabled: false };
  let ping = ();
  let reason = None;
  let actual = glean.submit_ping(&ping, reason);
  let log_output = log::logger().map(|l| l.max_level()).unwrap_or(Level::Error);
  assert_eq!(actual.unwrap(), false);
  assert_ne!(log_output, Level::Error);
}