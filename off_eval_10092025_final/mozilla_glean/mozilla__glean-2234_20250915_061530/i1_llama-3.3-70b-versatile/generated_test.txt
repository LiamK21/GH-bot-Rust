#[test]
fn test_preinit_queue_size() {
  let max_queue_size = 10;
  let dispatcher = Dispatcher::new(max_queue_size);
  let (preinit_sender, _) = unbounded();
  for _ in 0..max_queue_size + 1 {
    let result = preinit_sender.send(());
    if _ > max_queue_size {
      assert_eq!(result.is_err(), true);
    } else {
      assert_eq!(result.is_err(), false);
    }
  }
}