#[test]
fn test_thread_registration() {
  let registered = AtomicBool::new(false);
  let handle = thread::spawn("test_thread", move || {
    registered.store(true, Ordering::SeqCst);
  });
  handle.join().unwrap();
  assert!(registered.load(Ordering::SeqCst));
}