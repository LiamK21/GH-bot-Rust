#[test]
fn test_common_metric_data_deserialization() {
    let json = r#"{
        "name": "test_metric",
        "lifetime": "ping"
    }"#;

    let expected = CommonMetricData {
        name: "test_metric".to_string(),
        lifetime: Lifetime::Ping,
        ..Default::default()
    };

    let actual: Result<CommonMetricData, serde_json::Error> = serde_json::from_str(json);

    assert!(actual.is_ok());
    assert_eq!(expected, actual.unwrap());
}