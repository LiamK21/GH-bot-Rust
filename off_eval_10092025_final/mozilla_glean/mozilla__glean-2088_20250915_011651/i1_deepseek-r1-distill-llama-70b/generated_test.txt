#[test]
fn test_get_num_recorded_errors_after_patch() {
    let metric = BooleanMetric::new("test_boolean", "test_category", None);

    // Cause an invalid value error by trying to set a non-boolean value
    let result = metric.set("invalid");
    assert!(result.is_err());

    // Check that the error was recorded
    let error_count = metric.test_get_num_recorded_errors(ErrorType::InvalidValue);
    assert_eq!(error_count, 1);
}