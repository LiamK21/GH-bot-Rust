#[test]
fn test_attribution_and_distribution_pre_init() {
    let mut attribution = AttributionMetrics {
        source: Some("source".into()),
        medium: Some("medium".into()),
        campaign: Some("campaign".into()),
        term: Some("term".into()),
        content: Some("content".into()),
    };
    let distribution = DistributionMetrics {
        name: Some("name".into()),
    };
    glean_update_attribution(attribution.clone());
    glean_update_distribution(distribution.clone());

    let attribution_update = AttributionMetrics {
        term: Some("new term".into()),
        ..Default::default()
    };
    let distribution_update = DistributionMetrics {
        name: Some("different name".into()),
    };
    glean_update_attribution(attribution_update);
    glean_update_distribution(distribution_update.clone());

    attribution.term = Some("new term".into());
    assert_eq!(attribution, glean_test_get_attribution());
    assert_eq!(distribution_update, glean_test_get_distribution());
}