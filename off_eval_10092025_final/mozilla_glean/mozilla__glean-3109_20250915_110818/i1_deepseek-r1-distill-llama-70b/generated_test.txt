#[test]
fn test_race_condition_in_submit_ping() {
    // Test before initialization
    let result_before_init = glean_submit_ping_by_name_sync("test_ping".to_string(), None);
    assert_eq!(result_before_init, false);

    // Initialize Glean
    init().unwrap();

    // Test after initialization
    let result_after_init = glean_submit_ping_by_name_sync("test_ping".to_string(), None);
    assert_eq!(result_after_init, true);
}