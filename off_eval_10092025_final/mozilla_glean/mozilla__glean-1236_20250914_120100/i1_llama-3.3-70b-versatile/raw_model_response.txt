<Filename> glean-core/src/upload/mod.rs </Filename>
<imports> 
use super::PingUploadManager;
use glean::metrics;
</imports>
<Rust>
#[test]
fn test_pending_pings_directory_size_metric() {
  let mut upload_manager = PingUploadManager::new();
  let glean = metrics::Glean::new();
  let pending_pings_directory_size = 1024;
  let expected_pending_pings_directory_size = pending_pings_directory_size as u64 / 1024;
  upload_manager.upload_metrics.pending_pings_directory_size.accumulate(glean, pending_pings_directory_size as u64 / 1024);
  let actual_pending_pings_directory_size = upload_manager.upload_metrics.pending_pings_directory_size.get_value(glean).unwrap();
  assert_eq!(actual_pending_pings_directory_size, expected_pending_pings_directory_size);
}</Rust>