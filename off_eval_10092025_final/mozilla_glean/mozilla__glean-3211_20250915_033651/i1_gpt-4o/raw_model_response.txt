<Filename> glean-core/src/histogram/mod.rs </Filename>
<imports>
use super::Histogram;
use std::collections::HashMap;
</imports>
<Rust>
#[test]
fn test_merge_saturating_add() {
    let mut hist1 = Histogram {
        bucketing: LinearOrExponential::Linear(1),
        sum: u32::MAX,
        count: u32::MAX,
        values: HashMap::new(),
    };
    let mut hist2 = Histogram {
        bucketing: LinearOrExponential::Linear(1),
        sum: 1,
        count: 1,
        values: HashMap::new(),
    };
    hist2.values.insert(0, 1);

    hist1.merge(&hist2);

    assert_eq!(hist1.sum, u32::MAX);
    assert_eq!(hist1.count, u32::MAX);
    assert_eq!(hist1.values.get(&0), Some(&1));
}
</Rust>