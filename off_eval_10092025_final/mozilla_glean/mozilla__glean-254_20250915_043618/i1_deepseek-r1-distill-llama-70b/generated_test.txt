#[test]
fn test_experiment_limits_record_errors() {
    let glean = Glean::new();
    let experiment_id = "a".repeat(31);
    let branch = "b".repeat(31);
    let mut extras = HashMap::new();
    for i in 0..6 {
        let key = format!("key{}", "c".repeat(31));
        let value = format!("value{}", "d".repeat(101));
        extras.insert(key, value);
    }
    glean.set_active_experiment(experiment_id, branch, Some(extras));
    let error_count = test_get_num_errors();
    assert!(error_count > 0);
}