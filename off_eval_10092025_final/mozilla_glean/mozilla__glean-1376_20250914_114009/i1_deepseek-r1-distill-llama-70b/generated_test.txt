#[test]
fn test_memory_distribution_metric() {
    setup_glean();

    let meta = CommonMetricData {
        name: "test_memory_distribution".to_string(),
        send_in_pings: vec!["test_ping".to_string()],
        ..Default::default()
    };

    let metric = MemoryDistributionMetric::new(meta, MemoryUnit::Byte);

    metric.accumulate(100);

    let value = metric.test_get_value(None);
    assert!(value.is_some());

    let errors = metric.test_get_num_recorded_errors(ErrorType::InvalidValue, None);
    assert_eq!(errors, 0);
}