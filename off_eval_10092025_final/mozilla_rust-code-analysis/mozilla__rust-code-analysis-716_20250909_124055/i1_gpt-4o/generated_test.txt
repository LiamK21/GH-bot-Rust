#[test]
fn test_compute_minmax_updates_nom_minmax() {
    let mut state = State::default();
    state.space.metrics.nom = Stats {
        functions: 2,
        closures: 1,
        functions_sum: 0,
        closures_sum: 0,
        functions_min: usize::MAX,
        functions_max: 0,
        closures_min: usize::MAX,
        closures_max: 0,
    };

    let expected_functions_min = 2;
    let expected_functions_max = 2;
    let expected_closures_min = 1;
    let expected_closures_max = 1;

    compute_minmax(&mut state);

    assert_eq!(state.space.metrics.nom.functions_min(), expected_functions_min as f64);
    assert_eq!(state.space.metrics.nom.functions_max(), expected_functions_max as f64);
    assert_eq!(state.space.metrics.nom.closures_min(), expected_closures_min as f64);
    assert_eq!(state.space.metrics.nom.closures_max(), expected_closures_max as f64);
}