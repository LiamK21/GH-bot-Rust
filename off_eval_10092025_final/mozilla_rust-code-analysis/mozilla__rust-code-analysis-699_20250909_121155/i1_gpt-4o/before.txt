    Updating crates.io index
 Downloading crates ...
  Downloaded byteorder v1.4.3
  Downloaded pretty_assertions v1.0.0
  Downloaded num-traits v0.2.14
  Downloaded enum-iterator-derive v0.7.0
  Downloaded fixedbitset v0.4.0
  Downloaded indexmap v1.7.0
  Downloaded unicode-xid v0.2.2
  Downloaded tree-sitter-python v0.19.0
  Downloaded tree-sitter-java v0.19.0
  Downloaded tree-sitter v0.19.5
  Downloaded serde v1.0.130
  Downloaded serde_derive v1.0.130
  Downloaded tree-sitter-cpp v0.19.0
  Downloaded num-derive v0.3.3
  Downloaded fxhash v0.2.1
  Downloaded diff v0.1.12
  Downloaded syn v1.0.76
  Downloaded termcolor v1.1.2
  Downloaded regex-syntax v0.6.25
  Downloaded regex v1.5.4
  Downloaded memchr v2.4.1
  Downloaded lazy_static v1.4.0
  Downloaded tree-sitter-rust v0.19.0
  Downloaded itoa v0.4.8
  Downloaded num-rational v0.4.0
  Downloaded num-format v0.4.0
  Downloaded num-complex v0.4.0
  Downloaded num v0.4.0
  Downloaded nodrop v0.1.14
  Downloaded enum-iterator v0.7.0
  Downloaded autocfg v1.0.1
  Downloaded ansi_term v0.12.1
  Downloaded quote v1.0.9
  Downloaded num-iter v0.1.42
  Downloaded cc v1.0.70
  Downloaded aho-corasick v0.7.18
  Downloaded proc-macro2 v1.0.29
  Downloaded hashbrown v0.11.2
  Downloaded petgraph v0.6.0
  Downloaded num-integer v0.1.44
  Downloaded arrayvec v0.4.12
  Downloaded tree-sitter-javascript v0.19.0
  Downloaded num-bigint v0.4.2
  Downloaded tree-sitter-typescript v0.19.0
   Compiling cc v1.0.70
   Compiling autocfg v1.0.1
   Compiling memchr v2.4.1
   Compiling regex-syntax v0.6.25
   Compiling proc-macro2 v1.0.29
   Compiling num-traits v0.2.14
   Compiling aho-corasick v0.7.18
   Compiling unicode-xid v0.2.2
   Compiling tree-sitter v0.19.5
   Compiling syn v1.0.76
   Compiling regex v1.5.4
   Compiling quote v1.0.9
   Compiling num-integer v0.1.44
   Compiling tree-sitter-cpp v0.19.0
   Compiling tree-sitter-javascript v0.19.0
   Compiling num-bigint v0.4.2
   Compiling num-rational v0.4.0
   Compiling num-iter v0.1.42
   Compiling indexmap v1.7.0
   Compiling serde_derive v1.0.130
   Compiling arrayvec v0.4.12
   Compiling tree-sitter-mozcpp v0.19.5 (/app/testbed/tree-sitter-mozcpp)
   Compiling tree-sitter-mozjs v0.19.0 (/app/testbed/tree-sitter-mozjs)
   Compiling tree-sitter-preproc v0.19.0 (/app/testbed/tree-sitter-preproc)
   Compiling tree-sitter-ccomment v0.19.0 (/app/testbed/tree-sitter-ccomment)
   Compiling tree-sitter-java v0.19.0
   Compiling tree-sitter-rust v0.19.0
   Compiling tree-sitter-typescript v0.19.0
   Compiling tree-sitter-python v0.19.0
   Compiling nodrop v0.1.14
   Compiling hashbrown v0.11.2
   Compiling serde v1.0.130
   Compiling enum-iterator-derive v0.7.0
   Compiling num-complex v0.4.0
   Compiling byteorder v1.4.3
   Compiling itoa v0.4.8
   Compiling fixedbitset v0.4.0
   Compiling num-format v0.4.0
   Compiling petgraph v0.6.0
   Compiling fxhash v0.2.1
   Compiling num v0.4.0
   Compiling enum-iterator v0.7.0
   Compiling num-derive v0.3.3
   Compiling lazy_static v1.4.0
   Compiling ansi_term v0.12.1
   Compiling diff v0.1.12
   Compiling termcolor v1.1.2
   Compiling pretty_assertions v1.0.0
   Compiling rust-code-analysis v0.0.23 (/app/testbed)
error[E0422]: cannot find struct, variant or union type `State` in this scope
   --> src/spaces.rs:356:9
    |
356 |         State {
    |         ^^^^^
    |
   ::: src/metrics/cyclomatic.rs:10:1
    |
10  | pub struct Stats {
    | ---------------- similarly named struct `Stats` defined here
    |
note: struct `crate::ops::State` exists but is inaccessible
   --> src/ops.rs:74:1
    |
74  | struct State<'a> {
    | ^^^^^^^^^^^^^^^^ not accessible
help: a struct with a similar name exists
    |
356 -         State {
356 +         Stats {
    |
help: consider importing this struct
    |
346 + use crate::spaces::State;
    |

error[E0422]: cannot find struct, variant or union type `Space` in this scope
   --> src/spaces.rs:357:20
    |
357 |             space: Space {
    |                    ^^^^^ not found in this scope
    |
help: consider importing this variant
    |
346 + use std::ascii::Char::Space;
    |

error[E0422]: cannot find struct, variant or union type `Metrics` in this scope
   --> src/spaces.rs:358:26
    |
358 |                 metrics: Metrics {
    |                          ^^^^^^^ not found in this scope
    |
help: consider importing this struct through its public re-export
    |
346 + use crate::Metrics;
    |

error[E0422]: cannot find struct, variant or union type `State` in this scope
   --> src/spaces.rs:372:9
    |
372 |         State {
    |         ^^^^^
    |
   ::: src/metrics/cyclomatic.rs:10:1
    |
10  | pub struct Stats {
    | ---------------- similarly named struct `Stats` defined here
    |
note: struct `crate::ops::State` exists but is inaccessible
   --> src/ops.rs:74:1
    |
74  | struct State<'a> {
    | ^^^^^^^^^^^^^^^^ not accessible
help: a struct with a similar name exists
    |
372 -         State {
372 +         Stats {
    |
help: consider importing this struct
    |
346 + use crate::spaces::State;
    |

error[E0422]: cannot find struct, variant or union type `Space` in this scope
   --> src/spaces.rs:373:20
    |
373 |             space: Space {
    |                    ^^^^^ not found in this scope
    |
help: consider importing this variant
    |
346 + use std::ascii::Char::Space;
    |

error[E0422]: cannot find struct, variant or union type `Metrics` in this scope
   --> src/spaces.rs:374:26
    |
374 |                 metrics: Metrics {
    |                          ^^^^^^^ not found in this scope
    |
help: consider importing this struct through its public re-export
    |
346 + use crate::Metrics;
    |

error[E0046]: not all trait items implemented, missing: `Checker`, `Getter`, `Cognitive`, `Cyclomatic`, `Halstead`, `Loc`, `Nom`, `Mi`, `NArgs`, `Exit`, `new`, `get_language`, `get_root`, `get_code`, `get_filters`
   --> src/spaces.rs:353:5
    |
353 |     impl ParserTrait for DummyParser {}
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ missing `Checker`, `Getter`, `Cognitive`, `Cyclomatic`, `Halstead`, `Loc`, `Nom`, `Mi`, `NArgs`, `Exit`, `new`, `get_language`, `get_root`, `get_code`, `get_filters` in implementation
    |
   ::: src/traits.rs:49:5
    |
49  |     type Checker: Alterator + Checker;
    |     --------------------------------- `Checker` from trait
50  |     type Getter: Getter;
    |     ------------------- `Getter` from trait
51  |     type Cognitive: Cognitive;
    |     ------------------------- `Cognitive` from trait
52  |     type Cyclomatic: Cyclomatic;
    |     --------------------------- `Cyclomatic` from trait
53  |     type Halstead: Halstead;
    |     ----------------------- `Halstead` from trait
54  |     type Loc: Loc;
    |     ------------- `Loc` from trait
55  |     type Nom: Nom;
    |     ------------- `Nom` from trait
56  |     type Mi: Mi;
    |     ----------- `Mi` from trait
57  |     type NArgs: NArgs;
    |     ----------------- `NArgs` from trait
58  |     type Exit: Exit;
    |     --------------- `Exit` from trait
59  |
60  |     fn new(code: Vec<u8>, path: &Path, pr: Option<Arc<PreprocResults>>) -> Self;
    |     ---------------------------------------------------------------------------- `new` from trait
61  |     fn get_language(&self) -> LANG;
    |     ------------------------------- `get_language` from trait
62  |     fn get_root(&self) -> Node;
    |     --------------------------- `get_root` from trait
63  |     fn get_code(&self) -> &[u8];
    |     ---------------------------- `get_code` from trait
64  |     fn get_filters(&self, filters: &[String]) -> Filter;
    |     ---------------------------------------------------- `get_filters` from trait

error[E0560]: struct `metrics::cyclomatic::Stats` has no field named `cyclomatic_sum`
   --> src/spaces.rs:361:25
    |
361 |                         cyclomatic_sum: 0.0,
    |                         ^^^^^^^^^^^^^^ `metrics::cyclomatic::Stats` does not have this field
    |
    = note: all struct fields are already assigned

error[E0560]: struct `metrics::cyclomatic::Stats` has no field named `cyclomatic_max`
   --> src/spaces.rs:362:25
    |
362 |                         cyclomatic_max: 0.0,
    |                         ^^^^^^^^^^^^^^ `metrics::cyclomatic::Stats` does not have this field
    |
    = note: all struct fields are already assigned

error[E0560]: struct `metrics::cyclomatic::Stats` has no field named `cyclomatic_min`
   --> src/spaces.rs:363:25
    |
363 |                         cyclomatic_min: f64::MAX,
    |                         ^^^^^^^^^^^^^^ `metrics::cyclomatic::Stats` does not have this field
    |
    = note: all struct fields are already assigned

error[E0560]: struct `metrics::cyclomatic::Stats` has no field named `cyclomatic_sum`
   --> src/spaces.rs:377:25
    |
377 |                         cyclomatic_sum: 0.0,
    |                         ^^^^^^^^^^^^^^ `metrics::cyclomatic::Stats` does not have this field
    |
    = note: all struct fields are already assigned

error[E0560]: struct `metrics::cyclomatic::Stats` has no field named `cyclomatic_max`
   --> src/spaces.rs:378:25
    |
378 |                         cyclomatic_max: 0.0,
    |                         ^^^^^^^^^^^^^^ `metrics::cyclomatic::Stats` does not have this field
    |
    = note: all struct fields are already assigned

error[E0560]: struct `metrics::cyclomatic::Stats` has no field named `cyclomatic_min`
   --> src/spaces.rs:379:25
    |
379 |                         cyclomatic_min: f64::MAX,
    |                         ^^^^^^^^^^^^^^ `metrics::cyclomatic::Stats` does not have this field
    |
    = note: all struct fields are already assigned

warning: field `first_boolean` is never read
   --> src/metrics/cognitive.rs:155:5
    |
153 | struct BoolSequence {
    |        ------------ field in this struct
154 |     boolean_op: Option<u16>,
155 |     first_boolean: bool,
    |     ^^^^^^^^^^^^^
    |
    = note: `BoolSequence` has derived impls for the traits `Clone` and `Debug`, but these are intentionally ignored during dead code analysis
    = note: `#[warn(dead_code)]` on by default

warning: non-local `impl` definition, `impl` blocks should be written at the same level as their item
 --> src/languages/language_ccomment.rs:3:35
  |
3 | #[derive(Clone, Debug, PartialEq, FromPrimitive)]
  |                                   ^------------
  |                                   |
  |                                   `FromPrimitive` is not local
  |                                   move the `impl` block outside of this constant `_IMPL_NUM_FromPrimitive_FOR_Ccomment`
4 | pub enum Ccomment {
  |          -------- `Ccomment` is not local
  |
  = note: the derive macro `FromPrimitive` defines the non-local `impl`, and may need to be changed
  = note: the derive macro `FromPrimitive` may come from an old version of the `num_derive` crate, try updating your dependency with `cargo update -p num_derive`
  = note: an `impl` is never scoped, even when it is nested inside an item, as it may impact type checking outside of that item, which can be the case if neither the trait or the self type are at the same nesting level as the `impl`
  = note: items in an anonymous const item (`const _: () = { ... }`) are treated as in the same scope as the anonymous const's declaration for the purpose of this lint
  = note: `#[warn(non_local_definitions)]` on by default
  = note: this warning originates in the derive macro `FromPrimitive` (in Nightly builds, run with -Z macro-backtrace for more info)

warning: non-local `impl` definition, `impl` blocks should be written at the same level as their item
 --> src/languages/language_cpp.rs:3:35
  |
3 | #[derive(Clone, Debug, PartialEq, FromPrimitive)]
  |                                   ^------------
  |                                   |
  |                                   `FromPrimitive` is not local
  |                                   move the `impl` block outside of this constant `_IMPL_NUM_FromPrimitive_FOR_Cpp`
4 | pub enum Cpp {
  |          --- `Cpp` is not local
  |
  = note: the derive macro `FromPrimitive` defines the non-local `impl`, and may need to be changed
  = note: the derive macro `FromPrimitive` may come from an old version of the `num_derive` crate, try updating your dependency with `cargo update -p num_derive`
  = note: an `impl` is never scoped, even when it is nested inside an item, as it may impact type checking outside of that item, which can be the case if neither the trait or the self type are at the same nesting level as the `impl`
  = note: items in an anonymous const item (`const _: () = { ... }`) are treated as in the same scope as the anonymous const's declaration for the purpose of this lint
  = note: this warning originates in the derive macro `FromPrimitive` (in Nightly builds, run with -Z macro-backtrace for more info)

warning: non-local `impl` definition, `impl` blocks should be written at the same level as their item
 --> src/languages/language_java.rs:3:35
  |
3 | #[derive(Clone, Debug, PartialEq, FromPrimitive)]
  |                                   ^------------
  |                                   |
  |                                   `FromPrimitive` is not local
  |                                   move the `impl` block outside of this constant `_IMPL_NUM_FromPrimitive_FOR_Java`
4 | pub enum Java {
  |          ---- `Java` is not local
  |
  = note: the derive macro `FromPrimitive` defines the non-local `impl`, and may need to be changed
  = note: the derive macro `FromPrimitive` may come from an old version of the `num_derive` crate, try updating your dependency with `cargo update -p num_derive`
  = note: an `impl` is never scoped, even when it is nested inside an item, as it may impact type checking outside of that item, which can be the case if neither the trait or the self type are at the same nesting level as the `impl`
  = note: items in an anonymous const item (`const _: () = { ... }`) are treated as in the same scope as the anonymous const's declaration for the purpose of this lint
  = note: this warning originates in the derive macro `FromPrimitive` (in Nightly builds, run with -Z macro-backtrace for more info)

warning: non-local `impl` definition, `impl` blocks should be written at the same level as their item
 --> src/languages/language_mozjs.rs:3:35
  |
3 | #[derive(Clone, Debug, PartialEq, FromPrimitive)]
  |                                   ^------------
  |                                   |
  |                                   `FromPrimitive` is not local
  |                                   move the `impl` block outside of this constant `_IMPL_NUM_FromPrimitive_FOR_Mozjs`
4 | pub enum Mozjs {
  |          ----- `Mozjs` is not local
  |
  = note: the derive macro `FromPrimitive` defines the non-local `impl`, and may need to be changed
  = note: the derive macro `FromPrimitive` may come from an old version of the `num_derive` crate, try updating your dependency with `cargo update -p num_derive`
  = note: an `impl` is never scoped, even when it is nested inside an item, as it may impact type checking outside of that item, which can be the case if neither the trait or the self type are at the same nesting level as the `impl`
  = note: items in an anonymous const item (`const _: () = { ... }`) are treated as in the same scope as the anonymous const's declaration for the purpose of this lint
  = note: this warning originates in the derive macro `FromPrimitive` (in Nightly builds, run with -Z macro-backtrace for more info)

warning: non-local `impl` definition, `impl` blocks should be written at the same level as their item
 --> src/languages/language_javascript.rs:3:35
  |
3 | #[derive(Clone, Debug, PartialEq, FromPrimitive)]
  |                                   ^------------
  |                                   |
  |                                   `FromPrimitive` is not local
  |                                   move the `impl` block outside of this constant `_IMPL_NUM_FromPrimitive_FOR_Javascript`
4 | pub enum Javascript {
  |          ---------- `Javascript` is not local
  |
  = note: the derive macro `FromPrimitive` defines the non-local `impl`, and may need to be changed
  = note: the derive macro `FromPrimitive` may come from an old version of the `num_derive` crate, try updating your dependency with `cargo update -p num_derive`
  = note: an `impl` is never scoped, even when it is nested inside an item, as it may impact type checking outside of that item, which can be the case if neither the trait or the self type are at the same nesting level as the `impl`
  = note: items in an anonymous const item (`const _: () = { ... }`) are treated as in the same scope as the anonymous const's declaration for the purpose of this lint
  = note: this warning originates in the derive macro `FromPrimitive` (in Nightly builds, run with -Z macro-backtrace for more info)

warning: non-local `impl` definition, `impl` blocks should be written at the same level as their item
 --> src/languages/language_python.rs:3:35
  |
3 | #[derive(Clone, Debug, PartialEq, FromPrimitive)]
  |                                   ^------------
  |                                   |
  |                                   `FromPrimitive` is not local
  |                                   move the `impl` block outside of this constant `_IMPL_NUM_FromPrimitive_FOR_Python`
4 | pub enum Python {
  |          ------ `Python` is not local
  |
  = note: the derive macro `FromPrimitive` defines the non-local `impl`, and may need to be changed
  = note: the derive macro `FromPrimitive` may come from an old version of the `num_derive` crate, try updating your dependency with `cargo update -p num_derive`
  = note: an `impl` is never scoped, even when it is nested inside an item, as it may impact type checking outside of that item, which can be the case if neither the trait or the self type are at the same nesting level as the `impl`
  = note: items in an anonymous const item (`const _: () = { ... }`) are treated as in the same scope as the anonymous const's declaration for the purpose of this lint
  = note: this warning originates in the derive macro `FromPrimitive` (in Nightly builds, run with -Z macro-backtrace for more info)

warning: non-local `impl` definition, `impl` blocks should be written at the same level as their item
 --> src/languages/language_rust.rs:3:35
  |
3 | #[derive(Clone, Debug, PartialEq, FromPrimitive)]
  |                                   ^------------
  |                                   |
  |                                   `FromPrimitive` is not local
  |                                   move the `impl` block outside of this constant `_IMPL_NUM_FromPrimitive_FOR_Rust`
4 | pub enum Rust {
  |          ---- `Rust` is not local
  |
  = note: the derive macro `FromPrimitive` defines the non-local `impl`, and may need to be changed
  = note: the derive macro `FromPrimitive` may come from an old version of the `num_derive` crate, try updating your dependency with `cargo update -p num_derive`
  = note: an `impl` is never scoped, even when it is nested inside an item, as it may impact type checking outside of that item, which can be the case if neither the trait or the self type are at the same nesting level as the `impl`
  = note: items in an anonymous const item (`const _: () = { ... }`) are treated as in the same scope as the anonymous const's declaration for the purpose of this lint
  = note: this warning originates in the derive macro `FromPrimitive` (in Nightly builds, run with -Z macro-backtrace for more info)

warning: non-local `impl` definition, `impl` blocks should be written at the same level as their item
 --> src/languages/language_tsx.rs:3:35
  |
3 | #[derive(Clone, Debug, PartialEq, FromPrimitive)]
  |                                   ^------------
  |                                   |
  |                                   `FromPrimitive` is not local
  |                                   move the `impl` block outside of this constant `_IMPL_NUM_FromPrimitive_FOR_Tsx`
4 | pub enum Tsx {
  |          --- `Tsx` is not local
  |
  = note: the derive macro `FromPrimitive` defines the non-local `impl`, and may need to be changed
  = note: the derive macro `FromPrimitive` may come from an old version of the `num_derive` crate, try updating your dependency with `cargo update -p num_derive`
  = note: an `impl` is never scoped, even when it is nested inside an item, as it may impact type checking outside of that item, which can be the case if neither the trait or the self type are at the same nesting level as the `impl`
  = note: items in an anonymous const item (`const _: () = { ... }`) are treated as in the same scope as the anonymous const's declaration for the purpose of this lint
  = note: this warning originates in the derive macro `FromPrimitive` (in Nightly builds, run with -Z macro-backtrace for more info)

warning: non-local `impl` definition, `impl` blocks should be written at the same level as their item
 --> src/languages/language_typescript.rs:3:35
  |
3 | #[derive(Clone, Debug, PartialEq, FromPrimitive)]
  |                                   ^------------
  |                                   |
  |                                   `FromPrimitive` is not local
  |                                   move the `impl` block outside of this constant `_IMPL_NUM_FromPrimitive_FOR_Typescript`
4 | pub enum Typescript {
  |          ---------- `Typescript` is not local
  |
  = note: the derive macro `FromPrimitive` defines the non-local `impl`, and may need to be changed
  = note: the derive macro `FromPrimitive` may come from an old version of the `num_derive` crate, try updating your dependency with `cargo update -p num_derive`
  = note: an `impl` is never scoped, even when it is nested inside an item, as it may impact type checking outside of that item, which can be the case if neither the trait or the self type are at the same nesting level as the `impl`
  = note: items in an anonymous const item (`const _: () = { ... }`) are treated as in the same scope as the anonymous const's declaration for the purpose of this lint
  = note: this warning originates in the derive macro `FromPrimitive` (in Nightly builds, run with -Z macro-backtrace for more info)

warning: non-local `impl` definition, `impl` blocks should be written at the same level as their item
 --> src/languages/language_preproc.rs:3:35
  |
3 | #[derive(Clone, Debug, PartialEq, FromPrimitive)]
  |                                   ^------------
  |                                   |
  |                                   `FromPrimitive` is not local
  |                                   move the `impl` block outside of this constant `_IMPL_NUM_FromPrimitive_FOR_Preproc`
4 | pub enum Preproc {
  |          ------- `Preproc` is not local
  |
  = note: the derive macro `FromPrimitive` defines the non-local `impl`, and may need to be changed
  = note: the derive macro `FromPrimitive` may come from an old version of the `num_derive` crate, try updating your dependency with `cargo update -p num_derive`
  = note: an `impl` is never scoped, even when it is nested inside an item, as it may impact type checking outside of that item, which can be the case if neither the trait or the self type are at the same nesting level as the `impl`
  = note: items in an anonymous const item (`const _: () = { ... }`) are treated as in the same scope as the anonymous const's declaration for the purpose of this lint
  = note: this warning originates in the derive macro `FromPrimitive` (in Nightly builds, run with -Z macro-backtrace for more info)

warning: hiding a lifetime that's elided elsewhere is confusing
  --> src/traits.rs:62:17
   |
62 |     fn get_root(&self) -> Node;
   |                 ^^^^^     ---- the same lifetime is hidden here
   |                 |
   |                 the lifetime is elided here
   |
   = help: the same lifetime is referred to in inconsistent ways, making the signature confusing
   = note: `#[warn(mismatched_lifetime_syntaxes)]` on by default
help: use `'_` for type paths
   |
62 |     fn get_root(&self) -> Node<'_>;
   |                               ++++

warning: hiding a lifetime that's elided elsewhere is confusing
   --> src/parser.rs:110:17
    |
110 |     fn get_root(&self) -> Node {
    |                 ^^^^^     ---- the same lifetime is hidden here
    |                 |
    |                 the lifetime is elided here
    |
    = help: the same lifetime is referred to in inconsistent ways, making the signature confusing
help: use `'_` for type paths
    |
110 |     fn get_root(&self) -> Node<'_> {
    |                               ++++

Some errors have detailed explanations: E0046, E0422, E0560.
For more information about an error, try `rustc --explain E0046`.
error: could not compile `rust-code-analysis` (lib test) due to 13 previous errors
warning: build failed, waiting for other jobs to finish...
warning: `rust-code-analysis` (lib) generated 13 warnings
