<Filename>src/parser.rs</Filename>
<imports>
use super::parse_lcov;
use std::fs::File;
use std::io::Read;
</imports>
<Rust>
#[test]
fn test_lcov_parser_ignoring_invalid_FN_record() {
    let mut f = File::open("./test/invalid_FN_record.info").expect("Failed to open lcov file");
    let mut buf = Vec::new();
    f.read_to_end(&mut buf).unwrap();
    let results = parse_lcov(buf, true, true).unwrap();
    assert_eq!(results.len(), 1);

    let (ref source_name, ref result) = results[0];
    assert!(source_name.ends_with("/example.js"));
    assert_eq!(
        result.lines,
        [
            (1, 1),
            (2, 1),
            (3, 1),
            (5, 2),
            (6, 1),
            (7, 1),
            (8, 2),
            (9, 1),
            (10, 2),
            (11, 1),
            (15, 6),
            (16, 6),
            (17, 2),
            (19, 6),
            (20, 12),
            (21, 6),
            (22, 6),
            (23, 6),
            (24, 6),
            (25, 6),
            (26, 6),
            (27, 6),
            (28, 6),
            (29, 6),
            (31, 0),
            (32, 0),
            (34, 6),
            (37, 8),
            (38, 6),
            (39, 6),
            (40, 12),
            (41, 6),
        ]
        .iter()
        .cloned()
        .collect()
    );
}
</Rust>