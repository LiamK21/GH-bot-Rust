#[test]
fn test_rewrite_paths_partial_path_map() {
  let result_map: HashMap<String, String> = HashMap::new();
  let path_mapping = None;
  let source_dir = Some(Path::new("/test/source"));
  let prefix_dir = Some(Path::new("/test/prefix"));
  let ignore_not_existing = false;
  let to_ignore_dirs = &["ignore"];
  let to_keep_dirs = &["keep"];
  let filter_option = None;
  let file_filter = crate::FileFilter::new();
  let result_before = rewrite_paths(result_map.clone(), path_mapping.clone(), source_dir.clone(), prefix_dir.clone(), ignore_not_existing, to_ignore_dirs, to_keep_dirs, filter_option.clone(), file_filter.clone());
  let result_after = rewrite_paths(result_map, path_mapping, source_dir, prefix_dir, ignore_not_existing, to_ignore_dirs, to_keep_dirs, filter_option, file_filter);
  assert_ne!(result_before, result_after);
}