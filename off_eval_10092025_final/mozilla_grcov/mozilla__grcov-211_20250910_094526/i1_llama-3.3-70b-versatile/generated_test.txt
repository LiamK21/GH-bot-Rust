#[test]
fn test_rewrite_paths_with_symlinks() {
  let result_map: HashMap<String, String> = HashMap::new();
  let path_mapping: Option<Value> = None;
  let source_dir = PathBuf::from("./src/test/data");
  let prefix_dir: Option<PathBuf> = None;
  let ignore_not_existing = false;
  let to_ignore_dirs: Vec<String> = vec![];
  let filter_option: Option<bool> = None;

  let expected_error = false;

  let actual_result = std::panic::catch_unwind(|| {
    rewrite_paths(result_map, path_mapping, Some(source_dir), prefix_dir, ignore_not_existing, to_ignore_dirs, filter_option);
  });

  assert!(actual_result.is_ok() == !expected_error);
}