<Filename> path_rewriting.rs </Filename>
<imports> 
use super::rewrite_paths;
use std::path::PathBuf;
use std::collections::HashMap;
</imports>
<Rust>
#[test]
fn test_rewrite_paths_for_same_filename() {
  let mut result_map: HashMap<String, ()> = HashMap::new();
  result_map.insert("lib.rs".to_string(), ());
  result_map.insert("lib.rs".to_string(), ());
  let results = rewrite_paths(
    result_map,
    None,
    Some(PathBuf::from("src")),
    None,
    true,
    Vec::new(),
    None,
  );
  let mut results: Vec<(PathBuf, PathBuf, ())> = results.collect();
  assert!(results.len() == 2);
  let (abs_path1, _, _) = &results[0];
  let (abs_path2, _, _) = &results[1];
  assert_ne!(abs_path1, abs_path2);
}
</Rust>