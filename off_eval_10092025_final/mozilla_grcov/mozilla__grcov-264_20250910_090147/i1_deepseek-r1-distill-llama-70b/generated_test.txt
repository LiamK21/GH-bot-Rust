#[test]
fn test_rewrite_paths_for_java_and_rust() {
    let mut result_map: CovResultMap = HashMap::new();
    result_map.insert("main.java".to_string(), CovResult::default());
    result_map.insert("main.rs".to_string(), CovResult::default());

    let results = rewrite_paths(
        result_map,
        None,
        Some(PathBuf::from(".").canonicalize().unwrap()),
        None,
        true,
        Vec::new(),
        None,
    );

    let mut results: Vec<(PathBuf, PathBuf, CovResult)> = results.collect();
    assert!(results.len() == 1);

    let (abs_path, rel_path, result) = results.remove(0);
    assert!(abs_path.is_absolute());
    assert!(abs_path.ends_with("main.java"));
    assert_eq!(rel_path, PathBuf::from("main.java"));
    assert_eq!(result, CovResult::default());
}