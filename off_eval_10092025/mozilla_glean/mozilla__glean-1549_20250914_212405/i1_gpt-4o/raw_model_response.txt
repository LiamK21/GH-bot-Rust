<Filename>glean-core/rlb/src/private/event.rs</Filename>
<imports>
use super::EventMetric;
use std::collections::HashMap;
use std::sync::Arc;
use crate::traits;
use crate::launch_with_glean;
</imports>
<Rust>
#[test]
fn test_record_with_time() {
    // Initialize required variables
    let event_metric = EventMetric::<traits::ExtraKeys>::new(Arc::new(crate::private::Metric::new()));
    let timestamp = 1234567890;
    let mut extra = HashMap::new();
    extra.insert(1, String::from("value"));

    // Define expected behavior
    let expected_timestamp = timestamp;
    let expected_extra = extra.clone();

    // Generate actual behavior
    event_metric.record_with_time(timestamp, extra);

    // Compare expected with actual
    crate::launch_with_glean(|glean| {
        let recorded_event = glean.get_last_recorded_event();
        assert_eq!(recorded_event.timestamp, expected_timestamp);
        assert_eq!(recorded_event.extra, Some(expected_extra));
    });
}
</Rust>