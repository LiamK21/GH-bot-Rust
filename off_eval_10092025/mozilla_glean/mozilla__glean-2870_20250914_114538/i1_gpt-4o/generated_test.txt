#[test]
fn test_rkv_new_initializes_database() {
    let dir = tempfile::tempdir().unwrap();
    let path = dir.path().join("db");
    fs::create_dir_all(&path).unwrap();

    let result = rkv_new(&path);

    assert!(result.is_ok());
    let (rkv, load_state) = result.unwrap();
    assert!(matches!(load_state, rkv::RkvLoadState::Fresh));
    assert!(path.exists());
}