#[test]
fn test_ping_logging() {
  let upload_manager = PingUploadManager::new("/tmp/ping_test");
  upload_manager.enqueue_ping("doc1", "/tmp/ping_test/doc1", "Hello World".as_bytes().to_vec());
  while upload_manager.get_upload_task(false) == super::PingUploadTask::Wait {
    thread::sleep(Duration::from_millis(10));
  }
  let task = upload_manager.get_upload_task(true);
  match task {
    super::PingUploadTask::Upload(_) => assert!(true),
    _ => assert!(false),
  }
}