#[test]
fn test_rkv_new_logging() {
  let temp_dir = TempDir::new("test_rkv").unwrap();
  let path = temp_dir.path().join("test_rkv");
  fs::create_dir(&path).unwrap();
  let safebin = path.join("data.safe.bin");
  fs::File::create(&safebin).unwrap();
  let result = rkv_new(&path);
  match result {
    Err(rkv::StoreError::DatabaseCorrupted) => assert!(false, "Expected to try again after database corruption"),
    _ => ()
  }
  fs::remove_file(safebin).unwrap();
  let result = rkv_new(&path);
  match result {
    Ok(_) => (),
    _ => assert!(false, "Expected to succeed after retrying")
  }
}