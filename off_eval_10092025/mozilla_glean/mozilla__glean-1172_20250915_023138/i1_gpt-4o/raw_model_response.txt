<Filename>glean-core/src/metrics/custom_distribution.rs</Filename>
<imports>
use super::CustomDistributionMetric;
use crate::Glean;
use crate::CommonMetricData;
</imports>
<Rust>
#[test]
fn test_accumulate_samples_signed_should_not_record_when_upload_disabled() {
    let glean = Glean::new(None, false);
    let metric_data = CommonMetricData::new("category", "name", "test-storage");
    let custom_distribution = CustomDistributionMetric::new(metric_data);
    
    glean.set_upload_enabled(false);
    custom_distribution.accumulate_samples_signed(&glean, vec![1, 2, 3]);
    
    // Check that no data was recorded
    let recorded_data = glean.test_get_num_recorded_errors("category.name");
    assert_eq!(recorded_data, 0);
}
</Rust>