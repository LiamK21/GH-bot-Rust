#[test]
fn test_event_database_or_default() {
  let event_database = EventDatabase { event_stores: Arc::new(RwLock::new(HashMap::new())) };
  let meta = MockMeta { inner: MockInner { send_in_pings: vec!["test".to_string()] } };
  let mut db = event_database.event_stores.write().unwrap();
  event_database.update_event_stores(&meta);
  assert!(db.contains_key("test"));
}