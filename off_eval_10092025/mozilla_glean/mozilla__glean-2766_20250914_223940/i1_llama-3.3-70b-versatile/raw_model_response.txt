<Filename> glean-core/src/metrics/mod.rs </Filename>
<imports> 
use super::MetricType;
use crate::error_recording;
use crate::metrics::counter::CounterMetric;
use crate::metrics::MetricType;
</imports>
<Rust>
#[test]
fn test_recording_error() {
  let metric = CounterMetric::new("test_counter", "test_category");
  let error = crate::ErrorType::InvalidValue;
  let count: i32 = 1;
  metric.record_error(error, count);
  let meta = metric.meta().clone();
  let expected_count = 1;
  let actual_count = error_recording::get_error_count(&meta, error);
  assert_eq!(expected_count, actual_count);
}</Rust>