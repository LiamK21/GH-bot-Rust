#[test]
fn test_non_deletion_pings_are_not_uploaded_when_upload_disabled() {
  let upload_manager = PingUploadManager::no_policy("/tmp/data".into(), "Test");
  upload_manager.set_rate_limiter(60, 15);
  upload_manager.enqueue_ping(&(), &"123".to_string(), "path", "", None);
  thread::sleep(Duration::from_millis(100));
  assert_eq!(upload_manager.get_upload_task(&(), false), PingUploadTask::Done);
}