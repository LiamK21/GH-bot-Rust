#[test]
fn test_glean_initialize_for_subprocess_upload_disabled() {
    let config = Configuration {
        application_id: "test_app".into(),
        upload_enabled: false,
        data_path: "/tmp".into(),
        language_binding_name: "Rust".into(),
    };
    let config_ptr = &config as *const Configuration as *const _;

    let result = unsafe { glean_initialize_for_subprocess(config_ptr) };

    assert_eq!(result, 1);
}