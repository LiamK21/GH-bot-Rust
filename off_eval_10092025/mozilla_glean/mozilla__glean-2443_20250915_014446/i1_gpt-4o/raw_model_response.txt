<Filename>glean-core/src/lib_unit_tests.rs</Filename>
<imports>
use super::glean_set_metrics_enabled_config;
use super::glean_test_get_experiment_data;
use serde_json::json;
use crate::metrics::MetricsEnabledConfig;
</imports>
<Rust>
#[test]
fn test_metrics_enabled_config_inversion() {
    // Initialize Glean
    let glean = crate::new_glean(None, None, false, false, false, None, None).unwrap();

    // Set a configuration to enable the metrics
    let metrics_enabled_config = json!(
        {
            "category.string_metric": true,
            "category.labeled_string_metric": true,
        }
    )
    .to_string();
    glean_set_metrics_enabled_config(metrics_enabled_config);

    // Check if the metrics are enabled
    let experiment_data = glean_test_get_experiment_data("category.string_metric".to_string());
    assert!(experiment_data.is_some());

    let experiment_data = glean_test_get_experiment_data("category.labeled_string_metric".to_string());
    assert!(experiment_data.is_some());
}
</Rust>