<Filename>glean-core/rlb/src/lib.rs</Filename>
<imports>
use super::set_upload_enabled;
use std::sync::Mutex;
use std::collections::HashMap;
</imports>
<Rust>
#[test]
fn test_set_upload_enabled() {
    let enabled = true;
    let state = Mutex::new(HashMap::new());
    let expected = true;

    set_upload_enabled(enabled);

    let actual = state.lock().unwrap().get("upload_enabled").cloned().unwrap_or(false);
    assert_eq!(expected, actual);
}
</Rust>