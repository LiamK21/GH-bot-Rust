<Filename>glean-core/src/upload/request.rs</Filename>
<imports>
use super::PingRequest;
use serde_json::json;
</imports>
<Rust>
#[test]
fn test_ping_request_creation() {
    let document_id = "test_id";
    let path = "/test_path";
    let body = json!({"key": "value"});

    let request = PingRequest::new(document_id, path, body);

    let expected_headers = vec![
        ("Content-Type", "application/json"),
        ("Content-Encoding", "gzip"),
    ];

    for (key, value) in expected_headers {
        assert_eq!(request.headers.get(key).unwrap(), value);
    }

    assert!(request.headers.get("userAgent").is_none());
}
</Rust>