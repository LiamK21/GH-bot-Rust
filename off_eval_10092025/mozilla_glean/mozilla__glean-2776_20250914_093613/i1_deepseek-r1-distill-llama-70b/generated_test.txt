#[test]
fn test_event_extra_fields_do_not_include_glean_timestamp() {
    let tmpdir = new_glean(None, true);
    let metric = StringMetric::new(
        "test_metric",
        "test_category",
        None,
        HashMap::new(),
    );
    metric.set_sync(&tmpdir, "test_value");

    let events = EventMetric::get("test_metric", "test_category")
        .unwrap()
        .test_get_value()
        .unwrap();

    for event in events {
        assert!(!event.extra.iter().any(|(k, _)| k == "glean_timestamp"));
    }
}