#[test]
fn test_validate_dynamic_label() {
  let glean = Glean::new();
  let meta = CommonMetricData { dynamic_label: Some("label".to_string()), ..Default::default() };
  let base_identifier = "base_identifier";
  let result_before_patch = validate_dynamic_label(&glean, &meta, base_identifier, &meta.dynamic_label.as_ref().unwrap());
  let expected_result = format!("{}__{}", base_identifier, meta.dynamic_label.as_ref().unwrap());
  assert_eq!(expected_result, result_before_patch);
}