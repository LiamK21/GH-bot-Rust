<Filename>glean-core/rlb/src/lib.rs</Filename>
<imports>
use super::initialize;
use super::destroy_glean;
use super::test_reset_glean;
use super::join_init;
use crate::Configuration;
use crate::ClientInfoMetrics;
</imports>
<Rust>
#[test]
fn test_destroy_glean_before_init_complete() {
    let cfg = Configuration {
        data_path: "test_path".into(),
        application_id: "test_app".into(),
        upload_enabled: true,
        max_events: None,
        delay_ping_lifetime_io: false,
        channel: None,
        server_endpoint: None,
        user_agent: None,
        rate_limit: None,
        max_upload_bytes_per_second: None,
    };
    let client_info = ClientInfoMetrics {
        app_build: "test_build".into(),
        app_display_version: "test_version".into(),
        app_channel: "test_channel".into(),
        os: "test_os".into(),
        os_version: "test_os_version".into(),
        architecture: "test_arch".into(),
    };

    initialize(cfg.clone(), client_info.clone());
    destroy_glean(true);
    test_reset_glean(cfg, client_info);
    join_init();
}
</Rust>