#[test]
fn test_gzip_ping_upload() {
    // Initialize required variables
    let document_id = CString::new("test_document_id").unwrap();
    let path = CString::new("/test/path").unwrap();
    let body_content = vec![1, 2, 3, 4, 5]; // Example gzipped content
    let headers = CString::new("{\"Content-Encoding\": \"gzip\"}").unwrap();

    let request = PingUploadTask::Upload {
        document_id: document_id.to_str().unwrap().to_string(),
        path: path.to_str().unwrap().to_string(),
        body: body_content.clone(),
        headers: serde_json::from_str(headers.to_str().unwrap()).unwrap(),
    };

    // Define expected variable
    let expected_body = ByteBuffer::from_vec(body_content);

    // Generate actual variables
    let ffi_task: FfiPingUploadTask = request.into();

    if let FfiPingUploadTask::Upload { body, .. } = ffi_task {
        // Compare expected with actual
        assert_eq!(expected_body, body);
    } else {
        panic!("Expected FfiPingUploadTask::Upload variant");
    }
}