#[test]
fn test_output_option() {
    // Test with output to file
    let output_file = PathBuf::from("test_output.lcov");
    let result = Command::new("target/debug/grcov")
        .arg("-t")
        .arg("lcov")
        .arg("-o")
        .arg(&output_file)
        .arg("tests/fixtures/simple")
        .output()
        .expect("failed to execute process");

    // Check if output file exists
    assert!(output_file.exists());

    // Test with output to stdout
    let result_stdout = Command::new("target/debug/grcov")
        .arg("-t")
        .arg("lcov")
        .arg("-o")
        .arg("-")
        .arg("tests/fixtures/simple")
        .output()
        .expect("failed to execute process");

    // Check if stdout is captured correctly
    assert!(result_stdout.stdout.is_ok());

    // Clean up the output file
    fs::remove_file(&output_file).unwrap();
}