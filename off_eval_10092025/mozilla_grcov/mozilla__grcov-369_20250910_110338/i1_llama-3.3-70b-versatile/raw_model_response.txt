<Filename> src/parser.rs </Filename>
<imports> 
use super::parse_lcov;
use std::io::Cursor;
use std::fs::File;
use std::io::BufReader;
</imports>
<Rust>
#[test]
fn test_parse_lcov_duplicate_fn() {
  let file = File::open("./test/duplicate_fn_fnda.info").expect("Failed to open lcov file");
  let file_reader = BufReader::new(&file);
  let results = parse_lcov(file_reader, true).unwrap();
  assert_eq!(results.len(), 1);
  let (ref _source_name, ref result) = results[0];
  assert!(result.functions.contains_key("top-level"));
  let func = result.functions.get("top-level").unwrap();
  assert_eq!(func.start, 1);
  assert_eq!(func.executed, true);
}</Rust>