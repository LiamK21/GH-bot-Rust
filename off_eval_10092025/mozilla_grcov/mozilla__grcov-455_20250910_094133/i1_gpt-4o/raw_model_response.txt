<Filename>src/path_rewriting.rs</Filename>
<imports>
use super::rewrite_paths;
use rustc_hash::FxHashMap;
use std::path::PathBuf;
</imports>
<Rust>
#[test]
fn test_rewrite_paths_keep_only_functionality() {
    let mut result_map: FxHashMap<String, ()> = FxHashMap::default();
    result_map.insert("main.cpp".to_string(), ());
    result_map.insert("mydir/prova.h".to_string(), ());
    let results: Vec<_> = rewrite_paths(
        result_map,
        None,
        None,
        None,
        false,
        &mut Vec::new(),
        &vec!["mydir/*"],
        None,
        Default::default(),
    ).collect();
    
    assert_eq!(results.len(), 1);
    let (abs_path, rel_path, _) = &results[0];
    assert_eq!(abs_path, &PathBuf::from("mydir/prova.h"));
    assert_eq!(rel_path, &PathBuf::from("mydir/prova.h"));
}
</Rust>