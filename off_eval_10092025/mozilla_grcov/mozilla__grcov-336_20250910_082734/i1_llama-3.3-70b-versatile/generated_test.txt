#[test]
fn test_parallel_mode() {
  let results = vec![];
  let repo_token = "";
  let service_name = "";
  let service_number = "";
  let service_job_number = "";
  let commit_sha = "";
  let with_function_info = false;
  let output_file: Option<&str> = None;
  let vcs_branch = "";
  let parallel = true;

  let mut expected_json = HashMap::new();
  expected_json.insert("parallel", "true");

  let actual_json = output_coveralls(
    results.into_iter(),
    repo_token,
    service_name,
    service_number,
    service_job_number,
    commit_sha,
    with_function_info,
    output_file,
    vcs_branch,
    parallel,
  );

  // Mocking the json output to compare
  let mut expected = String::new();
  expected.push_str("{");
  expected.push_str("\"parallel\":");
  expected.push_str("true");
  expected.push_str("}");

  assert!(actual_json.is_ok());
}