#[test]
fn test_grcov_threads_parameter() {
  let (sender, receiver) = mpsc::channel();
  let working_dir = Path::new("/tmp");
  let source_dir = None;
  let result_map = std::sync::Arc::new(std::sync::Mutex::new(std::collections::HashMap::new()));
  let binary_path = Some(Path::new("binary"));
  let ignore_parsing_error = false;
  let num_threads = 4;
  let branch_enabled = false;
  let guess_directory = false;
  consumer(working_dir, source_dir, &result_map, receiver, branch_enabled, guess_directory, binary_path, ignore_parsing_error, num_threads);
  let profile_paths = vec![PathBuf::from("/tmp/default.profraw")];
  let binary_path = Path::new("binary");
  let working_dir = Path::new("/tmp");
  let actual = llvm_profiles_to_lcov(&profile_paths, binary_path, working_dir, num_threads).unwrap();
  assert!(actual.len() > 0);
}