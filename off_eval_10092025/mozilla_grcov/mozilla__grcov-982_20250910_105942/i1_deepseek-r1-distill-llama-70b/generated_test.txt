#[test]
fn test_output_html_creates_subdirectories() {
    let temp_dir = std::env::temp_dir();
    let output_dir = temp_dir.join("grcov_test");
    let results = Vec::new(); // Empty results for testing

    // Clean up any existing test directory
    if output_dir.exists() {
        std::fs::remove_dir_all(&output_dir).unwrap();
    }

    // Test with non-existing subdirectory
    let result = output_html(
        &results,
        Some(&output_dir.join("subpath")),
        1,
        false,
        None,
    );

    assert!(output_dir.join("subpath").exists(), "Output directory should be created");
    assert!(output_dir.join("subpath").join("index.html").exists(), "Index file should be created");
}