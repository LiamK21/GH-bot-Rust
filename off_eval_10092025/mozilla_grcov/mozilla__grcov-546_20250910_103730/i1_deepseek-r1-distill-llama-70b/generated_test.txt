#[cfg(unix)]
#[test]
fn test_guess_abs_path_subfolder_same_as_root() {
    let prefix_dir = PathBuf::from("memflow");
    let path = PathBuf::from("memflow/main.rs");
    let result = guess_abs_path(&prefix_dir, &path);
    assert!(result.is_absolute());
    assert_eq!(result, PathBuf::from("/memflow/memflow/main.rs"));
}

#[cfg(windows)]
#[test]
fn test_guess_abs_path_subfolder_same_as_root() {
    let prefix_dir = PathBuf::from("memflow");
    let path = PathBuf::from("memflow\\main.rs");
    let result = guess_abs_path(&prefix_dir, &path);
    assert!(result.is_absolute());
    assert_eq!(result, PathBuf::from("C:\\memflow\\memflow\\main.rs"));
}