<Filename>src/output.rs</Filename>
<imports>
use super::get_target_output_writable;
use std::fs;
use std::io::Write;
use std::path::Path;
</imports>
<Rust>
#[test]
fn test_error_message_when_directory_does_not_exist() {
    let output_file = Some("./non_existent_dir/coverage.info");
    let result = std::panic::catch_unwind(|| {
        let mut writer = get_target_output_writable(output_file);
        writer.write_all(b"test").unwrap();
    });
    assert!(result.is_err());
    let error_message = result.unwrap_err().downcast_ref::<String>().unwrap();
    assert!(error_message.contains("Cannot create ./non_existent_dir/coverage.info to dump coverage data, as ./non_existent_dir doesn't exist"));
}
</Rust>