#[test]
fn test_lcov_output() {
  let mut writer = Cursor::new(Vec::new());
  let result = (
    vec![("path", 1, 1, 1, 1)],
    vec![("path", 1)],
    vec![("path", 1, 1, true)],
    vec![(1, 1), (2, 2)]
  );
  let results = vec![result];
  output_lcov(results.into_iter());
  let output = str::from_utf8(writer.get_ref()).unwrap();
  assert!(output.contains("BRF:1"));
  assert!(output.contains("BRH:1"));
  assert!(output.contains("BRDA:1,0,1,1"));
}