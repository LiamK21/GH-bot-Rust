#[test]
fn test_rewrite_paths_ignore_multiple_directories() {
  let mut result_map: std::collections::HashMap<String, ()> = std::collections::HashMap::new();
  result_map.insert("main.cpp".to_string(), ());
  result_map.insert("mydir/prova.h".to_string(), ());
  result_map.insert("mydir2/prova.h".to_string(), ());
  let results = rewrite_paths(result_map, None, "", "", false, false, vec!["mydir".to_string(), "mydir2".to_string()]);
  let mut count = 0;
  for (_, _, _) in results {
    count += 1;
  }
  assert_eq!(count, 1);
}