#[test]
fn test_nonzero_exit_on_thread_failure() {
    let result = Command::new("target/debug/grcov")
        .arg("--invalid-option") // This should cause the program to fail
        .output()
        .unwrap();

    assert_ne!(0, result.status.code().unwrap());
}