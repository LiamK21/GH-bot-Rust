#[test]
fn test_gcov_fails_and_outputs_stderr() {
  // Create a temporary directory for testing
  let temp_dir = PathBuf::from(env::temp_dir()).join("test_gcov");
  fs::create_dir_all(&temp_dir).expect("Failed to create temporary directory");

  // Create a non-existent gcno file to simulate gcov failure
  let gcno_path = temp_dir.join("non_existent.gcno");

  // Run gcov with the non-existent gcno file
  let result = std::panic::catch_unwind(|| {
    run_gcov(&gcno_path, false, &temp_dir);
  });

  // Check if the test panicked with the expected error message
  assert!(result.is_err());
}