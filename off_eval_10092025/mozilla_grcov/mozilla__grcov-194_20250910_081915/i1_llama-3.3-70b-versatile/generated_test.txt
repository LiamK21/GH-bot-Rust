#[test]
fn test_rewrite_paths_with_mapping() {
  let result_map: HashMap<String, String> = HashMap::new();
  let path_mapping = Some(serde_json::json!({
    "path": "new_path"
  }));
  let source_dir = Some(PathBuf::from("source_dir"));
  let prefix_dir = Some(PathBuf::from("prefix_dir"));
  let ignore_not_existing = false;
  let to_ignore_dirs = vec![];
  let filter_option = None;

  let expected = vec![];
  let actual: Vec<_> = rewrite_paths(
    result_map,
    path_mapping,
    source_dir,
    prefix_dir,
    ignore_not_existing,
    to_ignore_dirs,
    filter_option,
  ).collect();
  assert_eq!(expected, actual);
}