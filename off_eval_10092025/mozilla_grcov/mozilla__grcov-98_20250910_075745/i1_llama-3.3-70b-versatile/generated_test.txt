#[test]
fn test_dir_producer_ignore_orphan_gcno() {
  let queue: Arc<WorkQueue> = Arc::new(super::MsQueue::new());
  let directories = vec![&"test/only_one_gcda".to_string()];
  let expected = vec![
    (super::ItemFormat::GCNO, true, "test/only_one_gcda/main.gcno", true),
  ];
  dir_producer(directories, &queue, true);
  let mut actual: Vec<(super::ItemFormat, bool, &str, bool)> = Vec::new();
  while let Some(item) = queue.try_pop() {
    if let Some(work_item) = item {
      actual.push((work_item.format, true, work_item.item.path().file_name().unwrap().to_str().unwrap(), true));
    }
  }
  assert_eq!(expected, actual);
}