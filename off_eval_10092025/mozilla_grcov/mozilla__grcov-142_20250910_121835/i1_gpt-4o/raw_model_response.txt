<Filename>src/lib.rs</Filename>
<imports>
use super::producer;
use std::sync::Arc;
use tempdir::TempDir;
use crate::WorkQueue;
use crate::MsQueue;
use crate::check_produced;
</imports>
<Rust>
#[test]
fn test_producer_with_jacoco_xml() {
    let queue: Arc<WorkQueue> = Arc::new(MsQueue::new());

    let tmp_dir = TempDir::new("grcov").expect("Failed to create temporary directory");
    let tmp_path = tmp_dir.path().to_owned();
    producer(
        &tmp_path,
        &[
            "test/jacoco1.zip".to_string(),
            "test/jacoco2.zip".to_string(),
        ],
        &queue,
        false,
        false,
    );

    let expected = vec![
        (
            ItemFormat::JACOCO_XML,
            false,
            "jacoco/basic-jacoco.xml",
            true,
        ),
        (ItemFormat::JACOCO_XML, false, "inner-classes.xml", true),
    ];

    check_produced(tmp_path, &queue, expected);
}
</Rust>