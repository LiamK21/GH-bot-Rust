#[test]
fn test_url_queue_processing() {
    let mut urls = VecDeque::new();
    let test_url = Url::parse("http://example.com/test1").unwrap();
    let another_url = Url::parse("http://example.com/test2").unwrap();
    urls.push_back(test_url);
    urls.push_back(another_url);

    let result = handle_test(
        &mut Args::default(),
        &UdpSocket::bind("127.0.0.1:0").unwrap(),
        &Poll::new().unwrap(),
        SocketAddr::new("127.0.0.1".parse().unwrap(), 0),
        SocketAddr::new("127.0.0.1".parse().unwrap(), 0),
        "example.com",
        urls,
        None,
    );

    assert!(result.is_ok());
}