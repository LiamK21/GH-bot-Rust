#[test]
fn test_client_control_stream_creation_fails_when_max_uni_stream_is_zero() {
  let mut client = default_http3_client();
  let mut server = TestServer::new();
  server.set_max_uni_stream(0);
  let out = handshake_only(&mut client, &mut server);
  client.process(out.dgram(), now());
  let expected_error = Error::StreamLimitError;
  let actual_error = client.events().find(|e| matches!(e, Http3ClientEvent::Error(ref err) if err == &expected_error));
  assert!(actual_error.is_some());
}