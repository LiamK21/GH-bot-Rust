#[test]
fn test_pto_period_inner_nonzero_for_high_counts() {
    // Mock rtt and pn_space to return a base PTO value
    let mock_rtt = MockRtt {};
    let pn_space = 1; // arbitrary value

    // Test cases
    let test_cases = [
        (29, None),  // Should work as before
        (30, Some(Duration::from_secs(3600))),
        (31, Some(Duration::from_secs(3600))),
    ];

    for (pto_count, expected) in &test_cases {
        let actual = pto_period_inner(
            &mock_rtt,
            pn_space,
            *pto_count as u32,
        );
        assert!(
            actual != Duration::from_secs(0),
            "pto_count {} returned 0ns",
            pto_count
        );
    }
}

struct MockRtt {}
impl MockRtt {
    fn pto(&self, _pn_space: u32) -> Option<u32> {
        Some(1000) // Return a fixed PTO value for testing
    }
}