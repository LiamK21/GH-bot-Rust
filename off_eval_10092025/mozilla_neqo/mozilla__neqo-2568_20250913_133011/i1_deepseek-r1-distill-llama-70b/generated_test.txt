#[test]
fn test_ecn_count_behavior() {
    let mut counts = [0usize; 4]; // not_ect, ect1, ect0, ce
    let mut count = Count::from_array(counts);

    // All counts are zero
    assert!(count.is_empty());
    assert!(!count.is_some());

    // Set Not-ECT to 1
    counts[0] = 1;
    count = Count::from_array(counts.clone());
    assert!(!count.is_empty());
    assert!(!count.is_some());

    // Set ECT0 to 1
    counts[2] = 1;
    count = Count::from_array(counts.clone());
    assert!(count.is_some());
    assert!(!count.is_empty());

    // Set ECT1 to 1
    counts[1] = 1;
    count = Count::from_array(counts.clone());
    assert!(count.is_some());
    assert!(!count.is_empty());

    // Set CE to 1
    counts[3] = 1;
    count = Count::from_array(counts.clone());
    assert!(count.is_some());
    assert!(!count.is_empty());

    // Reset all to zero
    counts = [0; 4];
    count = Count::from_array(counts);
    assert!(count.is_empty());
    assert!(!count.is_some());
}