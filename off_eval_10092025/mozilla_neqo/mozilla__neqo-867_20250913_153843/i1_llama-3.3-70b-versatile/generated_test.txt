#[test]
fn test_recv_overlap_end() {
  let mut s = RxStreamOrderer::default();
  let r1 = 10..20;
  let data1 = vec![0; usize::try_from(r1.end - r1.start).unwrap()];
  s.inbound_frame(r1.start, data1).unwrap();
  let r2 = 12..15;
  let data2 = vec![0; usize::try_from(r2.end - r2.start).unwrap()];
  s.inbound_frame(r2.start, data2).unwrap();
  let mut buf = vec![0xff; 100];
  let mut total_recvd = 0;
  loop {
    let recvd = s.read(&mut buf);
    total_recvd += recvd;
    if recvd == 0 {
      assert_eq!(total_recvd, 20);
      break;
    }
  }
}