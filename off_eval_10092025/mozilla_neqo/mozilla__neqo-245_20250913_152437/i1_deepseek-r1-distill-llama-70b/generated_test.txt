#[test]
fn test_pmtu_calculation() {
    let mut conn = Connection::default();
    let ipv4_path = Box::new(IpAddr::V4(Ipv4Addr::LOCALHOST));
    let ipv6_path = Box::new(IpAddr::V6(Ipv6Addr::LOCALHOST));

    // Test IPv4
    conn.paths = Some(ipv4_path);
    assert_eq!(conn.pmtu(), 1252);

    // Test IPv6
    conn.paths = Some(ipv6_path);
    assert_eq!(conn.pmtu(), 1232);

    // Test no path
    conn.paths = None;
    assert_eq!(conn.pmtu(), 1280);
}