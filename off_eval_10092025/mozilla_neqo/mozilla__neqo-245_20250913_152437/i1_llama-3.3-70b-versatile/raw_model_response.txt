<Filename>neqo-transport/src/connection.rs</Filename>
<imports>
use super::Connection;
use super::Role;
use super::State;
use std::net::IpAddr;
use std::net::Ipv4Addr;
use std::net::Ipv6Addr;
</imports>
<Rust>
#[test]
fn test_pmtu_discovery() {
  let mut connection = Connection{
    paths: Some(IpAddr::V4(Ipv4Addr::new(127, 0, 0, 1))),
    connection_ids: std::collections::HashMap::new(),
    send_streams: super::SendStreams::default(),
    recv_streams: super::RecvStreams::default(),
    flow_mgr: std::rc::Rc::new(std::cell::RefCell::new(super::FlowMgr::default())),
    loss_recovery: super::LossRecovery::new(),
    loss_recovery_state: super::LossRecoveryState::default(),
    role: Role::Client,
    state: State::Init,
    tps: std::rc::Rc::new(std::cell::RefCell::new(super::TransportParams::default())),
  };
  let expected_pmtu = 1252;
  let actual_pmtu = connection.pmtu();
  assert_eq!(expected_pmtu, actual_pmtu);
}
</Rust>