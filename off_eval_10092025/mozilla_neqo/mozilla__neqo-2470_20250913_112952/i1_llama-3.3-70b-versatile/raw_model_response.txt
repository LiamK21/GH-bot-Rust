<Filename> neqo-bin/src/udp.rs </Filename>
<imports> 
use super::Socket;
use std::net::SocketAddr;
use std::net::UdpSocket;
use std::io;
</imports>
<Rust>
#[test]
fn test_socket_buffer_size() {
  let addr: SocketAddr = "127.0.0.1:34254".parse().unwrap();
  let socket = Socket::bind(addr).unwrap();
  let udp_socket = UdpSocket::bind(addr).unwrap();
  let default_send_buffer_size = udp_socket.get_send_buffer_size().unwrap().0;
  let default_recv_buffer_size = udp_socket.get_recv_buffer_size().unwrap().0;
  assert!(default_send_buffer_size < 1048576, "Default send buffer size is not less than 1MB");
  assert!(default_recv_buffer_size < 1048576, "Default receive buffer size is not less than 1MB");
  let socket_state = udp_socket.into_std().unwrap();
  let new_send_buffer_size = socket_state.get_send_buffer_size().unwrap().0;
  let new_recv_buffer_size = socket_state.get_recv_buffer_size().unwrap().0;
  assert!(new_send_buffer_size >= 1048576, "Send buffer size is not increased to at least 1MB");
  assert!(new_recv_buffer_size >= 1048576, "Receive buffer size is not increased to at least 1MB");
}</Rust>