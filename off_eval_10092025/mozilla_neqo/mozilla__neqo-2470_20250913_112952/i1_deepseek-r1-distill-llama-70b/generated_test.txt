#[test]
fn test_receive_buffer_size() {
    let socket = UdpSocket::bind("127.0.0.1:0").unwrap();
    let mut socket = Socket::bind("127.0.0.1:0").unwrap();

    let state = quinn_udp::UdpSocketState::new(socket.inner.get_ref().as_ref().into()).unwrap();
    let recv_buf_size = state.recv_buffer_size(socket.inner.get_ref().as_ref().into()).unwrap();

    assert_eq!(recv_buf_size, 1 << 20);
}