#[test]
fn test_idle_timeout() {
  let mut conn = Connection::new_client();
  let now = Instant::now();
  conn.process_input(None, now);
  assert!(matches!(conn.state(), State::Connected));
  conn.process_timer(now + Duration::from_secs(60));
  assert!(matches!(conn.state(), State::Closing{..}));
}