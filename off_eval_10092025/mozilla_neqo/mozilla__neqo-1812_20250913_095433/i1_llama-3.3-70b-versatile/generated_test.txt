#[test]
fn test_panic_on_connection_ip_address_change() {
  let mut cc = ClassicCongestionControl::new();
  cc.bytes_in_flight = 100;
  let pkt_size = 50;
  let result = panic::catch_unwind(|| {
    cc.bytes_in_flight -= pkt_size;
    assert!(cc.bytes_in_flight >= pkt_size);
  });
  assert!(result.is_err());

  cc.bytes_in_flight = 100;
  let result = panic::catch_unwind(|| {
    cc.bytes_in_flight = cc.bytes_in_flight.saturating_sub(pkt_size);
  });
  assert!(result.is_ok());
}