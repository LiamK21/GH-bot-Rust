#[test]
fn test_send_datagram_reference() {
    let datagram = Datagram {
        src: "127.0.0.1:1234".parse().unwrap(),
        dst: "127.0.0.1:5678".parse().unwrap(),
        tos: IpTos::from(0),
        ttl: None,
        d: vec![1, 2, 3],
        segment_size: None,
    };

    let result = Socket::send(&datagram);
    assert!(result.is_ok());
}