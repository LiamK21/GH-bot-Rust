#[test]
fn test_v2_testcase_sets_use_old_http() {
    let mut child = Command::new("cargo")
        .arg("run")
        .arg("--")
        .arg("--qns-test")
        .arg("v2")
        .spawn()
        .expect("failed to execute child process");

    let output = child.wait_with_output().expect("failed to wait on child");

    // The test checks if use_old_http is set to true when testcase is "v2"
    // This is a placeholder for the actual assertion which would need to inspect the process's state
    // In a real test, you would parse the output or check the process's behavior
    assert!(output.status.success());
}