<Filename> neqo-transport/src/connection.rs </Filename>
<imports> 
use super::Connection;
use neqo_transport::ConnectionEvent;
use std::collections::HashMap;
</imports>
<Rust>
#[test]
fn test_send_stream_writable_event_generation() {
  let mut connection = Connection::default();
  let stream_id = connection.stream_create(1).unwrap();
  let send_stream = connection.send_streams.get_mut(&stream_id).unwrap();
  let initial_avail = send_stream.avail();
  connection.flow_mgr.borrow_mut().conn_increase_max_credit(100);
  let events = connection.events().collect::<Vec<ConnectionEvent>>();
  assert!(events.iter().any(|event| matches!(event, ConnectionEvent::SendStreamWritable(id) if *id == stream_id)));
}</Rust>