<Filename> neqo-transport/src/connection/mod.rs </Filename>
<imports> 
use super::Connection;
use neqo_transport::connection::PacketNumberSpace;
use neqo_transport::error::Error;
use std::instant::Instant;
</imports>
<Rust>
#[test]
fn test_input_path_duplicate_packet() {
  let mut connection = Connection::new();
  let space = PacketNumberSpace::ApplicationData;
  let packet_number = 10;
  let now = Instant::now();
  let packet = vec![1, 2, 3];
  let payload = neqo_transport::packet::Payload::new(packet_number, packet.clone());
  connection.acks.get_mut(space).unwrap().insert(packet_number, packet.clone());
  let result_with_patch = connection.input_path(&payload, now);
  assert!(result_with_patch.is_err());
  let mut connection = Connection::new();
  let space = PacketNumberSpace::ApplicationData;
  let packet_number = 10;
  let now = Instant::now();
  let packet = vec![1, 2, 3];
  let payload = neqo_transport::packet::Payload::new(packet_number, packet.clone());
  connection.acks.get_mut(space).unwrap().insert(packet_number, packet.clone());
  let original_code = connection.acks.get_mut(space).unwrap().is_duplicate(packet_number);
  assert!(original_code);
}</Rust>