#[test]
fn test_send_streams_iteration_order() {
    let mut streams = SendStreams::default();
    streams.insert(StreamId::from(0));
    streams.insert(StreamId::from(1));
    streams.insert(StreamId::from(2));
    streams.insert(StreamId::from(3));
    streams.insert(StreamId::from(4));

    let mut expected_order = [0, 1, 2, 3, 4];
    let mut actual_order = [0; 5];
    let mut index = 0;

    for (id, _) in streams {
        actual_order[index] = id as usize;
        index += 1;
    }

    assert_eq!(expected_order, actual_order);
}