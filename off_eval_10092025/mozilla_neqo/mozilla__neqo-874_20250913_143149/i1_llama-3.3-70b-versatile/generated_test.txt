#[test]
fn test_send_stream_order() {
  let mut send_streams_hashmap = SendStreams(HashMap::new());
  let mut send_streams_indexmap = SendStreams(IndexMap::new());

  send_streams_hashmap.0.insert(StreamId(4), SendStream::default());
  send_streams_hashmap.0.insert(StreamId(0), SendStream::default());

  send_streams_indexmap.0.insert(StreamId(4), SendStream::default());
  send_streams_indexmap.0.insert(StreamId(0), SendStream::default());

  let mut actual_order_hashmap: Vec<StreamId> = Vec::new();
  let mut actual_order_indexmap: Vec<StreamId> = Vec::new();

  for (id, _) in &mut send_streams_hashmap {
    actual_order_hashmap.push(*id);
  }

  for (id, _) in &mut send_streams_indexmap {
    actual_order_indexmap.push(*id);
  }

  let expected_order: Vec<StreamId> = vec![StreamId(4), StreamId(0)];
  let expected_order_indexmap: Vec<StreamId> = vec![StreamId(4), StreamId(0)];

  assert_ne!(actual_order_hashmap, expected_order);
  assert_eq!(actual_order_indexmap, expected_order_indexmap);
}