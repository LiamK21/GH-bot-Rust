#[test]
fn test_server_version_information_failed() {
  let mut qlog = NeqoQlog::new();
  let server_versions = vec![Version::new(0x01), Version::new(0x02)];
  let client_version = WireVersion::new(0x03);
  server_version_information_failed(&mut qlog, &server_versions, client_version);
  let event_data = qlog.get_events().last().unwrap();
  let version_info = match event_data {
    neqo_transport::qlog::Event::VersionInformation(version_info) => version_info,
    _ => panic!("Unexpected event type"),
  };
  let expected_client_versions = vec![format!("{:02x}", client_version)];
  let expected_server_versions: Vec<String> = server_versions.iter().map(|v| format!("{:02x}", v)).collect();
  assert_eq!(version_info.client_versions, Some(expected_client_versions));
  assert_eq!(version_info.server_versions, Some(expected_server_versions));
}