#[test]
fn test_do_log_macro() {
    Builder::new().is_test(true).init();

    do_log!(Level::Debug, "Test log message");

    let log_output = std::io::Cursor::new(vec![0; 1024].into());
    let _ = debug!("Test log message");

    let output = log_output.into_inner();
    let output_str = String::from_utf8(output).expect("Log output is not UTF-8");

    assert!(output_str.contains("Test log message"));
}