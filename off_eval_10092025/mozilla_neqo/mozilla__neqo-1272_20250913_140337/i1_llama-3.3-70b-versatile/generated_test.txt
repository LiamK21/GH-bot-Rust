#[test]
fn test_dump_packet_logging() {
  let logger_called = Arc::new(AtomicBool::new(false));
  let logger_called_clone = logger_called.clone();
  let _ = log::set_logger(&object::Object::new(move |record| {
    if record.level() == Level::Debug {
      logger_called_clone.store(true, Ordering::SeqCst);
    }
  }));
  let _ = log::set_max_level(Level::Info);
  dump_packet("conn", "path", "dir", "pt", 1, &[1, 2, 3]);
  assert_eq!(false, logger_called.load(Ordering::SeqCst));
}