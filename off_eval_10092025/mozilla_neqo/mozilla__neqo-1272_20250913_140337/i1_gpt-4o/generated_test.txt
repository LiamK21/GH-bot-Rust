#[test]
fn test_dump_packet_no_logging() {
    // Set the log level to a level higher than Debug to simulate no logging
    log::set_max_level(Level::Info);

    let conn = Connection::new_client("example.com", &["alpn"], &Default::default(), &Default::default()).unwrap();
    let path = PathRef::new(&conn, &conn);
    let dir = "out";
    let pt = PacketType::Short;
    let pn = PacketNumber::new(1);
    let payload = &[0u8, 1, 2, 3];

    // Capture the output of dump_packet
    let output = std::panic::catch_unwind(|| {
        dump_packet(&conn, &path, dir, pt, pn, payload);
    });

    // Ensure that no panic occurred, indicating no attempt to log
    assert!(output.is_ok());
}