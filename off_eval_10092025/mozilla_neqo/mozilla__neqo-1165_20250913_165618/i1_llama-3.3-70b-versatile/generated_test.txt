#[test]
fn test_detect_lost_packets_overflow() {
  let mut space = LossRecoverySpace::new();
  let now = 2000000000;
  let loss_delay = 1000000000;
  let packet = Packet { time_sent: now - loss_delay - 1 };
  let largest_acked = Some(100);
  space.packets.insert(1, packet);
  let before = space.detect_lost_packets(now, loss_delay, largest_acked);
  assert!(before);
  let mut space = LossRecoverySpace::new();
  let now = 2000000000;
  let loss_delay = 1000000000;
  let packet = Packet { time_sent: now - loss_delay - 1 };
  let largest_acked = Some(100);
  space.packets.insert(1, packet);
  let after = space.detect_lost_packets(now, loss_delay, largest_acked);
  assert!(after);
}