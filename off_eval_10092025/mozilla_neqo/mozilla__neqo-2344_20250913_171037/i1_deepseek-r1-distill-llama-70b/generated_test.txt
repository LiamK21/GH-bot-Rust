#[test]
fn test_cubic_calc_k() {
    let cubic = Cubic {
        last_max_cwnd: 100.0,
        estimated_tcp_cwnd: 0.0,
        k: 0.0,
        w_max: 100.0,
        ca_epoch_start: None,
        tcp_acked_bytes: 0.0,
    };
    let curr_cwnd = 50.0;
    let max_datagram_size = 10;
    let expected_k = ((100.0 - 50.0) / (0.4 * 10.0)).cbrt();
    let actual_k = cubic.calc_k(curr_cwnd, max_datagram_size);
    assert!((actual_k - expected_k).abs() < 1e-6);
}