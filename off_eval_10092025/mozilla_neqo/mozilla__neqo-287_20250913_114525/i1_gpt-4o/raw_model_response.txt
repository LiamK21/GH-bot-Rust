<Filename> neqo-transport/src/connection.rs </Filename>
<imports>
use super::Connection;
use super::encoder;
</imports>
<Rust>
#[test]
fn test_encoder_len_less_than_or_equal_to_pmtu() {
    let mut connection = Connection::new();
    let encoder = encoder::new();
    let pmtu = connection.pmtu();
    
    // Simulate a condition where encoder.len() might exceed pmtu
    encoder.set_len(pmtu + 1);
    
    // This should fail before the patch and pass after
    assert!(encoder.len() <= pmtu);
}
</Rust>