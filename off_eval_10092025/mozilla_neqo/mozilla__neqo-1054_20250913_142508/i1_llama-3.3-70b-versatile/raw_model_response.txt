<Filename> neqo-transport/src/connection/mod.rs </Filename>
<imports> 
use super::Connection;
use std::convert::TryFrom;
</imports>
<Rust>
#[test]
fn test_close_with_long_reason_string() {
  let mut connection = Connection::new();
  let long_reason = vec![0x61; 2049];
  let result_before_patch = std::panic::catch_unwind(|| connection.close(0, 0, long_reason));
  assert!(result_before_patch.is_err());
  let patched_connection = Connection::new();
  let result_after_patch = std::panic::catch_unwind(|| patched_connection.close(0, 0, long_reason));
  assert!(result_after_patch.is_ok());
}</Rust>