#[test]
fn test_lloc_count_for_cpp_code() {
  let code = "void XPCJSRuntime::CustomGCCallback(JSGCStatus status) {
  nsTArray<xpcGCCallback> callbacks(extraGCCallbacks.Clone());
  for (uint32_t i = 0; i < callbacks.Length(); ++i) {
    callbacks[i](status);
  }
}";
  let expected_lloc = 3;
  let actual_lloc = check_metrics!(code, "foo.cpp", CppParser, loc, [(lloc, expected_lloc, usize)]).lloc;
  assert_eq!(expected_lloc, actual_lloc);
}