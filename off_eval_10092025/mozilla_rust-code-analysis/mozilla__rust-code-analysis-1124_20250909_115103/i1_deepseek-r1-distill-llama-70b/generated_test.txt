#[test]
fn test_nexits_counting() {
    let code = "
        pub fn foo() -> i32 {
            Some(42).and_then(|x| Some(x + 1))?;
            0
        }
    ";
    let mut stats = Stats::default();
    let node = Node::parse(code).unwrap();
    RustExit::compute(&node, &mut stats);
    assert_eq!(stats.exit, 1);
}