#[test]
fn test_macro_annotation() {
  let input1 = "class AutoEntryMonitor";
  let input2 = "class MOZ_STACK_CLASS AutoEntryMonitor";
  let input3 = "class MOZ_STACK_CLASS JS_PUBLIC_API AutoEntryMonitor";

  let expected1 = "class_specifier";
  let expected2 = "class_specifier";
  let expected3 = "function_definition";

  let actual1 = parse_input(input1);
  let actual2 = parse_input(input2);
  let actual3 = parse_input(input3);

  assert_eq!(actual1, expected1);
  assert_eq!(actual2, expected2);
  assert_eq!(actual3, expected3);
}

fn parse_input(input: &str) -> &'static str {
  let mut parser = CppParser::new();
  parser.parse(input);
  parser.get_tree_root().get_node_type()
}