<Filename>src/web/server.rs</Filename>
<imports>
use super::ast_parser;
use actix_web::{test, web, App};
use crate::web::ast::AstPayload;
use serde_json::json;
</imports>
<Rust>
#[test]
fn test_ast_parser_with_file_name() {
    let mut app = test::init_service(App::new().route("/ast", web::post().to(ast_parser)));
    
    let payload = AstPayload {
        id: "1234".to_string(),
        file_name: "prova.cpp".to_string(),
        code: "int x = 1;".to_string(),
        comment: true,
        span: true,
    };
    
    let req = test::TestRequest::post()
        .uri("/ast")
        .set_json(&payload)
        .to_request();
    
    let resp = test::call_service(&mut app, req);
    assert!(resp.status().is_success());
}
</Rust>