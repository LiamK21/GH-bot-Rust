<Filename> src/main.rs </Filename>
<imports> 
use super::rewrite_paths;
use super::CovResult;
use super::CovResultMap;
use super::CovResultIter;
use std::collections::HashMap;
use std::path::PathBuf;
</imports>
<Rust>
#[test]
fn test_filter_option() {
  let mut result_map: CovResultMap = HashMap::new();
  result_map.insert("file1.cpp".to_string(), CovResult {
      lines: [(1, 1)].iter().cloned().collect(),
      branches: HashMap::new(),
      functions: HashMap::new(),
  });
  result_map.insert("file2.cpp".to_string(), CovResult {
      lines: [(1, 0)].iter().cloned().collect(),
      branches: HashMap::new(),
      functions: HashMap::new(),
  });
  let expected_count = 1;
  let actual_count: usize = rewrite_paths(result_map, None, "", "", false, false, Vec::new(), Some(true)).count();
  assert_eq!(expected_count, actual_count);
}
</Rust>