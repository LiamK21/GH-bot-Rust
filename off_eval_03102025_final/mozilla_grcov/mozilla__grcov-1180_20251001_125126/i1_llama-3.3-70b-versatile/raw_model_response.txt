<Filename> src/main.rs </Filename>
<imports> 
use std::path::Path;
use std::fs;
use std::io::Write;
use super::Opt;
use super::print_summary;
use super::CovResult;
use std::collections::HashMap;
</imports>
<Rust>
#[test]
fn test_print_summary() {
  let path = Path::new("test.txt");
  let mut file = fs::File::create(path).unwrap();
  file.write_all(b"SF:src/main.rs\nBRDA:1,2,0\nBRDA:3,4,1\nEND_OF_RECORD\n").unwrap();

  let mut results = Vec::new();
  results.push((path.to_path_buf(), path.to_path_buf(), CovResult {
      lines: HashMap::new(),
      branches: HashMap::new(),
      functions: HashMap::new(),
  }));

  let expected = "lines: 0.0% (0 out of 0)\nbranches: 0.0% (0 out of 0)\n";
  let mut actual = Vec::new();
  print_summary(&results);
  std::io::stdout().read_to_end(&mut actual).unwrap();
  assert_eq!(String::from_utf8(actual).unwrap(), expected);
}
</Rust>