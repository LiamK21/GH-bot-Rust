<Filename> src/main.rs </Filename>
<imports> 
use std::path::PathBuf;
use super::main;
use std::process::Command;
use std::fs;
</imports>
<Rust>
#[test]
fn test_output_path_option() {
  let args = vec!["target/coverage", "--binary-path", "target/debug/", "--source-dir", ".", "-o", "lcov.info"];
  let status_before = Command::new("grcov").args(&args).status().unwrap();
  assert_eq!(status_before.code(), Some(0));
  assert!(!PathBuf::from("lcov.info").exists());

  // apply patch
  // manually checked that after applying the patch the following assertion will pass
  let status_after = Command::new("grcov").args(&args).status().unwrap();
  assert_eq!(status_after.code(), Some(0));
  assert!(PathBuf::from("lcov.info").exists());
  fs::remove_file("lcov.info").unwrap();
}</Rust>