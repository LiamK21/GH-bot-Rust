<Filename>src/producer.rs</Filename>
<imports>
use super::dir_producer;
use std::sync::Arc;
use std::path::PathBuf;
use msqueue::MsQueue;
use defs::{WorkQueue, ItemFormat, ItemType};
use crate::tests::check_produced;
</imports>
<Rust>
#[test]
fn test_dir_producer_ignore_orphan_gcno() {
    let queue: Arc<WorkQueue> = Arc::new(MsQueue::new());

    let mapping = dir_producer(&vec![&"test/only_one_gcda".to_string()], &queue, true);

    let expected = vec![
        (ItemFormat::GCNO, true, "test/only_one_gcda/main.gcda", true),
    ];

    check_produced(PathBuf::from("."), &queue, expected);
    assert!(mapping.is_none());
}
</Rust>