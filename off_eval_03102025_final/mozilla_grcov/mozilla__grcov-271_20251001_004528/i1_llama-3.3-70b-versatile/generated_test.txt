#[test]
fn test_rewrite_paths_with_unsorted_to_ignore_dirs() {
  let result_map: HashMap<String, String> = HashMap::new();
  let path_mapping = None;
  let source_dir = None;
  let prefix_dir = None;
  let ignore_not_existing = false;
  let mut to_ignore_dirs = vec!["b/*".to_string(), "a/*".to_string()];
  let filter_option = None;
  let expected = rewrite_paths(result_map.clone(), path_mapping.clone(), source_dir.clone(), prefix_dir.clone(), ignore_not_existing, vec!["a/*".to_string(), "b/*".to_string()], filter_option.clone());
  let actual = rewrite_paths(result_map, path_mapping, source_dir, prefix_dir, ignore_not_existing, to_ignore_dirs, filter_option);
  // Since the function returns an iterator, we cannot directly compare expected and actual.
  // Instead, we'll have to collect the results and compare them.
  let expected_results: Vec<_> = expected.collect();
  let actual_results: Vec<_> = actual.collect();
  assert_eq!(expected_results, actual_results);
}