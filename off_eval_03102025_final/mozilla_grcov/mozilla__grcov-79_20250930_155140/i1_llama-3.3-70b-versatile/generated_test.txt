#[test]
fn test_output_lcov_branch_coverage() {
  let mut writer = Cursor::new(Vec::new());
  let results = [(1, [(1, 1, true), (2, 2, false)])].into_iter();
  output_lcov(results);
  let output = writer.into_inner();
  let output_str = std::str::from_utf8(&output).unwrap();
  assert!(output_str.contains("BRDA:1,0,1,1\n"));
  assert!(output_str.contains("BRDA:1,0,2,-\n"));
  assert!(output_str.contains("BRF:2\n"));
  assert!(output_str.contains("BRH:1\n"));
}