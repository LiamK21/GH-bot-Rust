<Filename> src/html.rs </Filename>
<imports> 
use super::get_percentage_of_covered_lines;
use super::gen_coverage_json;
use std::path::Path;
use std::fs;
use serde_json::json;
use std::io::Write;
</imports>
<Rust>
#[test]
fn test_coverage_json_generation() {
  let stats = HtmlStats { covered_lines: 5, total_lines: 10 };
  let conf = Config { hi_limit: 90, med_limit: 60 };
  let temp_dir = Path::new("temp");
  fs::create_dir(temp_dir).unwrap();
  let output_file = temp_dir.join("coverage.json");
  gen_coverage_json(&stats, &conf, &output_file);
  let actual = fs::read_to_string(output_file).unwrap();
  let expected = "{\"schemaVersion\":1,\"label\":\"coverage\",\"message\":\"50%\",\"color\":\"red\"}";
  assert_eq!(actual, expected);
  fs::remove_dir_all(temp_dir).unwrap();
}</Rust>