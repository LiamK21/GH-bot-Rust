#[test]
fn test_lcov_parser_malformed_data() {
  let buf = "SF:src/parser.rs
  DA:10,1
  DA:20,2
  DA:30,3
  DA:
  end_of_record".as_bytes().to_vec();
  let result = parse_lcov(buf, true);
  assert!(result.is_err());
  let error = result.unwrap_err();
  assert_eq!(error.to_string(), "Invalid record: 'DA at line 5'");
}