#[test]
fn test_output_directory_check() {
    let output_file = "nonexistent_dir/lcov.info";
    let result = panic::catch_unwind(|| {
        get_target_output_writable(Some(output_file))
    });

    assert!(result.is_err());
    let panic_msg = result.unwrap_err().downcast::<&str>().unwrap();
    assert!(panic_msg.contains("nonexistent_dir"));
    assert!(panic_msg.contains("doesn't exist"));
}