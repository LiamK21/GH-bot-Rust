#[test]
fn test_get_value_returns_json() {
    let metric = ObjectMetric::new(CommonMetricData {
        name: "test_metric".into(),
        category: "test_category".into(),
        send_in_pings: vec!["test_ping".into()],
        ..Default::default()
    });

    let test_data = json!({"key": "value"});
    metric.set(test_data.clone());

    let actual = metric.test_get_value(None).expect("no object recorded");
    assert_eq!(test_data, actual);
}