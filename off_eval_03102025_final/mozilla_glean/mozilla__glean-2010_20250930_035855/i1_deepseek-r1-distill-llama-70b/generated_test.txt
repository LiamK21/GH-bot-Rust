#[test]
fn test_request_headers_do_not_include_legacy_headers() {
    let mut builder = Builder::new();
    let document_id = "test-document-id".to_string();
    let payload = r#"{}"#.as_bytes().to_vec();
    builder.document_id = Some(document_id);
    builder.payload = Some(payload);
    let request = builder.build().unwrap();

    assert!(!request.headers.contains_key("X-Client-Type"));
    assert!(!request.headers.contains_key("X-Client-Version"));
}