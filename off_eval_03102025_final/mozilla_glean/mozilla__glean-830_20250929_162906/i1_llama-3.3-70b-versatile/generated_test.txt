#[test]
fn test_metric_id_used_instead_of_metric_name() {
  let database = Database {};
  let mut data: HashMap<String, Metric> = HashMap::new();
  let reader = b"test_reader";
  let metric_id = String::from("test_metric_id");
  let value = Metric::String(String::from("test_value"));
  let mut iter = [(metric_id.as_bytes(), value)].into_iter();
  let result = database.iter_start(reader).unwrap();
  while let Some(Ok((id, val))) = iter.next() {
    let id = String::from_utf8_lossy(id).into_owned();
    data.insert(id, val);
  }
  let actual_metric_id = data.keys().next().unwrap().to_string();
  let expected_metric_id = metric_id;
  assert_eq!(actual_metric_id, expected_metric_id);
}