#[test]
fn test_common_metric_data_deserialization() {
    // Test deserializing CommonMetricData
    let json = r#"{
        "name": "test_metric",
        "lifetime": "ping",
        "send_in_pings": ["ping1", "ping2"],
        "disabled": false,
        "version": 1,
        "details": {
            "description": "Test description",
            "notification_emails": ["test@example.com"],
            "bugs": [12345],
            "expiry_version": null
        }
    }"#;

    let result: Result<CommonMetricData, _> = serde_json::from_str(json);
    assert!(result.is_ok());

    // Test deserializing Lifetime
    let json = r#"{
        "lifetime": "session"
    }"#;
    let result: Result<Lifetime, _> = serde_json::from_str(json);
    assert!(result.is_ok());
}