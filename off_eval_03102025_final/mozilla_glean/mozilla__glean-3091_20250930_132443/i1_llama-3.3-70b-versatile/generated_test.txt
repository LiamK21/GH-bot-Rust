#[test]
fn test_attribution_and_distribution_update_without_initialize() {
  let dir = tempdir().unwrap();
  let tmpname = dir.path().to_path_buf();
  let mut attribution = super::AttributionMetrics {
    source: Some("source".into()),
    medium: Some("medium".into()),
    campaign: Some("campaign".into()),
    term: Some("term".into()),
    content: Some("content".into()),
  };
  let distribution = super::DistributionMetrics {
    name: Some("name".into()),
  };

  glean_update_attribution(attribution.clone());
  glean_update_distribution(distribution.clone());

  let glean = Glean::with_options(&tmpname.display().to_string(), "test", true, true);

  assert_eq!(attribution, glean_test_get_attribution());
  assert_eq!(distribution, glean_test_get_distribution());
}