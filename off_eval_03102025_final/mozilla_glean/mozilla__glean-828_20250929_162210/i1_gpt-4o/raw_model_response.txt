<Filename>glean-core/src/metrics/labeled.rs</Filename>
<imports>
use super::LABEL_REGEX;
</imports>
<Rust>
#[test]
fn test_label_regex_validity() {
    let valid_labels = vec![
        "this.is.fine",
        "this_is_fine_too",
        "this.is_still_fine",
        "thisisfine",
        "_.is_fine",
        "this.is-fine",
        "this-is-fine",
    ];
    let invalid_labels = vec![
        "this.is.not_fine_due_tu_the_length_being_too_long_i_thing.i.guess",
        "1.not_fine",
        "this.$isnotfine",
        "-.not_fine",
    ];

    for label in valid_labels {
        assert!(LABEL_REGEX.is_match(label), "Label '{}' should be valid", label);
    }

    for label in invalid_labels {
        assert!(!LABEL_REGEX.is_match(label), "Label '{}' should be invalid", label);
    }
}
</Rust>