#[test]
fn test_set_string_metric() {
  let meta = CommonMetricData {
    name: "string_metric".into(),
    category: "test".into(),
    send_in_pings: vec!["store1".into()],
    lifetime: Lifetime::Application,
    disabled: false,
    dynamic_label: None,
  };
  let metric = StringMetric(Arc::new(GleanStringMetric::new(meta.clone())));
  let value = "test_string";
  metric.set(value);
  let actual = metric.test_get_value(None);
  assert_eq!(actual.unwrap(), value);
}