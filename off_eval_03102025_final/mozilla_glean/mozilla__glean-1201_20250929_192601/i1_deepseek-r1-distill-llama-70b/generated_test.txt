#[test]
fn test_submit_ping_logs_info_when_disabled() {
    let _logs = capture();
    let glean = Glean::new();
    glean.set_upload_enabled(false);

    let result = glean.submit_ping(&PingType::default(), None);

    assert!(result.is_ok());
    let logs = _logs.unwrap();
    assert_eq!(logs.len(), 1);
    assert_eq!(logs[0].level(), log::Level::Info);
    assert_eq!(logs[0].message(), "Glean disabled: not submitting any pings.");
}