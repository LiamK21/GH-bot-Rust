<think>
Okay, I need to figure out whether a unit test is necessary for the given patch. The issue is that the message "Glean disabled: not submitting any pings" is always printed when Glean is disabled. The patch changes the log level from error to info, which should reduce the verbosity.

First, I should determine if this change can be tested with a unit test. Since it's about logging behavior, a test can verify that the correct log level is used. 

The function in question is `submit_ping`, which logs when Glean is disabled. So, I need to test that when `is_upload_enabled` returns false, the log message is at the info level, not error.

I'll need to mock or control the environment so that `is_upload_enabled` returns false. Then, call `submit_ping` and check the logs. However, in Rust, capturing log messages isn't straightforward. One approach is to use a test logging library that can capture log records.

I can use the `test_log` crate, which provides a way to capture logs during testing. So, I'll add it as a dependency. 

In the test, I'll set up a Glean instance with upload disabled. Then, call `submit_ping` and capture the logs. I'll assert that there's exactly one info-level message with the expected text and no error messages.

I should structure the test to initialize Glean with upload disabled, call the function, and then check the captured logs. This way, the test will fail before the patch (if it's still logging as error) and pass after the patch (logging as info).

I also need to make sure the test is self-contained, so I'll include all necessary imports, like `test_log::capture` and the Glean functions.

So, the test will look something like capturing the logs, calling the function, and checking the log levels and messages.
</think>

<Filename> glean-core/src/lib.rs </Filename>
<imports>
use test_log::capture;
use super::Glean;
use super::PingType;
</imports>
<Rust>
#[test]
fn test_submit_ping_logs_info_when_disabled() {
    let _logs = capture();
    let glean = Glean::new();
    glean.set_upload_enabled(false);
    
    let result = glean.submit_ping(&PingType::default(), None);
    
    assert!(result.is_ok());
    let logs = _logs.unwrap();
    assert_eq!(logs.len(), 1);
    assert_eq!(logs[0].level(), log::Level::Info);
    assert_eq!(logs[0].message(), "Glean disabled: not submitting any pings.");
}
</Rust>