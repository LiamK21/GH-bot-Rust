<Filename> glean-core/src/lib.rs </Filename>
<imports>
use super::glean_enable_logging;
use std::env;
use log::LevelFilter;
use log::set_max_level;
</imports>
<Rust>
#[test]
fn test_logging_initialization_with_feature() {
    env::set_var("RUST_LOG", "debug");
    set_max_level(LevelFilter::Off);

    #[cfg(feature = "enable_env_logger")]
    {
        glean_enable_logging();
        assert_eq!(log::max_level(), LevelFilter::Debug);
    }

    #[cfg(not(feature = "enable_env_logger"))]
    {
        glean_enable_logging();
        assert_eq!(log::max_level(), LevelFilter::Off);
    }
}
</Rust>