#[test]
fn test_event_extra_glean_timestamp_removed() {
    let _tmpdir = new_glean(None, false);
    let event = EventMetric::new("test_event", "test_category", None);

    // Record an event
    event.record();

    // Fetch the event
    let fetched_events = EventMetric::test_get_value("test_event", "default").unwrap();
    let event_data = &fetched_events[0];

    // Check that glean_timestamp is not present
    assert!(!event_data.extra.iter().any(|(k, _)| k == "glean_timestamp"));
}