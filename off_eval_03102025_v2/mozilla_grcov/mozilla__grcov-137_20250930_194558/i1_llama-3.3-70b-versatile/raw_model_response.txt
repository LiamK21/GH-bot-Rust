<Filename> src/producer.rs </Filename>
<imports> 
use super::producer;
use std::path::Path;
use std::path::PathBuf;
use std::fs::File;
use std::io::Read;
use std::collections::HashMap;
use std::sync::Arc;
use tempdir::TempDir;
</imports>
<Rust>
#[test]
fn test_gcno_llvm_identification() {
  let tmp_dir = TempDir::new("gcno_llvm_identification").unwrap();
  let tmp_path = tmp_dir.path().join("file_1.gcno");
  let mut file = File::create(&tmp_path).unwrap();
  file.write_all(b"ongc*204").unwrap();
  let paths = vec![tmp_path.to_str().unwrap().to_string()];
  let queue = std::sync::Arc::new(std::sync::Mutex::new(Vec::new()));
  let ignore_orphan_gcno = false;
  let is_llvm = false;
  producer(tmp_dir.path(), &paths, &queue, ignore_orphan_gcno, is_llvm);
  let queue = queue.lock().unwrap();
  assert!(queue.len() > 0);
  let item = &queue[0];
  assert_eq!(item.format, super::ItemFormat::GCNO);
  assert!(item.item.is_gcno_llvm());
}
</Rust>