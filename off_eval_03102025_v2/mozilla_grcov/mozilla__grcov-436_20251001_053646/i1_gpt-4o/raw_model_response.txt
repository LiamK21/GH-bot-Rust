<Filename>src/output.rs</Filename>
<imports>
use super::get_target_output_writable;
use std::fs::{self, File};
use std::io::Write;
use std::path::Path;
</imports>
<Rust>
#[test]
#[should_panic(expected = "The output file ./test_dir is a directory, but must be a regular file.")]
fn test_output_file_is_directory() {
    let dir_path = "./test_dir";
    fs::create_dir_all(dir_path).unwrap();
    let _ = get_target_output_writable(Some(dir_path));
    fs::remove_dir_all(dir_path).unwrap();
}
</Rust>