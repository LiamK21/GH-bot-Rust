#[test]
fn test_output_option() {
    // Test output to stdout (-o -)
    {
        let output = Command::new("cargo")
            .args(["run", "-o", "-"])
            .stdout(Stdio::piped())
            .stderr(Stdio::piped())
            .output()
            .unwrap();
        assert_eq!(output.status.code().unwrap(), 0);
        // Verify output is to stdout (contains non-empty output)
        assert!(String::from_utf8_lossy(&output.stdout).len() > 0);
    }

    // Test output to file (-o file.txt)
    {
        let output = Command::new("cargo")
            .args(["run", "-o", "test_output.txt"])
            .stdout(Stdio::piped())
            .stderr(Stdio::piped())
            .output()
            .unwrap();
        assert_eq!(output.status.code().unwrap(), 0);
        // Verify file was created
        let file_output = std::fs::read_to_string("test_output.txt").unwrap();
        assert!(file_output.len() > 0);
        // Clean up
        std::fs::remove_file("test_output.txt").unwrap();
    }
}