#[test]
fn test_version_parsing_error() {
  let buffer = vec![97, 100, 99, 103, 1]; // 'adcg' with invalid utf8 byte
  let mut reader = GcovReaderBuf::new(buffer);
  let result = reader.read_version();
  assert!(result.is_err());
  let error = result.unwrap_err();
  match error {
    GcovError::Str(message) => {
      assert!(message.contains("Unexpected version"));
    }
    _ => assert!(false, "Expected GcovError::Str"),
  }
}