#[test]
fn test_rewrite_paths_with_partial_path_mapping() {
  let result_map: HashMap<String, ()> = HashMap::new();
  let path_mapping = None;
  let source_dir = Path::new("/tmp/source");
  let prefix_dir = Path::new("/tmp/prefix");
  let ignore_not_existing = false;
  let to_ignore_dirs = &[""];
  let to_keep_dirs = &[""];
  let filter_option = None;
  let file_filter = crate::FileFilter::new();

  fs::create_dir_all(source_dir).unwrap();
  fs::create_dir_all(prefix_dir).unwrap();

  let java_file = source_dir.join("test.java");
  let non_java_file = source_dir.join("test.txt");
  fs::File::create(java_file).unwrap();
  fs::File::create(non_java_file).unwrap();

  let expected = vec![];
  let actual = rewrite_paths(result_map, path_mapping, Some(source_dir), Some(prefix_dir), ignore_not_existing, to_ignore_dirs, to_keep_dirs, filter_option, file_filter);

  assert!(actual.len() == 1);
}