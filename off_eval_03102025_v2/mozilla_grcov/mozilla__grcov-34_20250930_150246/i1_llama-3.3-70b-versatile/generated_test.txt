#[test]
fn test_output_coveralls_with_function_info() {
  let results = vec![(PathBuf::from("path"), PathBuf::from("rel_path"), (vec![("func1", (1, 2))], vec![], 0, 0))];
  let repo_token = "token";
  let service_name = "service_name";
  let service_number = "service_number";
  let service_job_number = "service_job_number";
  let commit_sha = "commit_sha";
  let with_function_info = true;

  let expected_output = json!({
    "name": "rel_path",
    "source_digest": "",
    "coverage": 0,
    "branches": [],
    "functions": [
      {
        "name": "func1",
        "start": 1,
        "exec": 2,
      }
    ]
  });
  let actual_output = output_coveralls(results.into_iter(), repo_token, service_name, service_number, service_job_number, commit_sha, with_function_info);
  // Since the actual function does not return anything, we can't directly compare the expected and actual outputs.
  // However, we can print the actual output and manually verify it against the expected output.
  println!("{}", stdout());
}