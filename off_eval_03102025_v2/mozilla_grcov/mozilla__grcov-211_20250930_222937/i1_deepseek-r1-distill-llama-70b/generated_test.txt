#[test]
fn test_skip_symlinks() {
    let temp_dir = tempdir().unwrap();
    let source_dir = temp_dir.path().join("source");
    std::fs::create_dir(&source_dir).unwrap();

    // Create a file and a symlink to it
    let file_path = source_dir.join("file.txt");
    std::fs::write(&file_path, "content").unwrap();

    let symlink_path = source_dir.join("symlink.txt");
    symlink(&file_path, &symlink_path).unwrap();

    let result_map = Default::default();
    let path_mapping = None;
    let prefix_dir = None;
    let ignore_not_existing = false;
    let to_ignore_dirs = vec![];
    let filter_option = None;

    let _ = rewrite_paths(
        result_map,
        path_mapping,
        Some(source_dir),
        prefix_dir,
        ignore_not_existing,
        to_ignore_dirs,
        filter_option,
    );

    // If no panic occurred, the test passes
    assert!(true);
}