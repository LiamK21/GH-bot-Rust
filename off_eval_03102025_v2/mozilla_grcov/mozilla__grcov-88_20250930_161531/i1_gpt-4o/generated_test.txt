#[test]
fn test_rewrite_paths_ignore_multiple_directories() {
    let mut result_map: HashMap<String, CovResult> = HashMap::new();
    result_map.insert("main.cpp".to_string(), empty_result!());
    result_map.insert("mydir/prova.h".to_string(), empty_result!());
    result_map.insert("mydir2/prova.h".to_string(), empty_result!());
    let results = rewrite_paths(result_map, None, "", "", false, false, vec!["mydir".to_string(), "mydir2".to_string()]);
    let mut count = 0;
    for (abs_path, rel_path, result) in results {
        count += 1;
        assert_eq!(abs_path, PathBuf::from("main.cpp"));
        assert_eq!(rel_path, PathBuf::from("main.cpp"));
        assert_eq!(result, empty_result!());
    }
    assert_eq!(count, 1);
}