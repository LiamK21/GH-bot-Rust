<Filename> src/parser.rs </Filename>
<imports> 
use super::call_parse_llvm_gcno;
use super::call_parse_llvm_gcno_buf;
use std::path::PathBuf;
use std::fs;
use std::io::Write;
</imports>
<Rust>
#[test]
fn test_parser_gcno_with_tmp() {
  let working_dir = PathBuf::from("test/llvm");
  let file_stem = "file";
  let branch_enabled = true;
  let result = call_parse_llvm_gcno(working_dir.to_str().unwrap(), file_stem, branch_enabled);
  assert!(result.len() > 0);
  let expected_file = "file.c";
  assert!(result.iter().any(|(file, _)| file == expected_file));
  
  let mut gcno_buf = Vec::new();
  let mut gcda_buf = Vec::new();
  gcno_buf.write_all(b"gcno data").unwrap();
  gcda_buf.write_all(b"gcda data").unwrap();
  let file_stem_buf = "file";
  let result_buf = call_parse_llvm_gcno_buf(working_dir.to_str().unwrap(), file_stem_buf, &gcno_buf, &gcda_buf, branch_enabled);
  assert!(result_buf.len() > 0);
  assert!(result_buf.iter().any(|(file, _)| file == expected_file));
}</Rust>