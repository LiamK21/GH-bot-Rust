<Filename>rust-code-analysis-cli/src/main.rs</Filename>
<imports>
use super::main;
use std::process::Command;
use std::fs;
use std::path::Path;
</imports>
<Rust>
#[test]
fn test_cli_specific_dependencies_moved() {
    let output_dir = "test_output";
    let _ = fs::create_dir(output_dir);

    let output = Command::new("cargo")
        .args(&["run", "--bin", "rust-code-analysis-cli", "--", "--metrics", "--output", output_dir, "src/main.rs"])
        .output()
        .expect("Failed to execute command");

    assert!(output.status.success());

    let output_path = Path::new(output_dir).join("main.rs.json");
    assert!(output_path.exists());

    let _ = fs::remove_dir_all(output_dir);
}
</Rust>