<Filename> src/metrics/nom.rs </Filename>
<imports> 
use src::metrics::nom::Stats;
</imports>
<Rust>
#[test]
fn test_average_calculation() {
  let mut stats = Stats::default();
  stats.functions_sum = 2;
  stats.closures_sum = 1;
  stats.space_count = 2;
  let expected_average = 1.5;
  let actual_average = stats.total() as f64 / stats.space_count as f64;
  assert_eq!(actual_average, expected_average);
}</Rust>