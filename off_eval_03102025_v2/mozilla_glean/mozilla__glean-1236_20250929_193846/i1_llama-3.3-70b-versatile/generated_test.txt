#[test]
fn test_pending_pings_directory_size_metric_reporting() {
  let mut upload_manager = PingUploadManager::new();
  let glean = "glean";
  let pending_pings_directory_size = 10240;
  let expected_size = pending_pings_directory_size as u64 / 1024;
  upload_manager.upload_metrics.pending_pings_directory_size.accumulate(glean, pending_pings_directory_size as u64 / 1024);
  let reported_size = upload_manager.upload_metrics.pending_pings_directory_size.get();
  assert_eq!(reported_size, expected_size);
}