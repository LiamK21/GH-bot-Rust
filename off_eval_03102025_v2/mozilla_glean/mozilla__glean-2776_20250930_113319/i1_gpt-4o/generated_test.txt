#[test]
fn test_event_does_not_include_glean_timestamp_in_test_mode() {
    let glean = Glean::new_temporary();
    let event_metric = EventMetric::new(
        "category",
        "name",
        vec!["extra1", "extra2"],
        false,
        vec!["ping"],
    );

    event_metric.record(&glean, None, None, None);

    let queried_ping_name = "ping";
    let events = event_metric.test_get_value(&glean, queried_ping_name);

    let expected: Option<Vec<crate::metrics::Event>> = Some(vec![crate::metrics::Event {
        timestamp: 0,
        category: "category".into(),
        name: "name".into(),
        extra: None,
    }]);

    assert_eq!(events, expected);
}