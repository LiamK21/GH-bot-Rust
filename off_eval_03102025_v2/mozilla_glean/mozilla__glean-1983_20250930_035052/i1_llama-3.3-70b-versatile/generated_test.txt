#[test]
fn test_x_telemetry_agent_header_addition() {
  let language_binding_name = "Rust";
  let system = "Windows";
  let mut headers = HashMap::new();
  headers.insert("Date".to_string(), create_date_header_value(Utc::now()));
  headers.insert(
    "X-Telemetry-Agent".to_string(),
    create_x_telemetry_agent_header_value(GLEAN_VERSION, language_binding_name, system),
  );
  assert_eq!(headers.len(), 2);
  assert!(headers.contains_key("X-Telemetry-Agent"));
  assert!(!headers.contains_key("User-Agent"));
}