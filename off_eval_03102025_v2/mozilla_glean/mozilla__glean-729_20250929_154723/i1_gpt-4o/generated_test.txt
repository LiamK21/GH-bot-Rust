#[test]
fn test_enqueue_ping_adds_ping_to_queue() {
    let upload_manager = PingUploadManager::new("/tmp");
    let uuid = "test-uuid";
    let path = "/submit/app_id/ping_name/schema_version/doc_id";
    let body = json!({ "key": "value" });

    upload_manager.enqueue_ping(uuid, path, body.clone());

    if let PingUploadTask::Upload(request) = upload_manager.get_upload_task() {
        assert_eq!(request.uuid, uuid);
        assert_eq!(request.path, path);
        assert_eq!(request.body, body);
    } else {
        panic!("Expected an upload task to be available");
    }
}