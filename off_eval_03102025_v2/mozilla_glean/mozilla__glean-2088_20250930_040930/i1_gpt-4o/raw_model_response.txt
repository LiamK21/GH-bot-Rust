<Filename>glean-core/src/error_recording.rs</Filename>
<imports>
use super::test_get_num_recorded_errors;
use crate::metrics::MetricType;
use crate::Glean;
use crate::CommonMetricData;
use crate::ErrorType;
</imports>
<Rust>
#[test]
fn test_get_num_recorded_errors_assumes_metrics_ping() {
    let glean = Glean::new();
    let meta = CommonMetricData {
        name: "test_metric".into(),
        category: "test_category".into(),
        send_in_pings: vec!["store1".into(), "store2".into()],
        lifetime: crate::Lifetime::Ping,
        disabled: false,
        ..Default::default()
    };
    let error_type = ErrorType::InvalidValue;

    // Simulate recording an error in the "metrics" store
    let metric = crate::metrics::get_error_metric_for_metric(&meta, error_type);
    metric.add(&glean, 1);

    // Test that the function correctly assumes the "metrics" store
    let result = test_get_num_recorded_errors(&glean, &meta, error_type);
    assert_eq!(result, Ok(1));
}
</Rust>