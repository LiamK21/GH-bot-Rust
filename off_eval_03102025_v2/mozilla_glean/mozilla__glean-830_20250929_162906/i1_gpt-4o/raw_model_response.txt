<Filename>glean-core/src/error_recording.rs</Filename>
<imports>
use super::get_error_metric_for_metric;
use crate::CommonMetricData;
use crate::ErrorType;
use crate::CounterMetric;
</imports>
<Rust>
#[test]
fn test_get_error_metric_for_metric() {
    let meta = CommonMetricData {
        name: "test_metric".into(),
        category: "test_category".into(),
        send_in_pings: vec!["test_ping".into()],
        ..Default::default()
    };
    let error = ErrorType::InvalidValue;
    let expected_metric_id = "test_category.test_metric.invalid_value";
    
    let counter_metric = get_error_metric_for_metric(&meta, error);
    let actual_metric_id = counter_metric.meta().identifier();
    
    assert_eq!(expected_metric_id, actual_metric_id);
}
</Rust>