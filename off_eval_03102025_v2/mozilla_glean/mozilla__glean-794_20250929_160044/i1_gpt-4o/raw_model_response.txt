<Filename>glean-core/src/lib.rs</Filename>
<imports>
use super::Glean;
use super::system;
use crate::internal_metrics::CoreMetrics;
</imports>
<Rust>
#[test]
fn test_os_metric_set_correctly() {
    let glean = Glean::new();
    let expected_os = system::OS;
    
    glean.set_application_lifetime_core_metrics();
    
    let actual_os = glean.core_metrics.os.test_get_value(&glean, "glean_client_info").unwrap();
    
    assert_eq!(expected_os, actual_os);
}
</Rust>