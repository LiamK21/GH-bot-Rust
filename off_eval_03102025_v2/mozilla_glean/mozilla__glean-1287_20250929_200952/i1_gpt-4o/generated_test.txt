#[test]
fn test_get_value_defaults_to_first_send_in_ping() {
    dispatcher::block_on_queue();

    let boolean_metric = BooleanMetric::new(
        Arc::new(crate::metrics::BooleanMetric::new(
            "category",
            "name",
            "test",
            vec!["ping1", "ping2"],
        )),
    );

    with_glean(|glean| {
        boolean_metric.set(glean, true);
    });

    let expected = Some(true);
    let actual = boolean_metric.test_get_value(None);
    assert_eq!(expected, actual);
}