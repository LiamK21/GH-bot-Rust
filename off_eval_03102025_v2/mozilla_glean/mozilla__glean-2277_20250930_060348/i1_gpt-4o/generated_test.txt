#[test]
fn test_remove_dir_all_windows() {
    let temp_dir = tempfile::tempdir().unwrap();
    let db_path = temp_dir.path().join("event_db");
    create_dir_all(&db_path).unwrap();
    let file_path = db_path.join("test_file");
    let mut file = File::create(&file_path).unwrap();
    writeln!(file, "test content").unwrap();

    let event_db = EventDatabase {
        path: db_path.clone(),
        file_lock: std::sync::RwLock::new(()),
    };

    assert!(event_db.clear().is_ok());
    assert!(!db_path.exists());
}