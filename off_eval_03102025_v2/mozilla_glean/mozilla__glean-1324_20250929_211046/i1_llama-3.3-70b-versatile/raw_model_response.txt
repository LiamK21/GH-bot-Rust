<Filename> glean-core/src/private/string.rs </Filename>
<imports> 
use super::StringMetric;
use super::dispatcher;
use std::sync::Arc;
use glean_core::metrics::StringMetric as GleanStringMetric;
use glean_core::ErrorType;
use glean_core::CommonMetricData;
use glean_core::Lifetime;
</imports>
<Rust>
#[test]
fn test_set_string_metric() {
  let meta = CommonMetricData {
    name: "string_metric".into(),
    category: "test".into(),
    send_in_pings: vec!["store1".into()],
    lifetime: Lifetime::Application,
    disabled: false,
    dynamic_label: None,
  };
  let metric = StringMetric(Arc::new(GleanStringMetric::new(meta.clone())));
  let value = "test_string";
  metric.set(value);
  let actual = metric.test_get_value(None);
  assert_eq!(actual.unwrap(), value);
}</Rust>