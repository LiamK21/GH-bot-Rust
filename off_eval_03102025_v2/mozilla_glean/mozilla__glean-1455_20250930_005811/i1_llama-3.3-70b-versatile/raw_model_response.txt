<Filename> glean-core/src/lib_unit_tests.rs </Filename>
<imports> 
use super::*;
use tempfile::tempdir;
</imports>
<Rust>
#[test]
fn test_baseline_pings() {
  let _ = env_logger::builder().is_test(true).try_init();
  let dir = tempdir().unwrap();
  let (mut glean, _) = new_glean(Some(dir));

  // Simulate becoming active.
  glean.handle_client_active();

  // Check that we set everything we needed for the 'active' status.
  assert!(glean.is_dirty_flag_set());

  // Simulate becoming inactive
  glean.handle_client_inactive();

  // Check that we set everything we needed for the 'inactive' status.
  assert!(!glean.is_dirty_flag_set());
}
</Rust>