#[test]
fn test_ffi_ping_upload_task_body_buffer() {
    let task = PingUploadTask::Upload {
        document_id: "test-doc".to_string(),
        path: "test-path".to_string(),
        body: json!({"key": "value"}),
        headers: json!({"header": "value"}),
    };

    let ffi_task = FfiPingUploadTask::from(task);

    match ffi_task {
        FfiPingUploadTask::Upload {
            document_id: _,
            path: _,
            body: ByteBuffer { .. },
            headers: _,
        } => (),
        _ => panic!("Expected Upload variant"),
    }

    // Ensure the task can be dropped without issues
    drop(ffi_task);
}