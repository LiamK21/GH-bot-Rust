<Filename> glean-core/ffi/src/lib.rs </Filename>
<imports>
use super::glean_set_log_pings;
use super::glean_get_upload_task;
use std::ptr;
</imports>
<Rust>
#[test]
fn test_glean_get_upload_task_without_log_ping() {
    let mut result = FfiPingUploadTask::default();
    let result_ptr: *mut FfiPingUploadTask = &mut result;

    // Set log pings to false
    unsafe { glean_set_log_pings(0) };

    // Call the function under test
    unsafe { glean_get_upload_task(result_ptr) };

    // Define expected behavior
    let expected = FfiPingUploadTask::from(false);

    // Compare expected with actual
    assert_eq!(unsafe { ptr::read(result_ptr) }, expected);
}
</Rust>