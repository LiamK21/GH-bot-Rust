#[test]
fn test_priority_update_frame_encoding() {
    let mut frame = PriorityUpdateFrame::default();
    frame.element_id = 0x10;
    frame.priority = 123;

    let mut encoder = Encoder::new();
    frame.encode(&mut encoder).unwrap();

    let expected = vec![
        0x00, 0x00, 0x00, 0x02, // Frame header
        0x00, 0x00, 0x00, 0x07, // Varint for element_id
        0x7B, 0x7A, 0x7D        // "123" encoded as bytes
    ];

    let actual = encoder.as_ref().to_vec();
    assert_eq!(expected, actual);
}