#[test]
fn test_connection_close_state() {
  let mut client = super::Connection::new();
  let state = client.is_closed().unwrap();
  assert_eq!(state, CloseState::NotClosing);
  client.close(std::time::Instant::now(), 0, "kthxbye!");
  let state = client.is_closed().unwrap();
  assert_eq!(state, CloseState::Closing);
}