#[test]
fn test_first_unmarked_range_cache() {
  let mut range_tracker = RangeTracker::default();
  let mut used: BTreeMap<u64, (u64, RangeTracker::RangeState)> = BTreeMap::new();
  used.insert(0, (10, RangeTracker::RangeState::Initial));
  used.insert(20, (10, RangeTracker::RangeState::Initial));
  range_tracker.used = used;
  let first_unmarked = range_tracker.first_unmarked_range();
  assert_eq!(first_unmarked, (0, Some(10)));
  range_tracker.first_unmarked = None;
  let first_unmarked = range_tracker.first_unmarked_range();
  assert_eq!(first_unmarked, (0, Some(10)));
  let mut range_tracker_2 = RangeTracker::default();
  let mut used_2: BTreeMap<u64, (u64, RangeTracker::RangeState)> = BTreeMap::new();
  used_2.insert(10, (10, RangeTracker::RangeState::Initial));
  used_2.insert(30, (10, RangeTracker::RangeState::Initial));
  range_tracker_2.used = used_2;
  let first_unmarked_2 = range_tracker_2.first_unmarked_range();
  assert_eq!(first_unmarked_2, (0, Some(10)));
}