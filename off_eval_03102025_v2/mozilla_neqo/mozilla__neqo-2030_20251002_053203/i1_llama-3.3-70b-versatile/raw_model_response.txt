<Filename> neqo-crypto/src/lib.rs </Filename>
<imports> 
use super::init;
use super::version_check;
use neqo_common::Res;
use neqo_common::Error;
use std::ffi::CString;
</imports>
<Rust>
#[test]
fn test_initDoesNotPanicWhenNssVersionCheckFails() {
  let min_ver = CString::new("100").unwrap();
  std::mem::swap(&mut MINIMUM_NSS_VERSION, "100");
  let result = init();
  assert!(result.is_err());
  std::mem::swap(&mut MINIMUM_NSS_VERSION, "3.0");
}</Rust>