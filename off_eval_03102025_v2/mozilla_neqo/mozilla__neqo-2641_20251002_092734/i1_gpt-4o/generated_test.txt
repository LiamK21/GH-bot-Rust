#[test]
fn test_update_multi_reliability() {
    let max_lag = Duration::from_millis(5);
    let result = std::panic::catch_unwind(|| {
        check_delays(max_lag);
    });
    assert!(result.is_ok(), "check_delays should not panic with max_lag of 5ms");
}