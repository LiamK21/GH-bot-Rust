#[test]
fn test_send_datagram() {
  let socket = Socket::new().unwrap();
  let datagram = Datagram {
      src: SocketAddr::new(IpAddr::V4(Ipv4Addr::new(127, 0, 0, 1)), 1234),
      dst: SocketAddr::new(IpAddr::V4(Ipv4Addr::new(127, 0, 0, 1)), 5678),
      tos: 0,
      ttl: None,
      d: vec![1, 2, 3],
      segment_size: None,
  };
  let result = socket.send(&datagram);
  assert!(result.is_ok());
}