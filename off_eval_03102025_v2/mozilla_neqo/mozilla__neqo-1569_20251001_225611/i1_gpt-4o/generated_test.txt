#[test]
fn test_docker_image_build_and_push() {
    // Setup: Create a temporary directory to simulate the Docker build context
    let temp_dir = tempfile::tempdir().unwrap();
    let dockerfile_path = temp_dir.path().join("Dockerfile");
    fs::write(&dockerfile_path, "FROM scratch").unwrap();

    // Simulate the command that would be run in CI to build and push the Docker image
    let output = Command::new("docker")
        .arg("build")
        .arg("-t")
        .arg("neqoquic/neqo-qns:latest")
        .arg(temp_dir.path())
        .output()
        .expect("Failed to execute docker build");

    // Check that the Docker build command was successful
    assert!(output.status.success());

    // Simulate the command that would be run in CI to push the Docker image
    let output = Command::new("docker")
        .arg("push")
        .arg("neqoquic/neqo-qns:latest")
        .output()
        .expect("Failed to execute docker push");

    // Check that the Docker push command was successful
    assert!(output.status.success());
}