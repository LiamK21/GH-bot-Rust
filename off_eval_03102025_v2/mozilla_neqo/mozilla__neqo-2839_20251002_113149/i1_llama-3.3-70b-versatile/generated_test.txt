#[test]
fn test_skip_while_padding_frame() {
  let mut e = Encoder::new();
  e.encode_varint(0); // FrameType::Padding
  e.pad_to(65536, 0); // u16::MAX + 1
  let mut dec = e.as_decoder();
  let result = Frame::decode(&mut dec);
  assert!(result.is_err());
}