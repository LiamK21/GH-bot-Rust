<Filename>neqo-transport/src/connection.rs</Filename>
<imports>
use super::Connection;
use neqo_common::qinfo;
use neqo_transport::packet::PacketHdr;
use neqo_transport::path::Path;
use std::net::SocketAddr;
</imports>
<Rust>
#[test]
fn test_retry_token_set_on_valid_retry() {
    let mut conn = Connection::new();
    let hdr = PacketHdr {
        scid: Some(vec![1, 2, 3, 4]),
        ..Default::default()
    };
    let token = vec![5, 6, 7, 8];
    let path = Path {
        remote_cid: vec![],
        ..Default::default()
    };
    conn.handle_retry(&hdr, &token, &path).unwrap();
    assert_eq!(conn.retry_token, Some(token));
}
</Rust>