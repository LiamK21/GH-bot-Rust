#[test]
fn test_stats_output() {
    struct MockClient {
        closed: bool,
        stats: Stats,
    }

    impl Client for MockClient {
        fn fetch<S>(&mut self, _url: S, _upload: Option<Vec<u8>>) where S: AsRef<str> + Display {}
        fn advance(&mut self) {}
        fn close<S>(&mut self, _now: std::time::Instant, _app_error: u64, _msg: S) where S: AsRef<str> + Display {}
        fn is_closed(&self) -> bool {
            self.closed
        }
        fn stats(&self) -> Stats {
            self.stats.clone()
        }
    }

    let client = MockClient {
        closed: true,
        stats: Stats::default(),
    };

    let expected_stats = Stats::default();
    let actual_stats = client.stats();
    assert_eq!(expected_stats, actual_stats);
}