<Filename>neqo-crypto/src/agent.rs</Filename>
<imports>
use super::SecretAgent;
use ssl::Opt;
</imports>
<Rust>
#[test]
fn test_disable_random_feature_effect() {
    let mut agent = SecretAgent::new();
    let grease = true;

    // Expected behavior when "disable-random" feature is enabled
    let expected_grease = false;
    let expected_permutation = false;

    // Apply settings with "disable-random" feature enabled
    agent.set_option(Opt::Grease, cfg!(not(feature = "disable-random")) && grease).unwrap();
    agent.set_option(Opt::EnableChExtensionPermutation, cfg!(not(feature = "disable-random"))).unwrap();

    // Check if the options are set correctly
    let actual_grease = agent.get_option(Opt::Grease).unwrap();
    let actual_permutation = agent.get_option(Opt::EnableChExtensionPermutation).unwrap();

    assert_eq!(expected_grease, actual_grease);
    assert_eq!(expected_permutation, actual_permutation);
}
</Rust>