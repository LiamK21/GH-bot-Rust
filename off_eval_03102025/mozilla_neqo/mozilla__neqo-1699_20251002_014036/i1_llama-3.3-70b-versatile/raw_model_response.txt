<Filename> neqo-common/src/log.rs </Filename>
<imports> 
use std::sync::Once;
use log::LevelFilter;
use log::Level;
</imports>
<Rust>
#[test]
fn test_init_log_level() {
  let orig_env = std::env::var("RUST_LOG").ok();
  std::env::set_var("RUST_LOG", "");
  let static_max_level = LevelFilter::Off;
  unsafe { log::STATIC_MAX_LEVEL = static_max_level; }
  let init_once = Once::new();
  init_once.call_once(|| {});
  std::env::set_var("RUST_LOG", "debug");
  let static_max_level = LevelFilter::Debug;
  unsafe { log::STATIC_MAX_LEVEL = static_max_level; }
  let init_once = Once::new();
  init_once.call_once(|| {});
  if let Some/env_var) = orig_env {
    std::env::set_var("RUST_LOG", env_var);
  } else {
    std::env::remove_var("RUST_LOG");
  }
  assert_eq!(log::max_level(), LevelFilter::Off);
}</Rust>