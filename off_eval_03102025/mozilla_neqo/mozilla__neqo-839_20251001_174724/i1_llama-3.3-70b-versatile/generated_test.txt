#[test]
fn test_idle_timeout_expiry() {
  let mut conn = Connection::new();
  let now = Instant::now();
  let pto = Duration::from_millis(10);
  let idle_time_before = conn.idle_timeout.expiry(now, pto);
  conn.idle_timeout.state = IdleTimeoutState::Init;
  let idle_time_after = conn.idle_timeout.expiry(now, pto);
  assert_ne!(idle_time_before, idle_time_after);
}