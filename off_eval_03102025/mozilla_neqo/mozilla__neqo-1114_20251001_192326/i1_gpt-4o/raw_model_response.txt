<Filename>neqo-transport/src/connection/params.rs</Filename>
<imports>
use super::ConnectionParameters;
use crate::connection::{ConnectionIdManager, Role};
use crate::tparams::TransportParametersHandler;
use crate::Res;
use std::cell::RefCell;
use std::rc::Rc;
</imports>
<Rust>
#[test]
fn test_create_transport_parameter() {
    let conn_params = ConnectionParameters::default();
    let cid_generator = Rc::new(RefCell::new(crate::connection::ConnectionIdGenerator::new(0)));
    let mut cid_manager = ConnectionIdManager::new(cid_generator, vec![0; 8]);
    let role = Role::Client;

    let result: Res<TransportParametersHandler> = conn_params.create_transport_parameter(role, &mut cid_manager);

    assert!(result.is_ok());
    let tps = result.unwrap();
    assert_eq!(tps.local.get_integer(crate::tparams::INITIAL_MAX_DATA), Some(conn_params.get_max_data()));
    assert_eq!(tps.local.get_integer(crate::tparams::INITIAL_MAX_STREAM_DATA_BIDI_LOCAL), Some(conn_params.get_max_stream_data(crate::stream_id::StreamType::BiDi)));
    assert_eq!(tps.local.get_integer(crate::tparams::INITIAL_MAX_STREAM_DATA_UNI), Some(conn_params.get_max_stream_data(crate::stream_id::StreamType::UniDi)));
    assert_eq!(tps.local.get_integer(crate::tparams::INITIAL_MAX_STREAMS_BIDI), Some(conn_params.get_max_streams(crate::stream_id::StreamType::BiDi).as_u64()));
    assert_eq!(tps.local.get_integer(crate::tparams::INITIAL_MAX_STREAMS_UNI), Some(conn_params.get_max_streams(crate::stream_id::StreamType::UniDi).as_u64()));
}
</Rust>