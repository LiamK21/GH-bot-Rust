#[test]
fn test_merge_neqo_client_and_server() {
  let mut args = super::Args::parse();
  let urls = vec![Url::parse("http://www.example.com").unwrap()];
  args.urls = urls;
  let args = &args;
  let local_addr = SocketAddr::new("127.0.0.1".parse().unwrap(), 8080);
  let remote_addr = SocketAddr::new("127.0.0.1".parse().unwrap(), 8081);
  let hostname = "example.com";
  let mut socket = Socket::bind(local_addr).unwrap();
  let key_update = super::KeyUpdateState(false);
  let handler_http3 = http3::Handler::new(args.urls.clone(), args, key_update);
  let handler_http09 = http09::Handler::new(args.urls.clone(), args, key_update);
  let client_http3 = http3::create_client(args, local_addr, remote_addr, hostname, None).unwrap();
  let client_http09 = http09::create_client(args, local_addr, remote_addr, hostname, None).unwrap();
  let runner_http3 = super::Runner { local_addr, socket: &mut socket, client: client_http3, handler: handler_http3, timeout: None, args };
  let runner_http09 = super::Runner { local_addr, socket: &mut socket, client: client_http09, handler: handler_http09, timeout: None, args };
  let result_http3 = runner_http3.run();
  let result_http09 = runner_http09.run();
  assert!(result_http3.is_ok());
  assert!(result_http09.is_ok());
}