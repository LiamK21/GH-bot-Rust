#[test]
fn test_aead_initialization_with_c_char() {
    let version = 1;
    let cipher = 1;
    let secret = vec![0u8; 32];
    let p = CString::new("test").unwrap();
    let mut ctx = std::ptr::null_mut();

    let result = Aead::new(
        version,
        cipher,
        secret,
        p.as_ptr() as *const c_char,
        p.as_bytes().len() as u32,
        &mut ctx,
    );

    assert!(result.is_ok());
}