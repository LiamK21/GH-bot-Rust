<Filename>neqo-transport/src/cc.rs</Filename>
<imports>
use super::detect_persistent_congestion;
use std::time::Duration;
use crate::packet::PacketNumber;
use crate::tracking::SentPacket;
use std::time::Instant;
</imports>
<Rust>
#[test]
fn test_detect_persistent_congestion() {
  let mut cc = super::CongestionControl::default();
  let pto = Duration::from_millis(100);
  let lost_packets = vec![
    SentPacket::new(crate::packet::PacketType::Short, PacketNumber(1), Instant::now(), true, std::rc::Rc::default(), 100),
    SentPacket::new(crate::packet::PacketType::Short, PacketNumber(2), Instant::now() + Duration::from_millis(150), true, std::rc::Rc::default(), 100),
  ];
  let prev_largest_acked_sent = None;
  let expected_cwnd = super::MIN_CONG_WINDOW;
  detect_persistent_congestion(&mut cc, prev_largest_acked_sent, pto, &lost_packets);
  assert_eq!(cc.congestion_window, expected_cwnd);
}</Rust>