<Filename>neqo-client/src/main.rs</Filename>
<imports>
use super::old::Handler;
use neqo_transport::{Connection, State, StreamId, ResumptionToken};
use std::collections::HashMap;
use std::time::Instant;
</imports>
<Rust>
#[test]
fn test_handle_resumption_token() {
    let mut handler = Handler {
        streams: HashMap::new(),
        url_queue: Vec::new(),
        token: None,
    };
    let mut client = Connection::new_client(
        "example.com",
        &[&"alpn"],
        Instant::now(),
    ).unwrap();

    // Simulate the client state and events
    client.set_state(State::Connected);
    handler.token = Some(ResumptionToken::new(vec![1, 2, 3], Instant::now()));

    let result = handler.handle(&mut client).unwrap();
    assert!(result);
    assert!(handler.token.is_some());
}
</Rust>