#[test]
fn test_handle_resumption_token() {
    let mut handler = Handler {
        streams: HashMap::new(),
        url_queue: Vec::new(),
        token: None,
    };
    let mut client = Connection::new_client(
        "example.com",
        &[&"alpn"],
        Instant::now(),
    ).unwrap();

    // Simulate the client state and events
    client.set_state(State::Connected);
    handler.token = Some(ResumptionToken::new(vec![1, 2, 3], Instant::now()));

    let result = handler.handle(&mut client).unwrap();
    assert!(result);
    assert!(handler.token.is_some());
}