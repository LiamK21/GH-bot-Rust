#[test]
fn test_detect_lost_overflow() {
    let mut space = LossRecoverySpace::new(1);
    let mut packet = Packet::default();
    packet.time_sent = 0;
    space.packets.insert(1, packet);

    let now = 1;
    let loss_delay = 2;

    space.detect_lost_packets(now, loss_delay);

    let lost_packets = space.lost.iter().collect::<Vec<_>>();
    assert!(!lost_packets.contains(&1));
}