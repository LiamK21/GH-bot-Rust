<Filename> neqo-transport/src/recovery.rs </Filename>
<imports> 
use neqo_transport::recovery::LossRecoverySpace;
use neqo_transport::recovery::Packet;
use std::time::Duration;
</imports>
<Rust>
#[test]
fn test_detect_lost_packets_overflow() {
  let mut loss_recovery_space = LossRecoverySpace::new();
  let now = 1000;
  let loss_delay = std::time::Duration::from_millis(u64::MAX);
  let packet = Packet { time_sent: now - loss_delay };
  let largest_acked = 10;
  
  // Before the patch, this should panic due to overflow
  std::panic::catch_unwind(|| {
    let _ = loss_recovery_space.detect_lost_packets(now, loss_delay, largest_acked);
  }).unwrap();

  let mut loss_recovery_space = LossRecoverySpace::new();
  // After the patch, this should not panic
  loss_recovery_space.detect_lost_packets(now, loss_delay, largest_acked);
  assert!(true);
}</Rust>