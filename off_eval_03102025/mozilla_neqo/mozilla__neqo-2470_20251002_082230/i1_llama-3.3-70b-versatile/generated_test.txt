#[test]
fn test_socket_bind_with_buffer_size() {
  let addr: SocketAddr = "127.0.0.1:34254".parse().unwrap();
  let socket = super::Socket::bind(addr).unwrap();
  let state = quinn_udp::UdpSocketState::new(socket.inner.into_std().unwrap());
  let recv_buf_size = state.recv_buffer_size(socket.inner.into_std().unwrap()).unwrap();
  assert_ge!(recv_buf_size, 1 << 20);
}