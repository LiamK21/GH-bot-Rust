#[test]
fn test_rtt_update_with_checked_duration_since() {
  let mut loss_recovery = LossRecovery { confirmed_time: None, qlog: vec![] };
  let send_time = Instant::now() - Duration::from_millis(100);
  let now = Instant::now();
  let ack_delay: Duration = Duration::from_millis(10);
  let mut rtt = MockRTT {};
  loss_recovery.on_ack_received(now, send_time, ack_delay, &mut rtt);
  assert!(rtt.updated);
}

struct MockRTT {
  updated: bool,
}

impl MockRTT {
  fn update(&mut self, _qlog: &mut Vec<u8>, _sample: Duration, _ack_delay: Duration, _confirmed: bool, _now: Instant) {
    self.updated = true;
  }
}