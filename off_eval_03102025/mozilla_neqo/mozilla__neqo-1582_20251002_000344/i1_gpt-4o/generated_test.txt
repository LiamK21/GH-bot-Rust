#[test]
fn test_next_bytes_cpu_usage() {
    let mut tx_buffer = TxBuffer::default();
    tx_buffer.mark_range(0, 10, RangeState::Sent);
    tx_buffer.mark_range(20, 10, RangeState::Sent);
    tx_buffer.mark_range(40, 10, RangeState::Sent);

    let expected = Some((10, &[0u8; 0][..]));
    let actual = tx_buffer.next_bytes();

    assert_eq!(expected, actual);
}