<Filename>neqo-transport/src/recovery.rs</Filename>
<imports>
use super::LossRecovery;
use super::PNSpace;
use std::time::Instant;
</imports>
<Rust>
#[test]
fn test_pto_probes_sent_on_expiry() {
    let mut lr = LossRecovery::new();
    let now = Instant::now();
    lr.start_pacer(now);
    lr.on_packet_sent(SentPacket::new(
        PacketType::Short,
        0,
        now,
        true,
        Rc::default(),
        1200,
    ));
    let pto_time = lr.pto_time(PNSpace::ApplicationData).unwrap();
    assert!(pto_time > now);
    let mut lost_packets = Vec::new();
    lr.maybe_fire_pto(pto_time, &mut lost_packets);
    assert!(!lost_packets.is_empty());
}
</Rust>