<Filename> neqo-transport/src/connection.rs </Filename>
<imports> 
use neqo_transport::connection::Connection;
use neqo_transport::recovery::PTO_PACKET_COUNT;
use neqo_transport::path::PATH_MTU_V6;
use neqo_common::matches;
use std::mem;
use test_fixture::{self, assertions, fixture_init, loopback, now};
use std::time::Duration;
use std::time::Instant;
</imports>
<Rust>
#[test]
fn test_pto_callback_time() {
    let mut client = Connection::default();
    let mut server = Connection::default();
    connect(&mut client, &mut server);
    let mut now = now();
    let _ = send_something(&mut client, now);
    now += Duration::from_secs(1);
    let dgram = client.process(None, now).dgram();
    assert!(dgram.is_some());
    for _ in 0..PTO_PACKET_COUNT {
        let dgram = client.process(None, now).dgram();
        assert!(dgram.is_some());
    }
    assert!(client.process(None, now).dgram().is_none());
    let _ = send_something(&mut server, now);
    let dgram = send_something(&mut server, now);
    let ack = client.process(Some(dgram), now).dgram();
    assert!(ack.is_some());
    let frames = server.test_process_input(ack.unwrap(), now);
    assert_eq!(frames.len(), 1);
    for (frame, space) in frames {
        assert_eq!(space, 0);
        assert!(matches!(frame, Frame::Ack { .. }));
    }
}
</Rust>