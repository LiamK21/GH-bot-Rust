#[test]
fn test_send_inner_error_propagation() {
  let socket = UdpSocket::bind("127.0.0.1:0").unwrap();
  let state = UdpSocketState {};
  let datagram = [0; 10];

  let result = send_inner(&state, UdpSockRef::new(&socket), &datagram);

  assert!(result.is_err());
}