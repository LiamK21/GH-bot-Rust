#[test]
fn test_borrow_event() {
    let mut connection = Http3Connection {
        conn: Rc::new(RefCell::new(Connection::default())),
        state: Http3State::Initializing,
        settings_received: false,
        streams_are_readable: std::collections::BTreeSet::new(),
        streams_have_data_to_send: std::collections::BTreeSet::new(),
        events: Http3Events::default(),
        handler: None,
    };
    let events_before = connection.events.events().len();
    connection.events.connected();
    let events_after = connection.events.events().len();
    assert!(events_after > events_before);
}