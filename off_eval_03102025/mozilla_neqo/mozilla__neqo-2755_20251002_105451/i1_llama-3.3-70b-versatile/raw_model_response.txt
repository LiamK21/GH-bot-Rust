<Filename> neqo-udp/src/lib.rs </Filename>
<imports> 
use neqo_udp::Socket;
use neqo_udp::Datagram;
use std::net::UdpSocket;
use std::net::SocketAddr;
use std::io;
</imports>
<Rust>
#[test]
fn test_send_ignore_emsgsize() {
  let sender = Socket::new(UdpSocket::bind("127.0.0.1:0").unwrap()).unwrap();
  let receiver = Socket::new(UdpSocket::bind("127.0.0.1:0").unwrap()).unwrap();
  let oversized_datagram = Datagram::new(sender.inner.local_addr().unwrap(), receiver.inner.local_addr().unwrap());
  sender.send(&oversized_datagram).unwrap();
  let normal_datagram = Datagram::new(sender.inner.local_addr().unwrap(), receiver.inner.local_addr().unwrap());
  sender.send(&normal_datagram).unwrap();
  let mut recv_buf = Vec::new();
  receiver.inner.set_nonblocking(false).unwrap();
  let received_datagram = receiver.recv(receiver.inner.local_addr().unwrap(), &mut recv_buf);
  assert!(received_datagram.is_ok());
}</Rust>