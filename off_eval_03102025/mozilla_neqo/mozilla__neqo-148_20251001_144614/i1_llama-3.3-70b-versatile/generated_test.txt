#[test]
fn test_secstatus_to_res() {
  let _ = unsafe { PR_SetError(PRErrorCode::PR_WOULD_BLOCK_ERROR as i32, 0) };
  let result = secstatus_to_res(SECFailure);
  assert!(result.is_err());
  match result.unwrap_err() {
      Error::NssError { code, .. } => {
          assert_eq!(code, PRErrorCode::PR_WOULD_BLOCK_ERROR as i32);
      }
      _ => panic!("bad error type"),
  }
}