#[test]
fn test_pto_period_non_zero() {
    let mut recovery = Recovery::new(
        pn_space::PnSpace::new(0),
        Timestamp::zero(),
        Duration::from_secs(1),
        1,
        1,
    );

    let pto_state = recovery.pn_space().pto_state().map_or(0, |p| p.count);
    let rtt = recovery.rtt().clone();

    // Test with pto_count = 30
    let period_30 = recovery.pto_period_inner(30, rtt.clone());
    assert!(period_30 > Duration::from_secs(0), "PTO period was 0 for count 30");

    // Test with pto_count = 31
    let period_31 = recovery.pto_period_inner(31, rtt.clone());
    assert!(period_31 > Duration::from_secs(0), "PTO period was 0 for count 31");
}