#[test]
fn test_evict_to_infinite_loop_fix() {
    let mut table = HeaderTable::new(true);
    table.set_capacity(10000).unwrap();

    table.insert(b"header1", b"42").unwrap();
    table.insert(b"header2", b"42").unwrap();

    table.increment_acked(1).unwrap();

    assert!(!table.can_evict_to(0));
}