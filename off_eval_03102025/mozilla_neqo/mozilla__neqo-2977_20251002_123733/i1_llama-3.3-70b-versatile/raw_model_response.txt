<Filename> neqo-common/src/datagram.rs </Filename>
<imports> 
use neqo_common::datagram::DatagramBatch;
use std::net::{IpAddr, Ipv6Addr, SocketAddr};
</imports>
<Rust>
#[test]
fn test_datagram_batch_iter() {
  let src = SocketAddr::new(IpAddr::V6(Ipv6Addr::LOCALHOST), 1234);
  let dst = SocketAddr::new(IpAddr::V6(Ipv6Addr::LOCALHOST), 5678);
  let batch = DatagramBatch::new(src, dst, 0, 3, vec![1, 2, 3, 4, 5, 6, 7]);
  let datagrams: Vec<_> = batch.iter().collect();
  assert_eq!(datagrams.len(), 3);
  assert_eq!(datagrams[0], &[1, 2, 3]);
  assert_eq!(datagrams[1], &[4, 5, 6]);
  assert_eq!(datagrams[2], &[7]);
}
</Rust>