<Filename>neqo-http3/src/connection.rs</Filename>

<imports>
use super::Http3Connection;
use neqo_transport::connection::Connection;
use neqo_transport::stream_id::StreamId;
use neqo_common::Error;
use neqo_http3::ReceiveOutput;
</imports>

<Rust>
#[test]
fn test_invalid_session_id_closes_connection_with_h3_id_error() {
    let mut conn = Http3Connection::new();
    let stream_id = StreamId::from(1); // Example stream ID
    let invalid_session_id = StreamId::from(3); // Example invalid session ID

    // Simulate receiving a stream with an invalid session ID
    let result = conn.receive_stream(stream_id, invalid_session_id);

    // Check that the connection is closed with H3_ID_ERROR
    assert_eq!(result, Ok(ReceiveOutput::NoOutput));
    assert!(conn.is_closed_with_error(Error::HttpId.code()));
}
</Rust>