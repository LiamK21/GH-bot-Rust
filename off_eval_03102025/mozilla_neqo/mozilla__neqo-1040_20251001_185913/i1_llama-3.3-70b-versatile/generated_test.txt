#[test]
fn test_client_closes_connection_on_stream_limit_error() {
  let mut client = default_http3_client();
  let mut server = TestServer::new();
  server.set_max_uni_stream(0);
  let out = super::handshake_only(&mut client, &mut server);
  client.process(out.dgram(), std::time::Instant::now());
  assert!(matches!(client.state(), neqo_http3::Http3State::Closed));
}