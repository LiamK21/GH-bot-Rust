<Filename>neqo-transport/src/recv_stream.rs</Filename>
<imports>
use super::RxStreamOrderer;
use std::ops::Range;
</imports>
<Rust>
#[test]
fn test_recv_overlap_end_loss() {
    const ZEROES: &[u8] = &[0; 100];
    let mut s = RxStreamOrderer::default();
    let ranges = &[10..20, 17..19, 0..10];
    for r in ranges {
        let data = ZEROES[..usize::try_from(r.end - r.start).unwrap()].to_vec();
        s.inbound_frame(r.start, data).unwrap();
    }
    let mut buf = vec![0xff; 100];
    let mut total_recvd = 0;
    loop {
        let recvd = s.read(&mut buf);
        total_recvd += recvd;
        if recvd == 0 {
            assert_eq!(total_recvd, 20);
            break;
        }
    }
}
</Rust>