#[test]
fn test_cubic_fast_convergence() {
  let mut cubic = Cubic {
    last_max_cwnd: 1000.0,
    estimated_tcp_cwnd: 500.0,
    k: 1.0,
    w_max: 1000.0,
    ca_epoch_start: Some(Instant::now() - Duration::from_secs(1)),
    tcp_acked_bytes: 0.0,
  };
  let curr_cwnd = 800;
  let max_datagram_size = 100;
  let expected = cubic.last_max_cwnd * CUBIC_FAST_CONVERGENCE;
  cubic.last_max_cwnd = if (curr_cwnd as f64) + (max_datagram_size as f64) < cubic.last_max_cwnd {
    (curr_cwnd as f64) * CUBIC_FAST_CONVERGENCE
  } else {
    cubic.last_max_cwnd
  };
  let actual = cubic.last_max_cwnd;
  assert!((expected - actual).abs() < 0.001);
}