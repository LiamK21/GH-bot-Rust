#[test]
fn test_profraws_to_lcov_handles_large_number_of_files() {
    let temp_dir = TempDir::new().unwrap();
    let mut profraw_paths = Vec::new();

    // Create 1000 dummy profraw files
    for i in 0..1000 {
        let file_path = temp_dir.path().join(format!("file_{}.profraw", i));
        File::create(&file_path).unwrap();
        profraw_paths.push(file_path);
    }

    let working_dir = temp_dir.path();
    let binary_path = PathBuf::from("/bin/ls"); // Any executable binary

    let result = profraws_to_lcov(&profraw_paths, &binary_path, working_dir);

    // Ensure the function doesn't return an error related to argument list too long
    assert!(result.is_ok(), "Expected profraws_to_lcov to handle large number of files");
}