<Filename> src/producer.rs </Filename>
<imports> 
use std::path::PathBuf;
use super::producer;
use std::sync::Arc;
use std::thread;
use std::sync::mpsc::channel;
use walkdir::WalkDir;
use std::fs;
</imports>
<Rust>
#[test]
fn test_producer_with_ignore_orphan_gcno() {
  let (tx, rx) = channel();
  let paths = vec![String::from("test/only_one_gcda")];
  let tmp_dir = PathBuf::from("target/test_producer_with_ignore_orphan_gcno");
  fs::create_dir_all(&tmp_dir).unwrap();
  let result = producer(&tmp_dir, &paths, &tx, true);
  let mut count = 0;
  for _ in rx {
    count += 1;
  }
  assert_eq!(count, 1);
}
</Rust>