#[test]
fn test_output_path_creation() {
    let output_file = "lcov.info";
    let _ = fs::remove_file(output_file);

    let status = Command::new("cargo")
        .args(&[
            "run",
            "--",
            "target/coverage",
            "--binary-path",
            "target/debug/",
            "--source-dir",
            ".",
            "-o",
            output_file,
        ])
        .status()
        .expect("Failed to execute command");

    assert!(status.success());
    assert!(fs::metadata(output_file).is_ok());

    let _ = fs::remove_file(output_file);
}