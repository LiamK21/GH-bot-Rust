<think>
Okay, I need to figure out how to write a regression test for the patch provided. The patch adds an option to use a local Bulma CSS file instead of the CDN. The issue was that the previous version only used the CDN, which isn't allowed in some environments.

First, I should understand what the patch does. It introduces an enum HtmlResources with two variants: Bundled and Cdn. The Config struct now includes html_resources, which determines where to get the CSS. When html_resources is Bundled, it writes the CSS to the output directory. The make_context function now uses this setting to decide the URL for Bulma.

The test needs to verify that when html_resources is set to Bundled, the CSS file is generated in the output directory. Also, it should check that without this option, the file isn't created.

I'll use the tempdir crate to create a temporary directory for testing. I'll set up a Config with html_resources set to Bundled and call the functions that generate the resources. Then, I'll check if bulma.min.css exists in the output directory.

I need to import the necessary modules. Since the test is in the same crate, I'll use super:: to access the functions. I'll also need to import tempdir and other standard modules.

I'll write the test function, create a temporary directory, set up the Config, call gen_bundled_resources, and assert the file exists. Then, I'll clean up the temporary directory.

I should make sure the test is self-contained and doesn't rely on external resources. It should fail before the patch because the CSS wasn't bundled, and pass after the patch because the file is generated.

I think that's all. Now, I'll structure the test according to the requirements, making sure all imports are correctly listed and the test function is properly named.
</think>

<Filename> src/html.rs </Filename>
<imports>
use std::env;
use std::path::PathBuf;
use tempdir::TempDir;
use super::gen_bundled_resources;
use super::Config;
use super::HtmlResources;
</imports>
<Rust>
#[test]
fn test_bundled_resources() {
    let temp_dir = TempDir::new("grcov-test").expect("create temp dir");
    let output_path = PathBuf::from(temp_dir.path());

    let config = Config {
        hi_limit: 90.0,
        med_limit: 75.0,
        branch_enabled: false,
        precision: 0,
        html_resources: HtmlResources::Bundled,
        date: None,
    };

    gen_bundled_resources(&config, &output_path);

    assert!(output_path.join("bulma.min.css").exists());
}
</Rust>