#[test]
fn test_timing_distribution_test_get_value_lock_order() {
  let metric = TimingDistributionMetric(Arc::new(RwLock::new(TimingDistributionMetric::new())));
  let glean = super::Glean::new();
  let ping_name = Some("test_ping");
  let result_before_patch = metric.test_get_value(glean, ping_name);
  metric.0.write().unwrap().test_get_value(glean, ping_name);
  let result_after_patch = metric.test_get_value(glean, ping_name);
  assert_ne!(result_before_patch, result_after_patch);
}