<Filename> glean-core/rlb/src/test.rs </Filename>
<imports> 
use crate::private::CounterMetric;
use crate::private::CommonMetricData;
use crate::private::Lifetime;
use crate::reset_glean;
use crate::Configuration;
use crate::ClientInfoMetrics;
use tempfile::TempDir;
</imports>
<Rust>
#[test]
fn test_counter_metric_add() {
  reset_glean(Configuration { ..Default::default() }, ClientInfoMetrics::unknown(), true);
  let metric = CounterMetric::new(CommonMetricData {
        name: "counter_metric".into(),
        category: "test".into(),
        send_in_pings: vec!["store1".into()],
        lifetime: Lifetime::Application,
        disabled: false,
        dynamic_label: None,
    });
  metric.add(1);
  metric.add(2);
  assert_eq!(3, metric.test_get_value(None).unwrap());
}</Rust>