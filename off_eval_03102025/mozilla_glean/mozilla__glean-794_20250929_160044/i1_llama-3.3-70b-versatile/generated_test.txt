#[test]
fn test_set_application_lifetime_core_metrics() {
  let glean = Glean::new();
  let core_metrics = CoreMetrics {
    client_id: StringMetric::new(super::CommonMetricData {
      name: "client_id".into(),
      category: "".into(),
      send_in_pings: vec!["glean_client_info".into()],
      lifetime: super::Lifetime::Application,
      disabled: false,
      dynamic_label: None,
    }),
    first_run_date: StringMetric::new(super::CommonMetricData {
      name: "first_run_date".into(),
      category: "".into(),
      send_in_pings: vec!["glean_client_info".into()],
      lifetime: super::Lifetime::Application,
      disabled: false,
      dynamic_label: None,
    }),
    os: StringMetric::new(super::CommonMetricData {
      name: "os".into(),
      category: "".into(),
      send_in_pings: vec!["glean_client_info".into()],
      lifetime: super::Lifetime::Application,
      disabled: false,
      dynamic_label: None,
    }),
  };
  let expected_os = system::OS;
  glean.set_application_lifetime_core_metrics();
  let actual_os = core_metrics.os.test_get_value(&glean, "glean_client_info");
  assert_eq!(actual_os, Some(expected_os));
}