<Filename>glean-core/src/lib.rs</Filename>
<imports>
use super::glean_shutdown;
use std::sync::Arc;
use std::sync::Mutex;
</imports>
<Rust>
#[test]
fn test_glean_shutdown() {
    let shutdown_called = Arc::new(Mutex::new(false));
    let shutdown_called_clone = Arc::clone(&shutdown_called);

    // Mock the shutdown function to set the flag
    {
        let _guard = shutdown_called.lock().unwrap();
        *shutdown_called.lock().unwrap() = true;
    }

    glean_shutdown();

    let actual = *shutdown_called_clone.lock().unwrap();
    let expected = true;
    assert_eq!(expected, actual);
}
</Rust>