<Filename> glean-core/src/lib.rs </Filename>
<imports> 
use std::thread;
use std::time::Duration;
use super::shutdown;
use super::block_on_queue;
use super::block_on_queue_timeout;
</imports>
<Rust>
#[test]
fn test_block_on_queue_timeout_resolves_shutdown_hang() {
    let handle = thread::spawn(move || {
        block_on_queue();
    });
    thread::sleep(Duration::from_millis(100));
    let result = block_on_queue_timeout(Duration::from_millis(50));
    assert!(result.is_err());
    handle.join().unwrap();
}</Rust>