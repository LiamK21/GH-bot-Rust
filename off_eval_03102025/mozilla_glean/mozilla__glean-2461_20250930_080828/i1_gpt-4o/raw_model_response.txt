<Filename>glean-core/src/lib.rs</Filename>
<imports>
use super::shutdown;
use std::sync::{Arc, Mutex};
use std::thread;
use std::time::Duration;
</imports>
<Rust>
#[test]
fn test_shutdown_timeout() {
    let shutdown_called = Arc::new(Mutex::new(false));
    let shutdown_called_clone = Arc::clone(&shutdown_called);

    // Simulate a long-running task that would cause a timeout
    thread::spawn(move || {
        thread::sleep(Duration::from_secs(15));
        let mut called = shutdown_called_clone.lock().unwrap();
        *called = true;
    });

    // Call the shutdown function, which should timeout
    shutdown();

    // Check if the shutdown was called within the timeout
    let called = shutdown_called.lock().unwrap();
    assert!(!*called, "Shutdown did not timeout as expected");
}
</Rust>