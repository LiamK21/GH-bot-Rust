<Filename> glean-core/src/lib.rs </Filename>
<imports>
use super::glean_set_metrics_disabled_config;
use crate::metrics::MetricsDisabledConfig;
use serde_json::json;
</imports>
<Rust>
#[test]
fn test_glean_set_metrics_disabled_config() {
  let json = json!({
    "test_category.test_metric": true
  }).to_string();
  glean_set_metrics_disabled_config(json);
  let expected_config = MetricsDisabledConfig {
    metrics_disabled: vec![("test_category.test_metric".to_string(), true)].into_iter().collect(),
  };
  let actual_config = MetricsDisabledConfig::try_from(json).unwrap();
  assert_eq!(expected_config, actual_config);
}
</Rust>