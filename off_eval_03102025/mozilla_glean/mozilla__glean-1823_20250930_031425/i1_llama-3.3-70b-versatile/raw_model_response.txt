<Filename> glean-core/ffi/src/labeled.rs </Filename>
<imports> 
use std::sync::Mutex;
use once_cell::sync::Lazy;
use std::collections::HashMap;
use std::collections::hash_map::Entry;
use super::glean_labeled_counter_metric_get;
</imports>
<Rust>
#[test]
fn test_glean_labeled_counter_metric_get() {
  let handle = 1;
  let label = "test_label";
  let id = format!("{}/{}", handle, label);
  let mut map: Lazy<Mutex<HashMap<String, u64>>> = Lazy::new(|| {
    Mutex::new(HashMap::new())
  });
  let mut label_map = map.lock().unwrap();
  label_map.insert(id.clone(), 1);
  let result = unsafe { glean_labeled_counter_metric_get(handle, label) };
  assert_eq!(result, 1);
}</Rust>