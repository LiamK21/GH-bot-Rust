#[test]
fn test_merge_saturating_add() {
    let mut histogram1 = Histogram {
        bucketing: LinearOrExponential::Linear(1),
        sum: u32::MAX,
        count: u32::MAX,
        values: HashMap::new(),
    };

    let histogram2 = Histogram {
        bucketing: LinearOrExponential::Linear(1),
        sum: 1,
        count: 1,
        values: HashMap::new(),
    };

    histogram1.merge(&histogram2);

    assert_eq!(histogram1.sum, u32::MAX);
    assert_eq!(histogram1.count, u32::MAX);
}