<Filename>glean-core/src/lib_unit_tests.rs</Filename>
<imports>
use super::records_database_file_size;
use tempfile::tempdir;
use crate::Glean;
</imports>
<Rust>
#[test]
fn test_records_database_file_size_with_rkv_load_error() {
    let dir = tempdir().unwrap();
    let tmpname = dir.path().display().to_string();

    // Initialize Glean to ensure we create the database and did not error.
    let glean = Glean::with_options(&tmpname, "test_app_id", true);
    let rkv_load_state = &glean.database_metrics.rkv_load_error;
    let rkv_load_error = rkv_load_state.get_value(&glean, "metrics");

    assert_eq!(rkv_load_error, None);
}
</Rust>