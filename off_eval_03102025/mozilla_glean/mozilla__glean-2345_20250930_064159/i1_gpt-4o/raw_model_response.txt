<Filename>
tools/embedded-uniffi-bindgen/src/main.rs
</Filename>
<imports>
use super::main;
use std::env;
use std::fs::File;
use std::io::Write;
use std::path::Path;
</imports>
<Rust>
#[test]
fn test_config_option() {
    // Set up a temporary UDL file
    let udl_file_path = "test.udl";
    let mut udl_file = File::create(udl_file_path).unwrap();
    writeln!(udl_file, "interface TestInterface {}").unwrap();

    // Set up a temporary config file
    let config_file_path = "test_config.toml";
    let mut config_file = File::create(config_file_path).unwrap();
    writeln!(config_file, "[config]").unwrap();

    // Set up command line arguments
    env::set_var("RUST_TEST_ARGS", format!("--udl {} --config {}", udl_file_path, config_file_path));

    // Run the main function
    let result = main();

    // Clean up
    std::fs::remove_file(udl_file_path).unwrap();
    std::fs::remove_file(config_file_path).unwrap();

    // Check that the result is Ok
    assert!(result.is_ok());
}
</Rust>