#[test]
fn test_glean_state() {
    let metric_id = 1;
    let storage_name = "test\0".into();

    // Set a boolean value
    unsafe { glean_boolean_set(metric_id, 1) };

    // Verify the value exists
    let has_value = unsafe { glean_boolean_test_has_value(metric_id, storage_name) };
    assert_eq!(has_value, 1);

    // Get the boolean value
    let value = unsafe { glean_boolean_test_get_value(metric_id, storage_name) };
    assert_eq!(value, 1);
}