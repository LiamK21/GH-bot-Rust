#[test]
fn test_compute_minmax_updates_loc_minmax() {
    let mut state = State {
        space: Metrics {
            loc: Loc {
                sloc: 10.0,
                ploc: 5.0,
                cloc: 3.0,
                lloc: 2.0,
                blank: 1.0,
                sloc_min: f64::MAX,
                sloc_max: 0.0,
                ploc_min: f64::MAX,
                ploc_max: 0.0,
                cloc_min: f64::MAX,
                cloc_max: 0.0,
                lloc_min: f64::MAX,
                lloc_max: 0.0,
                blank_min: f64::MAX,
                blank_max: 0.0,
            },
            ..Default::default()
        },
        ..Default::default()
    };

    compute_minmax(&mut state);

    assert_eq!(state.space.metrics.loc.sloc_min, 10.0);
    assert_eq!(state.space.metrics.loc.sloc_max, 10.0);
    assert_eq!(state.space.metrics.loc.ploc_min, 5.0);
    assert_eq!(state.space.metrics.loc.ploc_max, 5.0);
    assert_eq!(state.space.metrics.loc.cloc_min, 3.0);
    assert_eq!(state.space.metrics.loc.cloc_max, 3.0);
    assert_eq!(state.space.metrics.loc.lloc_min, 2.0);
    assert_eq!(state.space.metrics.loc.lloc_max, 2.0);
    assert_eq!(state.space.metrics.loc.blank_min, 1.0);
    assert_eq!(state.space.metrics.loc.blank_max, 1.0);
}