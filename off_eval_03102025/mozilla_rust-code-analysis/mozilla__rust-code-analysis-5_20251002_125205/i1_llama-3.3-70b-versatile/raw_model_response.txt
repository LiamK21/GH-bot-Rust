<Filename> src/web/server.rs </Filename>
<imports> 
use super::ast::{AstPayload, AstCfg};
use super::comment::{WebCommentPayload, WebCommentCfg};
use crate::languages::action;
use crate::tools::get_language_for_file;
use actix_web::test::TestApp;
use actix_web::{web, test, http};
use serde_json::json;
</imports>
<Rust>
#[test]
fn test_ast_parser_with_file_name() {
  let app = TestApp::new(super::run("127.0.0.1", 8080, 1));
  let payload = AstPayload {
    id: "1234".to_string(),
    file_name: "prova.cpp".to_string(),
    code: "int x = 1;".to_string(),
    comment: true,
    span: true,
  };
  let req = test::TestRequest::post()
    .uri("/ast")
    .set_json(&payload)
    .to_request();
  let res = app.service().await.unwrap().call(req).await.unwrap();
  assert_eq!(res.status(), http::StatusCode::OK);
}
</Rust>