#[test]
fn test_nexits_correctly_counts_try_expressions() {
    let func = parse_function(
        r#"
fn foo() -> Option<i32> {
    Some(1)
    // This ? is in a try expression and should count as an exit
    let bar = Some(2).map(|x| x + 1)?;
    Some(3)
}
"#,
    )
    .unwrap();

    let mut stats = Stats::default();
    Exit::compute(&func, &mut stats);
    assert_eq!(stats.exit, 2); // Both return Some(1) and Some(3) are exit points
}