<Filename>src/metrics/loc.rs</Filename>
<imports>
use super::Stats;
use serde::Serialize;
</imports>
<Rust>
#[test]
fn test_loc_average_calculation() {
    let mut stats = Stats::default();
    stats.lines.insert(1);
    stats.lines.insert(2);
    stats.lines.insert(3);
    stats.only_comment_lines = 1;
    stats.code_comment_lines = 1;
    stats.space_count = 2;

    let expected_sloc_average = 1.5;
    let expected_ploc_average = 1.0;
    let expected_lloc_average = 0.5;
    let expected_cloc_average = 0.5;
    let expected_blank_average = 0.5;

    assert_eq!(stats.sloc_average(), expected_sloc_average);
    assert_eq!(stats.ploc_average(), expected_ploc_average);
    assert_eq!(stats.lloc_average(), expected_lloc_average);
    assert_eq!(stats.cloc_average(), expected_cloc_average);
    assert_eq!(stats.blank_average(), expected_blank_average);
}
</Rust>