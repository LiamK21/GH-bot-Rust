#[test]
fn test_compute_minmax_updates_nom_minmax() {
    let mut stats = Stats::default();
    stats.functions_sum = 3;
    stats.closures_sum = 2;
    stats.compute_minmax();

    let mut state = State {
        space: Metrics {
            nom: stats,
            ..Default::default()
        },
        ..Default::default()
    };

    compute_minmax(&mut state);

    assert_eq!(state.space.nom.functions_min(), 3.0);
    assert_eq!(state.space.nom.functions_max(), 3.0);
    assert_eq!(state.space.nom.closures_min(), 2.0);
    assert_eq!(state.space.nom.closures_max(), 2.0);
}