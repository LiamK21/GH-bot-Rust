#[test]
fn test_compute_minmax_updates_minmax_values() {
    let mut state = State {
        space: Default::default(),
    };

    state.space.metrics.cyclomatic = CyclomaticStats::default();
    state.space.metrics.cyclomatic.cyclomatic_sum = 10.0;
    state.space.metrics.cyclomatic.cyclomatic_min = 5.0;
    state.space.metrics.cyclomatic.cyclomatic_max = 15.0;

    state.space.metrics.nexits = ExitStats {
        exit: 3,
        exit_sum: 10,
        exit_min: 5,
        exit_max: 15,
        total_space_functions: 1,
    };

    let expected_cyclomatic_min = 5.0;
    let expected_cyclomatic_max = 15.0;
    let expected_exit_min = 3.0;
    let expected_exit_max = 15.0;

    compute_minmax(&mut state);

    assert_eq!(state.space.metrics.cyclomatic.cyclomatic_min, expected_cyclomatic_min);
    assert_eq!(state.space.metrics.cyclomatic.cyclomatic_max, expected_cyclomatic_max);
    assert_eq!(state.space.metrics.nexits.exit_min, expected_exit_min);
    assert_eq!(state.space.metrics.nexits.exit_max, expected_exit_max);
}