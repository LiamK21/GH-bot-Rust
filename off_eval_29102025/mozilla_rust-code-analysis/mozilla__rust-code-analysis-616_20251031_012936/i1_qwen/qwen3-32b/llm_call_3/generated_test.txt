#[test]
fn test_macro_annotations_on_class() {
    let source = "class MOZ_STACK_CLASS JS_PUBLIC_API AutoEntryMonitor { };";
    let code = source.as_bytes().to_vec();
    let path = PathBuf::from("test.cpp");
    let pr = Arc::new(PreprocResults::default());
    let mut parser = Parser::new(code, path, Some(pr));
    parser.parse(&source);

    let tokens = parser.get_tokens();

    assert!(tokens.iter().any(|t| matches!(t.ty, Cpp::MacroAnnotation)));
    assert!(tokens.iter().any(|t| matches!(t.ty, Cpp::TypeIdentifier)));
}