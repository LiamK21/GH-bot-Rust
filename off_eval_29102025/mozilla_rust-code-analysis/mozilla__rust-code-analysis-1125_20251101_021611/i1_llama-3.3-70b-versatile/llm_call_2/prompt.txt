Before you begin:
- Keep going until the job is completely solved — don’t stop halfway.
- If you’re unsure about the behavior, reread the provided patch carefully; do not hallucinate.
- Plan your approach before writing code by reflecting on whether the test truly fails before and passes after.

Issue:
<issue>
Fix test failures introduced by #1086
</issue>

Patch:
<patch>
diff --git a/src/alterator.rs b/src/alterator.rs
--- a/src/alterator.rs
+++ b/src/alterator.rs
@@ -78,7 +78,7 @@ impl Alterator for KotlinCode {}
 impl Alterator for MozjsCode {
     fn alterate(node: &Node, code: &[u8], span: bool, children: Vec<AstNode>) -> AstNode {
         match Mozjs::from(node.kind_id()) {
-            Mozjs::String => {
+            Mozjs::String | Mozjs::String2 => {
                 // TODO: have a thought about template_strings:
                 // they may have children for replacement...
                 let (text, span) = Self::get_text_span(node, code, span, true);

diff --git a/src/checker.rs b/src/checker.rs
--- a/src/checker.rs
+++ b/src/checker.rs
@@ -52,7 +52,7 @@ macro_rules! is_js_func {
     ($parser: ident, $node: ident) => {
         match $node.kind_id().into() {
             FunctionDeclaration | MethodDefinition => true,
-            Function => check_if_func!($parser, $node),
+            FunctionExpression => check_if_func!($parser, $node),
             ArrowFunction => check_if_arrow_func!($parser, $node),
             _ => false,
         }
@@ -63,7 +63,7 @@ macro_rules! is_js_closure {
     ($parser: ident, $node: ident) => {
         match $node.kind_id().into() {
             GeneratorFunction | GeneratorFunctionDeclaration => true,
-            Function => !check_if_func!($parser, $node),
+            FunctionExpression => !check_if_func!($parser, $node),
             ArrowFunction => !check_if_arrow_func!($parser, $node),
             _ => false,
         }
@@ -376,7 +376,7 @@ impl Checker for MozjsCode {
         matches!(
             node.kind_id().into(),
             Mozjs::Program
-                | Mozjs::Function
+                | Mozjs::FunctionExpression
                 | Mozjs::Class
                 | Mozjs::GeneratorFunction
                 | Mozjs::FunctionDeclaration
@@ -433,7 +433,7 @@ impl Checker for JavascriptCode {
         matches!(
             node.kind_id().into(),
             Javascript::Program
-                | Javascript::Function
+                | Javascript::FunctionExpression
                 | Javascript::Class
                 | Javascript::GeneratorFunction
                 | Javascript::FunctionDeclaration
@@ -491,7 +491,7 @@ impl Checker for TypescriptCode {
         matches!(
             node.kind_id().into(),
             Typescript::Program
-                | Typescript::Function
+                | Typescript::FunctionExpression
                 | Typescript::Class
                 | Typescript::GeneratorFunction
                 | Typescript::FunctionDeclaration
@@ -550,7 +550,7 @@ impl Checker for TsxCode {
         matches!(
             node.kind_id().into(),
             Tsx::Program
-                | Tsx::Function
+                | Tsx::FunctionExpression
                 | Tsx::Class
                 | Tsx::GeneratorFunction
                 | Tsx::FunctionDeclaration

diff --git a/src/getter.rs b/src/getter.rs
--- a/src/getter.rs
+++ b/src/getter.rs
@@ -96,7 +96,7 @@ impl Getter for MozjsCode {
         use Mozjs::*;
 
         match node.kind_id().into() {
-            Function
+            FunctionExpression
             | MethodDefinition
             | GeneratorFunction
             | FunctionDeclaration
@@ -148,10 +148,10 @@ impl Getter for MozjsCode {
             | GT | PLUSEQ | BANG | BANGEQEQ | EQEQEQ | DASHEQ | STAREQ | SLASHEQ | PERCENTEQ
             | STARSTAREQ | GTGTEQ | GTGTGTEQ | LTLTEQ | AMPEQ | CARET | CARETEQ | PIPEEQ
             | Yield | LBRACK | LBRACE | Await | QMARK | QMARKQMARK | New | Let | Var | Const
-            | Function | Function2 | SEMI => HalsteadType::Operator,
-            Identifier | Identifier2 | MemberExpression | PropertyIdentifier | String | Number
-            | True | False | Null | Void | This | Super | Undefined | Set | Get | Typeof
-            | Instanceof => HalsteadType::Operand,
+            | Function | FunctionExpression | SEMI => HalsteadType::Operator,
+            Identifier | Identifier2 | MemberExpression | MemberExpression2
+            | PropertyIdentifier | String | String2 | Number | True | False | Null | Void
+            | This | Super | Undefined | Set | Get | Typeof | Instanceof => HalsteadType::Operand,
             _ => HalsteadType::Unknown,
         }
     }
@@ -164,7 +164,7 @@ impl Getter for JavascriptCode {
         use Javascript::*;
 
         match node.kind_id().into() {
-            Function
+            FunctionExpression
             | MethodDefinition
             | GeneratorFunction
             | FunctionDeclaration
@@ -216,10 +216,10 @@ impl Getter for JavascriptCode {
             | GT | PLUSEQ | BANG | BANGEQEQ | EQEQEQ | DASHEQ | STAREQ | SLASHEQ | PERCENTEQ
             | STARSTAREQ | GTGTEQ | GTGTGTEQ | LTLTEQ | AMPEQ | CARET | CARETEQ | PIPEEQ
             | Yield | LBRACK | LBRACE | Await | QMARK | QMARKQMARK | New | Let | Var | Const
-            | Function | SEMI => HalsteadType::Operator,
-            Identifier | Identifier2 | MemberExpression | PropertyIdentifier | String | Number
-            | True | False | Null | Void | This | Super | Undefined | Set | Get | Typeof
-            | Instanceof => HalsteadType::Operand,
+            | Function | FunctionExpression | SEMI => HalsteadType::Operator,
+            Identifier | Identifier2 | MemberExpression | MemberExpression2
+            | PropertyIdentifier | String | String2 | Number | True | False | Null | Void
+            | This | Super | Undefined | Set | Get | Typeof | Instanceof => HalsteadType::Operand,
             _ => HalsteadType::Unknown,
         }
     }
@@ -232,7 +232,7 @@ impl Getter for TypescriptCode {
         use Typescript::*;
 
         match node.kind_id().into() {
-            Function
+            FunctionExpression
             | MethodDefinition
             | GeneratorFunction
             | FunctionDeclaration
@@ -285,7 +285,7 @@ impl Getter for TypescriptCode {
             | GT | PLUSEQ | BANG | BANGEQEQ | EQEQEQ | DASHEQ | STAREQ | SLASHEQ | PERCENTEQ
             | STARSTAREQ | GTGTEQ | GTGTGTEQ | LTLTEQ | AMPEQ | CARET | CARETEQ | PIPEEQ
             | Yield | LBRACK | LBRACE | Await | QMARK | QMARKQMARK | New | Let | Var | Const
-            | Function | SEMI => HalsteadType::Operator,
+            | Function | FunctionExpression | SEMI => HalsteadType::Operator,
             Identifier | NestedIdentifier | MemberExpression | PropertyIdentifier | String
             | Number | True | False | Null | Void | This | Super | Undefined | Set | Get
             | Typeof | Instanceof => HalsteadType::Operand,
@@ -301,7 +301,7 @@ impl Getter for TsxCode {
         use Tsx::*;
 
         match node.kind_id().into() {
-            Function
+            FunctionExpression
             | MethodDefinition
             | GeneratorFunction
             | FunctionDeclaration
@@ -354,10 +354,10 @@ impl Getter for TsxCode {
             | GT | PLUSEQ | BANG | BANGEQEQ | EQEQEQ | DASHEQ | STAREQ | SLASHEQ | PERCENTEQ
             | STARSTAREQ | GTGTEQ | GTGTGTEQ | LTLTEQ | AMPEQ | CARET | CARETEQ | PIPEEQ
             | Yield | LBRACK | LBRACE | Await | QMARK | QMARKQMARK | New | Let | Var | Const
-            | Function | SEMI => HalsteadType::Operator,
+            | Function | FunctionExpression | SEMI => HalsteadType::Operator,
             Identifier | NestedIdentifier | MemberExpression | PropertyIdentifier | String
-            | Number | True | False | Null | Void | This | Super | Undefined | Set | Get
-            | Typeof | Instanceof => HalsteadType::Operand,
+            | String2 | Number | True | False | Null | Void | This | Super | Undefined | Set
+            | Get | Typeof | Instanceof => HalsteadType::Operand,
             _ => HalsteadType::Unknown,
         }
     }

diff --git a/src/languages/language_mozjs.rs b/src/languages/language_mozjs.rs
--- a/src/languages/language_mozjs.rs
+++ b/src/languages/language_mozjs.rs
@@ -10,34 +10,34 @@ pub enum Mozjs {
     Export = 3,
     STAR = 4,
     Default = 5,
-    LBRACE = 6,
-    COMMA = 7,
-    RBRACE = 8,
-    As = 9,
+    As = 6,
+    LBRACE = 7,
+    COMMA = 8,
+    RBRACE = 9,
     Import2 = 10,
     From = 11,
-    Var = 12,
-    Let = 13,
-    Const = 14,
-    Else = 15,
-    If = 16,
-    Switch = 17,
-    For = 18,
-    LPAREN = 19,
-    RPAREN = 20,
-    Await = 21,
-    In = 22,
-    Of = 23,
-    While = 24,
-    Do = 25,
-    Try = 26,
-    With = 27,
-    Break = 28,
-    Continue = 29,
-    Debugger = 30,
-    Return = 31,
-    Throw = 32,
-    SEMI = 33,
+    With = 12,
+    Var = 13,
+    Let = 14,
+    Const = 15,
+    Else = 16,
+    If = 17,
+    Switch = 18,
+    For = 19,
+    LPAREN = 20,
+    SEMI = 21,
+    RPAREN = 22,
+    Await = 23,
+    In = 24,
+    Of = 25,
+    While = 26,
+    Do = 27,
+    Try = 28,
+    Break = 29,
+    Continue = 30,
+    Debugger = 31,
+    Return = 32,
+    Throw = 33,
     COLON = 34,
     Case = 35,
     Catch = 36,
@@ -47,220 +47,233 @@ pub enum Mozjs {
     LBRACK = 40,
     RBRACK = 41,
     GlimmerTemplateContent = 42,
-    LTtemplateGT = 43,
-    LTSLASHtemplateGT = 44,
-    LT = 45,
-    GT = 46,
-    SLASH = 47,
-    JsxText = 48,
-    Identifier2 = 49,
-    DOT = 50,
-    Class2 = 51,
-    Extends = 52,
-    Async = 53,
-    Function2 = 54,
-    EQGT = 55,
-    OptionalChain = 56,
-    New = 57,
-    PLUSEQ = 58,
-    DASHEQ = 59,
-    STAREQ = 60,
-    SLASHEQ = 61,
-    PERCENTEQ = 62,
-    CARETEQ = 63,
-    AMPEQ = 64,
-    PIPEEQ = 65,
-    GTGTEQ = 66,
-    GTGTGTEQ = 67,
-    LTLTEQ = 68,
-    STARSTAREQ = 69,
-    AMPAMPEQ = 70,
-    PIPEPIPEEQ = 71,
-    QMARKQMARKEQ = 72,
-    DOTDOTDOT = 73,
-    AMPAMP = 74,
-    PIPEPIPE = 75,
-    GTGT = 76,
-    GTGTGT = 77,
-    LTLT = 78,
-    AMP = 79,
-    CARET = 80,
-    PIPE = 81,
-    PLUS = 82,
-    DASH = 83,
-    PERCENT = 84,
-    STARSTAR = 85,
-    LTEQ = 86,
-    EQEQ = 87,
-    EQEQEQ = 88,
-    BANGEQ = 89,
-    BANGEQEQ = 90,
-    GTEQ = 91,
-    QMARKQMARK = 92,
-    Instanceof = 93,
-    BANG = 94,
-    TILDE = 95,
-    Typeof = 96,
-    Void = 97,
-    Delete = 98,
-    PLUSPLUS = 99,
-    DASHDASH = 100,
-    DQUOTE = 101,
-    SQUOTE = 102,
-    StringFragment = 103,
-    StringFragment2 = 104,
-    EscapeSequence = 105,
-    Comment = 106,
-    BQUOTE = 107,
-    DOLLARLBRACE = 108,
-    SLASH2 = 109,
-    RegexPattern = 110,
-    RegexFlags = 111,
-    Number = 112,
-    PrivatePropertyIdentifier = 113,
-    Target = 114,
-    This = 115,
-    Super = 116,
-    True = 117,
-    False = 118,
-    Null = 119,
-    Undefined = 120,
-    AT = 121,
-    Static = 122,
-    Get = 123,
-    Set = 124,
-    Preproc = 125,
-    AutomaticSemicolon = 126,
-    TemplateChars = 127,
-    QMARK = 128,
-    Program = 129,
-    ExportStatement = 130,
-    ExportClause = 131,
-    ExportSpecifier = 132,
-    Declaration = 133,
-    Import = 134,
-    ImportStatement = 135,
-    ImportClause = 136,
-    FromClause = 137,
-    NamespaceImport = 138,
-    NamedImports = 139,
-    ExpressionStatement = 140,
-    VariableDeclaration = 141,
-    LexicalDeclaration = 142,
-    VariableDeclarator = 143,
-    StatementBlock = 144,
-    ElseClause = 145,
-    IfStatement = 146,
-    SwitchStatement = 147,
-    ForStatement = 148,
-    ForInStatement = 149,
-    ForHeader = 150,
-    WhileStatement = 151,
-    DoStatement = 152,
-    TryStatement = 153,
-    WithStatement = 154,
-    BreakStatement = 155,
-    ContinueStatement = 156,
-    DebuggerStatement = 157,
-    ReturnStatement = 158,
-    ThrowStatement = 159,
-    EmptyStatement = 160,
-    LabeledStatement = 161,
-    SwitchBody = 162,
-    SwitchCase = 163,
-    SwitchDefault = 164,
-    CatchClause = 165,
-    FinallyClause = 166,
-    ParenthesizedExpression = 167,
-    Expression = 168,
-    PrimaryExpression = 169,
-    YieldExpression = 170,
-    Object = 171,
-    ObjectPattern = 172,
-    AssignmentPattern = 173,
-    ObjectAssignmentPattern = 174,
-    Array = 175,
-    ArrayPattern = 176,
-    GlimmerTemplate = 177,
-    GlimmerOpeningTag = 178,
-    GlimmerClosingTag = 179,
-    JsxElement = 180,
-    JsxFragment = 181,
-    JsxExpression = 182,
-    JsxOpeningElement = 183,
-    NestedIdentifier = 184,
-    JsxNamespaceName = 185,
-    JsxClosingElement = 186,
-    JsxSelfClosingElement = 187,
-    JsxAttribute = 188,
-    Class = 189,
-    ClassDeclaration = 190,
-    ClassHeritage = 191,
-    Function = 192,
-    FunctionDeclaration = 193,
-    GeneratorFunction = 194,
-    GeneratorFunctionDeclaration = 195,
-    ArrowFunction = 196,
-    CallExpression = 197,
-    NewExpression = 198,
-    AwaitExpression = 199,
-    MemberExpression = 200,
-    SubscriptExpression = 201,
-    AssignmentExpression = 202,
-    AugmentedAssignmentLhs = 203,
-    AugmentedAssignmentExpression = 204,
-    Initializer = 205,
-    DestructuringPattern = 206,
-    SpreadElement = 207,
-    TernaryExpression = 208,
-    BinaryExpression = 209,
-    UnaryExpression = 210,
-    UpdateExpression = 211,
-    SequenceExpression = 212,
-    String = 213,
-    TemplateString = 214,
-    TemplateSubstitution = 215,
-    Regex = 216,
-    MetaProperty = 217,
-    Arguments = 218,
-    Decorator = 219,
-    MemberExpression2 = 220,
-    CallExpression2 = 221,
-    ClassBody = 222,
-    FieldDefinition = 223,
-    FormalParameters = 224,
-    Pattern = 225,
-    RestPattern = 226,
-    MethodDefinition = 227,
-    Pair = 228,
-    PairPattern = 229,
-    PropertyName = 230,
-    ComputedPropertyName = 231,
-    ProgramRepeat1 = 232,
-    ExportStatementRepeat1 = 233,
-    ExportClauseRepeat1 = 234,
-    NamedImportsRepeat1 = 235,
-    VariableDeclarationRepeat1 = 236,
-    SwitchBodyRepeat1 = 237,
-    ObjectRepeat1 = 238,
-    ObjectPatternRepeat1 = 239,
-    ArrayRepeat1 = 240,
-    ArrayPatternRepeat1 = 241,
-    GlimmerTemplateRepeat1 = 242,
-    JsxElementRepeat1 = 243,
-    JsxOpeningElementRepeat1 = 244,
-    StringRepeat1 = 245,
-    StringRepeat2 = 246,
-    TemplateStringRepeat1 = 247,
-    ClassBodyRepeat1 = 248,
-    FormalParametersRepeat1 = 249,
-    ImportSpecifier = 250,
-    NamespaceExport = 251,
-    PropertyIdentifier = 252,
-    ShorthandPropertyIdentifier = 253,
-    ShorthandPropertyIdentifierPattern = 254,
-    StatementIdentifier = 255,
-    Error = 256,
+    GlimmerOpeningTag = 43,
+    GlimmerClosingTag = 44,
+    HtmlCharacterReference = 45,
+    LT = 46,
+    GT = 47,
+    Identifier2 = 48,
+    DOT = 49,
+    LTSLASH = 50,
+    SLASHGT = 51,
+    DQUOTE = 52,
+    SQUOTE = 53,
+    StringFragment = 54,
+    StringFragment2 = 55,
+    Class2 = 56,
+    Extends = 57,
+    Async = 58,
+    Function = 59,
+    EQGT = 60,
+    OptionalChain = 61,
+    New = 62,
+    PLUSEQ = 63,
+    DASHEQ = 64,
+    STAREQ = 65,
+    SLASHEQ = 66,
+    PERCENTEQ = 67,
+    CARETEQ = 68,
+    AMPEQ = 69,
+    PIPEEQ = 70,
+    GTGTEQ = 71,
+    GTGTGTEQ = 72,
+    LTLTEQ = 73,
+    STARSTAREQ = 74,
+    AMPAMPEQ = 75,
+    PIPEPIPEEQ = 76,
+    QMARKQMARKEQ = 77,
+    DOTDOTDOT = 78,
+    AMPAMP = 79,
+    PIPEPIPE = 80,
+    GTGT = 81,
+    GTGTGT = 82,
+    LTLT = 83,
+    AMP = 84,
+    CARET = 85,
+    PIPE = 86,
+    PLUS = 87,
+    DASH = 88,
+    SLASH = 89,
+    PERCENT = 90,
+    STARSTAR = 91,
+    LTEQ = 92,
+    EQEQ = 93,
+    EQEQEQ = 94,
+    BANGEQ = 95,
+    BANGEQEQ = 96,
+    GTEQ = 97,
+    QMARKQMARK = 98,
+    Instanceof = 99,
+    BANG = 100,
+    TILDE = 101,
+    Typeof = 102,
+    Void = 103,
+    Delete = 104,
+    PLUSPLUS = 105,
+    DASHDASH = 106,
+    StringFragment3 = 107,
+    StringFragment4 = 108,
+    EscapeSequence = 109,
+    Comment = 110,
+    BQUOTE = 111,
+    DOLLARLBRACE = 112,
+    SLASH2 = 113,
+    RegexPattern = 114,
+    RegexFlags = 115,
+    Number = 116,
+    PrivatePropertyIdentifier = 117,
+    Target = 118,
+    Meta = 119,
+    This = 120,
+    Super = 121,
+    True = 122,
+    False = 123,
+    Null = 124,
+    Undefined = 125,
+    AT = 126,
+    Static = 127,
+    Staticget = 128,
+    Get = 129,
+    Set = 130,
+    Preproc = 131,
+    AutomaticSemicolon = 132,
+    StringFragment5 = 133,
+    QMARK = 134,
+    HtmlComment = 135,
+    JsxText = 136,
+    Program = 137,
+    ExportStatement = 138,
+    NamespaceExport = 139,
+    ExportClause = 140,
+    ExportSpecifier = 141,
+    ModuleExportName = 142,
+    Declaration = 143,
+    Import = 144,
+    ImportStatement = 145,
+    ImportClause = 146,
+    FromClause = 147,
+    NamespaceImport = 148,
+    NamedImports = 149,
+    ImportSpecifier = 150,
+    ImportAttribute = 151,
+    Statement = 152,
+    ExpressionStatement = 153,
+    VariableDeclaration = 154,
+    LexicalDeclaration = 155,
+    VariableDeclarator = 156,
+    StatementBlock = 157,
+    ElseClause = 158,
+    IfStatement = 159,
+    SwitchStatement = 160,
+    ForStatement = 161,
+    ForInStatement = 162,
+    ForHeader = 163,
+    WhileStatement = 164,
+    DoStatement = 165,
+    TryStatement = 166,
+    WithStatement = 167,
+    BreakStatement = 168,
+    ContinueStatement = 169,
+    DebuggerStatement = 170,
+    ReturnStatement = 171,
+    ThrowStatement = 172,
+    EmptyStatement = 173,
+    LabeledStatement = 174,
+    SwitchBody = 175,
+    SwitchCase = 176,
+    SwitchDefault = 177,
+    CatchClause = 178,
+    FinallyClause = 179,
+    ParenthesizedExpression = 180,
+    Expression = 181,
+    PrimaryExpression = 182,
+    YieldExpression = 183,
+    Object = 184,
+    ObjectPattern = 185,
+    AssignmentPattern = 186,
+    ObjectAssignmentPattern = 187,
+    Array = 188,
+    ArrayPattern = 189,
+    GlimmerTemplate = 190,
+    JsxElement = 191,
+    JsxExpression = 192,
+    JsxOpeningElement = 193,
+    MemberExpression = 194,
+    JsxNamespaceName = 195,
+    JsxClosingElement = 196,
+    JsxSelfClosingElement = 197,
+    JsxAttribute = 198,
+    String = 199,
+    Class = 200,
+    ClassDeclaration = 201,
+    ClassHeritage = 202,
+    FunctionExpression = 203,
+    FunctionDeclaration = 204,
+    GeneratorFunction = 205,
+    GeneratorFunctionDeclaration = 206,
+    ArrowFunction = 207,
+    CallExpression = 208,
+    NewExpression = 209,
+    AwaitExpression = 210,
+    MemberExpression2 = 211,
+    SubscriptExpression = 212,
+    AssignmentExpression = 213,
+    AugmentedAssignmentLhs = 214,
+    AugmentedAssignmentExpression = 215,
+    Initializer = 216,
+    DestructuringPattern = 217,
+    SpreadElement = 218,
+    TernaryExpression = 219,
+    BinaryExpression = 220,
+    UnaryExpression = 221,
+    UpdateExpression = 222,
+    SequenceExpression = 223,
+    String2 = 224,
+    TemplateString = 225,
+    TemplateSubstitution = 226,
+    Regex = 227,
+    MetaProperty = 228,
+    Arguments = 229,
+    Decorator = 230,
+    MemberExpression3 = 231,
+    CallExpression2 = 232,
+    ClassBody = 233,
+    FieldDefinition = 234,
+    FormalParameters = 235,
+    ClassStaticBlock = 236,
+    Pattern = 237,
+    RestPattern = 238,
+    MethodDefinition = 239,
+    Pair = 240,
+    PairPattern = 241,
+    PropertyName = 242,
+    ComputedPropertyName = 243,
+    ProgramRepeat1 = 244,
+    ExportStatementRepeat1 = 245,
+    ExportClauseRepeat1 = 246,
+    NamedImportsRepeat1 = 247,
+    VariableDeclarationRepeat1 = 248,
+    SwitchBodyRepeat1 = 249,
+    ObjectRepeat1 = 250,
+    ObjectPatternRepeat1 = 251,
+    ArrayRepeat1 = 252,
+    ArrayPatternRepeat1 = 253,
+    GlimmerTemplateRepeat1 = 254,
+    JsxElementRepeat1 = 255,
+    JsxOpeningElementRepeat1 = 256,
+    JsxStringRepeat1 = 257,
+    JsxStringRepeat2 = 258,
+    SequenceExpressionRepeat1 = 259,
+    StringRepeat1 = 260,
+    StringRepeat2 = 261,
+    TemplateStringRepeat1 = 262,
+    ClassBodyRepeat1 = 263,
+    FormalParametersRepeat1 = 264,
+    PropertyIdentifier = 265,
+    ShorthandPropertyIdentifier = 266,
+    ShorthandPropertyIdentifierPattern = 267,
+    StatementIdentifier = 268,
+    Error = 269,
 }
 
 impl From<Mozjs> for &'static str {
@@ -273,12 +286,13 @@ impl From<Mozjs> for &'static str {
             Mozjs::Export => "export",
             Mozjs::STAR => "*",
             Mozjs::Default => "default",
+            Mozjs::As => "as",
             Mozjs::LBRACE => "{",
             Mozjs::COMMA => ",",
             Mozjs::RBRACE => "}",
-            Mozjs::As => "as",
             Mozjs::Import2 => "import",
             Mozjs::From => "from",
+            Mozjs::With => "with",
             Mozjs::Var => "var",
             Mozjs::Let => "let",
             Mozjs::Const => "const",
@@ -287,6 +301,7 @@ impl From<Mozjs> for &'static str {
             Mozjs::Switch => "switch",
             Mozjs::For => "for",
             Mozjs::LPAREN => "(",
+            Mozjs::SEMI => ";",
             Mozjs::RPAREN => ")",
             Mozjs::Await => "await",
             Mozjs::In => "in",
@@ -294,13 +309,11 @@ impl From<Mozjs> for &'static str {
             Mozjs::While => "while",
             Mozjs::Do => "do",
             Mozjs::Try => "try",
-            Mozjs::With => "with",
             Mozjs::Break => "break",
             Mozjs::Continue => "continue",
             Mozjs::Debugger => "debugger",
             Mozjs::Return => "return",
             Mozjs::Throw => "throw",
-            Mozjs::SEMI => ";",
             Mozjs::COLON => ":",
             Mozjs::Case => "case",
             Mozjs::Catch => "catch",
@@ -310,18 +323,23 @@ impl From<Mozjs> for &'static str {
             Mozjs::LBRACK => "[",
             Mozjs::RBRACK => "]",
             Mozjs::GlimmerTemplateContent => "_glimmer_template_content",
-            Mozjs::LTtemplateGT => "<template>",
-            Mozjs::LTSLASHtemplateGT => "</template>",
+            Mozjs::GlimmerOpeningTag => "glimmer_opening_tag",
+            Mozjs::GlimmerClosingTag => "glimmer_closing_tag",
+            Mozjs::HtmlCharacterReference => "html_character_reference",
             Mozjs::LT => "<",
             Mozjs::GT => ">",
-            Mozjs::SLASH => "/",
-            Mozjs::JsxText => "jsx_text",
             Mozjs::Identifier2 => "identifier",
             Mozjs::DOT => ".",
+            Mozjs::LTSLASH => "</",
+            Mozjs::SLASHGT => "/>",
+            Mozjs::DQUOTE => "\"",
+            Mozjs::SQUOTE => "'",
+            Mozjs::StringFragment => "string_fragment",
+            Mozjs::StringFragment2 => "string_fragment",
             Mozjs::Class2 => "class",
             Mozjs::Extends => "extends",
             Mozjs::Async => "async",
-            Mozjs::Function2 => "function",
+            Mozjs::Function => "function",
             Mozjs::EQGT => "=>",
             Mozjs::OptionalChain => "optional_chain",
             Mozjs::New => "new",
@@ -351,6 +369,7 @@ impl From<Mozjs> for &'static str {
             Mozjs::PIPE => "|",
             Mozjs::PLUS => "+",
             Mozjs::DASH => "-",
+            Mozjs::SLASH => "/",
             Mozjs::PERCENT => "%",
             Mozjs::STARSTAR => "**",
             Mozjs::LTEQ => "<=",
@@ -368,10 +387,8 @@ impl From<Mozjs> for &'static str {
             Mozjs::Delete => "delete",
             Mozjs::PLUSPLUS => "++",
             Mozjs::DASHDASH => "--",
-            Mozjs::DQUOTE => "\"",
-            Mozjs::SQUOTE => "'",
-            Mozjs::StringFragment => "string_fragment",
-            Mozjs::StringFragment2 => "string_fragment",
+            Mozjs::StringFragment3 => "string_fragment",
+            Mozjs::StringFragment4 => "string_fragment",
             Mozjs::EscapeSequence => "escape_sequence",
             Mozjs::Comment => "comment",
             Mozjs::BQUOTE => "`",
@@ -382,6 +399,7 @@ impl From<Mozjs> for &'static str {
             Mozjs::Number => "number",
             Mozjs::PrivatePropertyIdentifier => "private_property_identifier",
             Mozjs::Target => "target",
+            Mozjs::Meta => "meta",
             Mozjs::This => "this",
             Mozjs::Super => "super",
             Mozjs::True => "true",
@@ -390,16 +408,21 @@ impl From<Mozjs> for &'static str {
             Mozjs::Undefined => "undefined",
             Mozjs::AT => "@",
             Mozjs::Static => "static",
+            Mozjs::Staticget => "static get",
             Mozjs::Get => "get",
             Mozjs::Set => "set",
             Mozjs::Preproc => "preproc",
             Mozjs::AutomaticSemicolon => "_automatic_semicolon",
-            Mozjs::TemplateChars => "_template_chars",
+            Mozjs::StringFragment5 => "string_fragment",
             Mozjs::QMARK => "?",
+            Mozjs::HtmlComment => "html_comment",
+            Mozjs::JsxText => "jsx_text",
             Mozjs::Program => "program",
             Mozjs::ExportStatement => "export_statement",
+            Mozjs::NamespaceExport => "namespace_export",
             Mozjs::ExportClause => "export_clause",
             Mozjs::ExportSpecifier => "export_specifier",
+            Mozjs::ModuleExportName => "_module_export_name",
             Mozjs::Declaration => "declaration",
             Mozjs::Import => "import",
             Mozjs::ImportStatement => "import_statement",
@@ -407,6 +430,9 @@ impl From<Mozjs> for &'static str {
             Mozjs::FromClause => "_from_clause",
             Mozjs::NamespaceImport => "namespace_import",
             Mozjs::NamedImports => "named_imports",
+            Mozjs::ImportSpecifier => "import_specifier",
+            Mozjs::ImportAttribute => "import_attribute",
+            Mozjs::Statement => "statement",
             Mozjs::ExpressionStatement => "expression_statement",
             Mozjs::VariableDeclaration => "variable_declaration",
             Mozjs::LexicalDeclaration => "lexical_declaration",
@@ -445,21 +471,19 @@ impl From<Mozjs> for &'static str {
             Mozjs::Array => "array",
             Mozjs::ArrayPattern => "array_pattern",
             Mozjs::GlimmerTemplate => "glimmer_template",
-            Mozjs::GlimmerOpeningTag => "glimmer_opening_tag",
-            Mozjs::GlimmerClosingTag => "glimmer_closing_tag",
             Mozjs::JsxElement => "jsx_element",
-            Mozjs::JsxFragment => "jsx_fragment",
             Mozjs::JsxExpression => "jsx_expression",
             Mozjs::JsxOpeningElement => "jsx_opening_element",
-            Mozjs::NestedIdentifier => "nested_identifier",
+            Mozjs::MemberExpression => "member_expression",
             Mozjs::JsxNamespaceName => "jsx_namespace_name",
             Mozjs::JsxClosingElement => "jsx_closing_element",
             Mozjs::JsxSelfClosingElement => "jsx_self_closing_element",
             Mozjs::JsxAttribute => "jsx_attribute",
+            Mozjs::String => "string",
             Mozjs::Class => "class",
             Mozjs::ClassDeclaration => "class_declaration",
             Mozjs::ClassHeritage => "class_heritage",
-            Mozjs::Function => "function",
+            Mozjs::FunctionExpression => "function_expression",
             Mozjs::FunctionDeclaration => "function_declaration",
             Mozjs::GeneratorFunction => "generator_function",
             Mozjs::GeneratorFunctionDeclaration => "generator_function_declaration",
@@ -467,7 +491,7 @@ impl From<Mozjs> for &'static str {
             Mozjs::CallExpression => "call_expression",
             Mozjs::NewExpression => "new_expression",
             Mozjs::AwaitExpression => "await_expression",
-            Mozjs::MemberExpression => "member_expression",
+            Mozjs::MemberExpression2 => "member_expression",
             Mozjs::SubscriptExpression => "subscript_expression",
             Mozjs::AssignmentExpression => "assignment_expression",
             Mozjs::AugmentedAssignmentLhs => "_augmented_assignment_lhs",
@@ -480,18 +504,19 @@ impl From<Mozjs> for &'static str {
             Mozjs::UnaryExpression => "unary_expression",
             Mozjs::UpdateExpression => "update_expression",
             Mozjs::SequenceExpression => "sequence_expression",
-            Mozjs::String => "string",
+            Mozjs::String2 => "string",
             Mozjs::TemplateString => "template_string",
             Mozjs::TemplateSubstitution => "template_substitution",
             Mozjs::Regex => "regex",
             Mozjs::MetaProperty => "meta_property",
             Mozjs::Arguments => "arguments",
             Mozjs::Decorator => "decorator",
-            Mozjs::MemberExpression2 => "member_expression",
+            Mozjs::MemberExpression3 => "member_expression",
             Mozjs::CallExpression2 => "call_expression",
             Mozjs::ClassBody => "class_body",
             Mozjs::FieldDefinition => "field_definition",
             Mozjs::FormalParameters => "formal_parameters",
+            Mozjs::ClassStaticBlock => "class_static_block",
             Mozjs::Pattern => "pattern",
             Mozjs::RestPattern => "rest_pattern",
             Mozjs::MethodDefinition => "method_definition",
@@ -512,13 +537,14 @@ impl From<Mozjs> for &'static str {
             Mozjs::GlimmerTemplateRepeat1 => "glimmer_template_repeat1",
             Mozjs::JsxElementRepeat1 => "jsx_element_repeat1",
             Mozjs::JsxOpeningElementRepeat1 => "jsx_opening_element_repeat1",
+            Mozjs::JsxStringRepeat1 => "_jsx_string_repeat1",
+            Mozjs::JsxStringRepeat2 => "_jsx_string_repeat2",
+            Mozjs::SequenceExpressionRepeat1 => "sequence_expression_repeat1",
             Mozjs::StringRepeat1 => "string_repeat1",
             Mozjs::StringRepeat2 => "string_repeat2",
             Mozjs::TemplateStringRepeat1 => "template_string_repeat1",
             Mozjs::ClassBodyRepeat1 => "class_body_repeat1",
             Mozjs::FormalParametersRepeat1 => "formal_parameters_repeat1",
-            Mozjs::ImportSpecifier => "import_specifier",
-            Mozjs::NamespaceExport => "namespace_export",
             Mozjs::PropertyIdentifier => "property_identifier",
             Mozjs::ShorthandPropertyIdentifier => "shorthand_property_identifier",
             Mozjs::ShorthandPropertyIdentifierPattern => "shorthand_property_identifier_pattern",

diff --git a/src/metrics/halstead.rs b/src/metrics/halstead.rs
--- a/src/metrics/halstead.rs
+++ b/src/metrics/halstead.rs
@@ -429,27 +429,26 @@ mod tests {
             }",
             "foo.rs",
             |metric| {
-                // FIXME tree-sitter-rust does not parse the comma inside the println! macro
-                // unique operators: fn, (), {}, let, =, +, /, ;, !
+                // unique operators: fn, (), {}, let, =, +, /, ;, !, ,
                 // unique operands: main, a, b, c, avg, 5, 3, println, "{}"
                 insta::assert_json_snapshot!(
                     metric.halstead,
                     @r###"
                     {
-                      "n1": 9.0,
-                      "N1": 22.0,
+                      "n1": 10.0,
+                      "N1": 23.0,
                       "n2": 9.0,
                       "N2": 15.0,
-                      "length": 37.0,
-                      "estimated_program_length": 57.05865002596162,
-                      "purity_ratio": 1.542125676377341,
-                      "vocabulary": 18.0,
-                      "volume": 154.28722505336555,
-                      "difficulty": 7.5,
-                      "level": 0.13333333333333333,
-                      "effort": 1157.1541879002416,
-                      "time": 64.28634377223564,
-                      "bugs": 0.03674003504721376
+                      "length": 38.0,
+                      "estimated_program_length": 61.74860596185444,
+                      "purity_ratio": 1.624963314785643,
+                      "vocabulary": 19.0,
+                      "volume": 161.42124551085624,
+                      "difficulty": 8.333333333333334,
+                      "level": 0.12,
+                      "effort": 1345.177045923802,
+                      "time": 74.7320581068779,
+                      "bugs": 0.040619232256751396
                     }"###
                 );
             },

diff --git a/src/metrics/loc.rs b/src/metrics/loc.rs
--- a/src/metrics/loc.rs
+++ b/src/metrics/loc.rs
@@ -569,7 +569,7 @@ impl Loc for PythonCode {
         let (start, end) = init(node, stats, is_func_space, is_unit);
 
         match node.kind_id().into() {
-            Block | Module => {}
+            StringStart | StringEnd | StringContent | Block | Module => {}
             Comment => {
                 add_cloc_lines(stats, start, end);
             }
@@ -725,7 +725,15 @@ impl Loc for RustCode {
         let (start, end) = init(node, stats, is_func_space, is_unit);
 
         match node.kind_id().into() {
-            StringLiteral | RawStringLiteral | Block | SourceFile => {}
+            StringLiteral
+            | RawStringLiteral
+            | Block
+            | SourceFile
+            | SLASHSLASH
+            | SLASHSTAR
+            | STARSLASH
+            | OuterDocCommentMarker2
+            | DocComment => {}
             LineComment | BlockComment => {
                 add_cloc_lines(stats, start, end);
             }
@@ -1063,10 +1071,10 @@ mod tests {
                       "lloc_average": 3.0,
                       "cloc_average": 2.0,
                       "blank_average": 0.5,
-                      "sloc_min": 9.0,
-                      "sloc_max": 9.0,
-                      "cloc_min": 2.0,
-                      "cloc_max": 2.0,
+                      "sloc_min": 10.0,
+                      "sloc_max": 10.0,
+                      "cloc_min": 4.0,
+                      "cloc_max": 4.0,
                       "ploc_min": 7.0,
                       "ploc_max": 7.0,
                       "lloc_min": 6.0,
@@ -1110,10 +1118,10 @@ mod tests {
                       "lloc_average": 3.0,
                       "cloc_average": 2.0,
                       "blank_average": 0.0,
-                      "sloc_min": 8.0,
-                      "sloc_max": 8.0,
-                      "cloc_min": 2.0,
-                      "cloc_max": 2.0,
+                      "sloc_min": 9.0,
+                      "sloc_max": 9.0,
+                      "cloc_min": 4.0,
+                      "cloc_max": 4.0,
                       "ploc_min": 7.0,
                       "ploc_max": 7.0,
                       "lloc_min": 6.0,
@@ -1158,10 +1166,10 @@ mod tests {
                       "lloc_average": 3.0,
                       "cloc_average": 2.5,
                       "blank_average": 0.5,
-                      "sloc_min": 9.0,
-                      "sloc_max": 9.0,
-                      "cloc_min": 3.0,
-                      "cloc_max": 3.0,
+                      "sloc_min": 10.0,
+                      "sloc_max": 10.0,
+                      "cloc_min": 5.0,
+                      "cloc_max": 5.0,
                       "ploc_min": 7.0,
                       "ploc_max": 7.0,
                       "lloc_min": 6.0,

diff --git a/src/ops.rs b/src/ops.rs
--- a/src/ops.rs
+++ b/src/ops.rs
@@ -356,7 +356,6 @@ mod tests {
             LANG::Rust,
             "let: usize a = 5; let b: f32 = 7.0; let c: i32 = 3;",
             "foo.rs",
-            // FIXME tree-sitter-rust does not parse the comma inside the println! macro
             &mut ["let", "usize", "=", ";", "f32", "i32"],
             &mut ["a", "b", "c", "5", "7.0", "3"],
         );
@@ -372,8 +371,7 @@ mod tests {
               println!(\"{}\", avg);
             }",
             "foo.rs",
-            // FIXME tree-sitter-rust does not parse the comma inside the println! macro
-            &mut ["fn", "()", "{}", "let", "=", "+", "/", ";", "!"],
+            &mut ["fn", "()", "{}", "let", "=", "+", "/", ";", "!", ","],
             &mut ["main", "a", "b", "c", "avg", "5", "3", "println", "\"{}\""],
         );
     }


</patch>

<TEST>
<Filename>src/alterator.rs</Filename>
<imports>use super::Mozjs;
use super::Alterator;</imports>
<Rust>#[test]
fn test_alterate_function_expression() {
  let node = Mozjs::FunctionExpression;
  let code = b"function foo() {}";
  let span = true;
  let children = vec![];
  let expected = Mozjs::String | Mozjs::String2;
  let actual = match Mozjs::from(node) {
    Mozjs::String | Mozjs::String2 => true,
    _ => false,
  };
  assert!(actual);
}
</Rust>
</TEST>

<output>
error[E0369]: no implementation for `language_mozjs::Mozjs | language_mozjs::Mozjs`
   --> src/alterator.rs:151:32
    |
151 |   let expected = Mozjs::String | Mozjs::String2;
    |                  ------------- ^ -------------- language_mozjs::Mozjs
    |                  |
    |                  language_mozjs::Mozjs
    |
note: an implementation of `BitOr` might be missing for `language_mozjs::Mozjs`
   --> src/languages/language_mozjs.rs:6:1
    |
6   | pub enum Mozjs {
    | ^^^^^^^^^^^^^^ must implement `BitOr`
note: the trait `BitOr` must be implemented
   --> /rustc/29483883eed69d5fb4db01964cdf2af4d86e9cb2/library/core/src/ops/bit.rs:244:1
</output>

Function signatures
<Signatures>

</Signatures>

You are a software tester at rust-code-analysis and your are reviewing the above <patch> for the above <issue>.
A unit test has already been created for this PR and can be found alongside the filename and the imports used inside the <TEST> block.
It currently fails on codebase after the patch, which the errors in the <output> block.
Your task is to:
1. Identify and understand the errors introduced by the unit test.
2. Update the unit test in the <TEST> block in order for it to fail on the code before the patch, and pass after, hence verifying that the patch resolves the issue.
3. All 'use' declarations must be inside a <imports>...</imports> block. Additionally:
   - Do not use group imports.
  - Import only what is necessary for the test to run and make sure not to have colliding imports.
  - If the <patch> contains a 'mod tests' block with useful imports, do not add them to the <imports> block.
  - Use `use super::<function name> for the function under test.
.  - If multiple 'use' statements are needed, list each on a separate line.
4. To help you write the test, <Signatures> contains all modified function's:
  - name
  - parameters
  - Return type (assume '()' if empty)
5. Return only the absolute filename as it is in the <patch> block, the use statements, and rust test (no comments or explanations).

Follow this expected output format, do not deviate from this structure:
<Filename> ... </Filename>
<imports> ... </imports>
<Rust>
#[test]
fn test_<describe_behavior>() {
  <initialize required variables>;
  <define expected variable>;
  <generate actual variables>;
  <compare expected with actual>;
}</Rust>

