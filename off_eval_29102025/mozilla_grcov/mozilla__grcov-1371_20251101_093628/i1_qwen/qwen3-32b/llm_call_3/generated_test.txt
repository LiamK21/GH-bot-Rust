#[test]
fn test_lcov_parser_ignoring_invalid_FNDA_record() {
    let mut f = File::open("./test/invalid_FNDA_record.info").expect("Failed to open lcov file");
    let mut buf = Vec::new();
    f.read_to_end(&mut buf).unwrap();
    let results = parse_lcov(buf, true, true).unwrap();
    assert_eq!(results.len(), 1);

    let (ref source_name, ref result) = results[0];
    assert!(source_name.ends_with("/sample_function.js"));
    assert_eq!(
        result.functions,
        vec![
            ("functionA".to_string(), Function { executed: true, start: 1 }),
            ("functionB".to_string(), Function { executed: false, start: 2 }),
        ]
        .into_iter()
        .collect()
    );
}