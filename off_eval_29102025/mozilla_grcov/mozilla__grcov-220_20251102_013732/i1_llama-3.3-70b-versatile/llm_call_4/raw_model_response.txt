<Filename>src/main.rs</Filename>
<imports>
use std::thread;
use std::thread::Builder;
use std::thread::JoinHandle;
</imports>
<Rust>
#[test]
fn test_thread_name_assignment() {
  let handle_before_patch: JoinHandle<()> = thread::spawn(|| {});
  let handle_after_patch: JoinHandle<()> = Builder::new().name("TestThread".to_string()).spawn(|| {});
  let thread_name_before_patch = handle_before_patch.thread().name();
  let thread_name_after_patch = handle_after_patch.thread().name().unwrap();
  let expected_name = "TestThread";
  assert_ne!(thread_name_before_patch, Some(expected_name));
  assert_eq!(thread_name_after_patch, expected_name);
}
</Rust>