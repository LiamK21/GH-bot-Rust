#[test]
fn test_absolute_html_links() {
  let (sender, receiver) = channel();
  let global = Arc::new(Mutex::new(HtmlGlobalStats { dirs: BTreeMap::new(), stats: HtmlStats::default(), abs_prefix: Some(PathBuf::from("https://example.com")) }));
  let output = Path::new("/tmp/output");
  let conf = Config { hi_limit: 100, med_limit: 50, fn_hi_limit: 100, fn_med_limit: 50, branch_hi_limit: 100, branch_med_limit: 50, branch: false, output_config_file: None, precision: 2, no_date: false };
  let abs_link_prefix = Some("https://example.com".to_string());
  consumer_html(&Tera::default(), receiver, global.clone(), output, conf, &abs_link_prefix);
  let job = Some(HtmlItem { abs_path: PathBuf::from("/tmp/output/index.html"), result: CovResult::default() });
  sender.send(job).unwrap();
  let global = global.lock().unwrap();
  assert!(global.abs_prefix.is_some());
}