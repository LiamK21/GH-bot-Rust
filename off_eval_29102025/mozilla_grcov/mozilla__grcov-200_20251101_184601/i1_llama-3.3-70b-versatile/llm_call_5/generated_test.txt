#[test]
fn test_global_allocator() {
  let sys = System {};
  let layout = Layout::from_size_align(10, 1).unwrap();
  let ptr = unsafe { sys.alloc(layout) };
  let is_null_before_patch = std::mem::size_of::<std::alloc::Global>() == 0;
  assert!(is_null_before_patch != ptr.is_null());
  assert!(!ptr.is_null());
}