<Filename>src/gcov.rs</Filename>
<imports>
use super::run_gcov;
use std::path::PathBuf;
use std::fs;
use std::env;
</imports>
<Rust>
#[test]
fn test_run_gcov_handles_errors() {
    let temp_dir = tempfile::tempdir().unwrap();
    let gcno_path = temp_dir.path().join("test.gcno");
    fs::write(&gcno_path, "").unwrap();
    let working_dir = temp_dir.path().to_path_buf();
    env::set_var("GCOV", "non_existent_gcov");

    let result = run_gcov(&gcno_path, false, &working_dir);

    assert!(result.is_err());
    if let Err(e) = result {
        assert!(matches!(e, super::GcovError::ProcessFailure));
    }
}
</Rust>