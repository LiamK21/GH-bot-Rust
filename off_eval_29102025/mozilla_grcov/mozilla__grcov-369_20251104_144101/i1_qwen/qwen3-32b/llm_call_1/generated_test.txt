#[test]
fn test_duplicate_fn_handling_no_workaround() {
    let data = "SF:test_file.js\nFN:42,top-level\nFN:1,top-level\nFNDA:1,top-level\nFNDA:0,top-level\nEND\n";
    let byte_data = data.as_bytes();
    let reader = BufReader::new(Cursor::new(byte_data));
    let results = parse_lcov(reader, false).unwrap();
    assert_eq!(results.len(), 1);
    let (_source_name, result) = &results[0];
    assert_eq!(result.functions.len(), 1);
    let func = result.functions.get("top-level").unwrap();
    assert_eq!(func.start, 1);
    assert!(func.executed);
}