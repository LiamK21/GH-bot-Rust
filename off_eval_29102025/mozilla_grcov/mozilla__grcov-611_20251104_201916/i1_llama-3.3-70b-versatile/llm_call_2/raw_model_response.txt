<Filename>src/lib.rs</Filename>
<imports>
use log::Level;
use log::Log;
use std::io::Cursor;
use super::add_results;
</imports>
<Rust>
#[test]
fn test_execution_count_overflow_logging() {
  let mut results: Vec<(String, ())> = Vec::new();
  let warn_overflow = true;
  let log_level = Level::Error;
  let original_log = Log::log;
  Log::log = |log| {
    if log.level == log_level {
      assert_eq!(log.args.to_string(), "Execution count overflow detected.");
      panic!("Error log detected");
    }
    original_log(log)
  };
  let result = std::panic::catch_unwind(|| add_results(&mut results, warn_overflow));
  assert!(result.is_err());
  Log::log = original_log;
  let original_log = Log::log;
  Log::log = |log| {
    if log.level == Level::Warn {
      assert_eq!(log.args.to_string(), "Execution count overflow detected.");
    }
    original_log(log)
  };
  add_results(&mut results, warn_overflow);
}
</Rust>