#[test]
fn test_overflow_logs_warning() {
    #[derive(Clone)]
    struct CovResult {
        execution_count: u32,
    }

    let mut results = vec![(String::from("test_file"), CovResult { execution_count: u32::MAX })];
    let warn_overflow = true;

    // Mock logger setup
    struct TestLogger;
    impl log::Logger for TestLogger {
        fn enabled(&self, _: &log::Metadata) -> bool { true }
        fn log(&self, record: &log::Record) {
            assert_eq!(record.level(), Level::Warn);
            assert!(record.args().to_string().contains("Execution count overflow detected."));
        }
        fn ignore(&self, _: &log::Metadata) {}
    }
    unsafe {
        log::set_logger(Box::new(TestLogger)).unwrap();
        log::set_max_level(Level::Warn.into());
        add_results(results);
    }
}