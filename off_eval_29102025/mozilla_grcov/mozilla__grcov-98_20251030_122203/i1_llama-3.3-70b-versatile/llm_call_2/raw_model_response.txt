<Filename>src/producer.rs</Filename>
<imports>
use std::path::PathBuf;
use std::sync::Arc;
use super::producer;
use super::WorkQueue;
use super::MsQueue;
</imports>
<Rust>
#[test]
fn test_producer_ignore_orphan_gcno() {
  let queue: Arc<WorkQueue> = Arc::new(MsQueue::new());
  let tmp_dir = tempfile::TempDir::new("grcov").expect("Failed to create temporary directory");
  let tmp_path = tmp_dir.path().to_owned();
  let paths = vec![String::from("test/only_one_gcda")];
  let ignore_orphan_gcno = true;
  let result_with_ignore = producer(&tmp_path, &paths, &queue, ignore_orphan_gcno);
  let ignore_orphan_gcno = false;
  let result_without_ignore = producer(&tmp_path, &paths, &queue, ignore_orphan_gcno);
  assert_ne!(result_with_ignore, result_without_ignore);
}
</Rust>