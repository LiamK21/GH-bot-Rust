#[test]
fn test_producer_ignore_orphan_gcno() {
  let queue: Arc<Mutex<VecDeque<String>>> = Arc::new(Mutex::new(VecDeque::new()));
  let tmp_dir = TempDir::new("grcov").expect("Failed to create temporary directory");
  let tmp_path = tmp_dir.path().to_owned();
  let paths = vec![String::from("test/only_one_gcda")];
  let ignore_orphan_gcno = true;
  producer(&tmp_path, &paths, &queue, ignore_orphan_gcno);
  let expected: Vec<String> = vec![String::from("test/only_one_gcda/main.gcda")];
  let actual: Vec<String> = queue.lock().unwrap().iter().cloned().collect();
  assert_eq!(actual, expected);
}