#[test]
fn test_markdown_output_sorted() {
    let opt = Opt {
        sort_output_types: vec![OutputType::Markdown],
        ..Default::default()
    };

    let unsorted = vec![
        ResultTuple(PathBuf::from("ZFile.rs"), 0, 0, Vec::new()),
        ResultTuple(PathBuf::from("AFile.rs"), 0, 0, Vec::new()),
    ];
    let expected = vec![
        ResultTuple(PathBuf::from("AFile.rs"), 0, 0, Vec::new()),
        ResultTuple(PathBuf::from("ZFile.rs"), 0, 0, Vec::new()),
    ];

    let sorted: Vec<_> = {
        let mut entries = unsorted.clone();
        if opt.sort_output_types.contains(&OutputType::Markdown) {
            entries.sort_by_key(|r| r.0.display().to_string());
        }
        entries
    };

    assert_eq!(sorted, expected);
}