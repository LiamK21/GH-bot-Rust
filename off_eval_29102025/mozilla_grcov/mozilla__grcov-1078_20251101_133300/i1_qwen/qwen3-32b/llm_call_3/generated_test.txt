#[test]
fn test_markdown_output_sorted() {
    let opt = Opt {
        sort_output_types: vec![OutputType::Markdown],
        service_number: None,
        service_pull_request: None,
        ..Default::default()
    };

    let unsorted = vec![
        ResultTuple(PathBuf::from("ZFile.rs"), 0, 0, Vec::new()),
        ResultTuple(PathBuf::from("AFile.rs"), 0, 0, Vec::new()),
    ];
    let expected = vec![
        ResultTuple(PathBuf::from("AFile.rs"), 0, 0, Vec::new()),
        ResultTuple(PathBuf::from("ZFile.rs"), 0, 0, Vec::new()),
    ];

    let sorted: Vec<_> = {
        let mut unsorted_clone = unsorted.clone();
        if opt.sort_output_types.contains(&OutputType::Markdown) {
            unsorted_clone.sort_by_key(|result| result.0.display().to_string());
        }
        unsorted_clone
    };

    assert_eq!(sorted, expected);
}