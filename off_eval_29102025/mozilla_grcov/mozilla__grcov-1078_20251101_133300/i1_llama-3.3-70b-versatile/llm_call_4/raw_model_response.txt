<Filename>src/main.rs</Filename>
<imports>
use std::path::Path;
use std::fs;
use std::io::Write;
use super::output_markdown;
use super::Opt;
use super::OutputType;
use super::ResultTuple;
</imports>
<Rust>
#[test]
fn test_markdown_output_sorted() {
  let output_path = Path::new("test_output.md");
  let mut opt = Opt {
    sort_output_types: vec![OutputType::Markdown],
    ..Default::default()
  };
  let mut iterator: Vec<ResultTuple> = vec![
    (Path::new("c.txt"), 0.0, 0, 0, String::new()),
    (Path::new("a.txt"), 0.0, 0, 0, String::new()),
    (Path::new("b.txt"), 0.0, 0, 0, String::new()),
  ];
  let mut file = fs::File::create(output_path).unwrap();
  output_markdown(&iterator, Some(output_path), 0);
  let contents = fs::read_to_string(output_path).unwrap();
  let expected = "| a.txt | 0.00%   | 0 / 0      | \n| b.txt | 0.00%   | 0 / 0      | \n| c.txt | 0.00%   | 0 / 0      | ";
  assert!(contents.contains(expected));
  fs::remove_file(output_path).unwrap();
}

#[test]
fn test_markdown_output_unsorted() {
  let output_path = Path::new("test_output.md");
  let mut opt = Opt {
    sort_output_types: vec![OutputType::Ade],
    ..Default::default()
  };
  let mut iterator: Vec<ResultTuple> = vec![
    (Path::new("c.txt"), 0.0, 0, 0, String::new()),
    (Path::new("a.txt"), 0.0, 0, 0, String::new()),
    (Path::new("b.txt"), 0.0, 0, 0, String::new()),
  ];
  let mut file = fs::File::create(output_path).unwrap();
  output_markdown(&iterator, Some(output_path), 0);
  let contents = fs::read_to_string(output_path).unwrap();
  let expected = "| c.txt | 0.00%   | 0 / 0      | \n| a.txt | 0.00%   | 0 / 0      | \n| b.txt | 0.00%   | 0 / 0      | ";
  assert!(contents.contains(expected));
  fs::remove_file(output_path).unwrap();
}
</Rust>