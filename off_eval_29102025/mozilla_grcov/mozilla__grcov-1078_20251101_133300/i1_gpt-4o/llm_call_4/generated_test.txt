#[test]
fn test_markdown_output_sorted() {
    let temp_dir = tempdir().unwrap();
    let file1 = temp_dir.path().join("C:/Users/daego/Desktop/Projects/Light.vn-core/core/src/Code/80.Obj/Sprite/Basic/NSprite.h");
    let file2 = temp_dir.path().join("C:/Users/daego/Desktop/Projects/Light.vn-core/core/src/Code/81.Components/Terrain/Terrain_save.cpp");
    let file3 = temp_dir.path().join("C:/Users/daego/Desktop/Projects/Light.vn-core/core/src/Code/88.Managers/BufferMgr/BufferMgr.cpp");
    fs::write(&file1, "").unwrap();
    fs::write(&file2, "").unwrap();
    fs::write(&file3, "").unwrap();

    let output = Command::new("cargo")
        .arg("run")
        .arg("--")
        .arg("--output-type=markdown")
        .arg(format!("--output-path={}/output.md", temp_dir.path().display()))
        .output()
        .expect("Failed to execute command");

    let markdown_output = fs::read_to_string(temp_dir.path().join("output.md")).unwrap();

    let expected_order = vec![
        "C:/Users/daego/Desktop/Projects/Light.vn-core/core/src/Code/80.Obj/Sprite/Basic/NSprite.h",
        "C:/Users/daego/Desktop/Projects/Light.vn-core/core/src/Code/81.Components/Terrain/Terrain_save.cpp",
        "C:/Users/daego/Desktop/Projects/Light.vn-core/core/src/Code/88.Managers/BufferMgr/BufferMgr.cpp",
    ];

    let actual_order: Vec<&str> = markdown_output
        .lines()
        .filter_map(|line| line.split('|').nth(1))
        .map(str::trim)
        .collect();

    assert_eq!(expected_order, actual_order);
}