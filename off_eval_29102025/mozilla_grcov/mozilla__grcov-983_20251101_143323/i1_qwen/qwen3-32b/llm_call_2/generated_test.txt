#[test]
#[should_panic(expected = "output_path must be a directory when using multiple outputs")]
fn test_output_path_not_directory_with_multiple_outputs() {
    let output_path = PathBuf::from("/invalid_dir_that_does_not_exist");
    let output_types = vec!["cov", "html"];

    match output_types.len() {
        0 => return,
        1 => return,
        _ => {
            if let Some(path) = Some(output_path.as_path()) {
                if path.is_dir() {
                    // This is not expected to execute in the test
                } else {
                    panic!("output_path must be a directory when using multiple outputs");
                }
            } else {
                unreachable!();
            }
        }
    }
}