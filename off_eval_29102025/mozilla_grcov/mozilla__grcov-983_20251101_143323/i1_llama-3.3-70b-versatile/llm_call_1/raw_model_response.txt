<Filename> src/main.rs </Filename>
<imports> 
use std::path::Path;
use std::panic;
</imports>
<Rust>
#[test]
fn test_output_path_validation() {
  let output_path = Path::new("/tmp");
  let result = panic::catch_unwind(|| {
    let _ = match output_path {
        _ => match Some(output_path) {
            Some(output_path) => {
                if output_path.is_dir() {
                    Some(output_path)
                } else {
                    panic!("output_path must be a directory when using multiple outputs");
                }
            }
            _ => None,
        },
    };
  });
  assert!(result.is_err());
}</Rust>