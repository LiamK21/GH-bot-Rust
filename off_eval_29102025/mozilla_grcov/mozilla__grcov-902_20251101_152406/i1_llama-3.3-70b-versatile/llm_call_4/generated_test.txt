#[test]
fn test_profraws_to_lcov_long_args() {
  let temp_dir = TempDir::new("grcov-test").unwrap();
  let working_dir = temp_dir.path();
  let binary_path = working_dir.join("binary");
  fs::create_dir_all(binary_path.clone()).unwrap();
  let mut profraw_paths = vec![];
  for i in 0..2000 {
    let profraw_path = working_dir.join(format!("{}.profraw", i));
    let mut file = fs::File::create(profraw_path.clone()).unwrap();
    file.write_all(b"test").unwrap();
    profraw_paths.push(profraw_path);
  }
  let result = profraws_to_lcov(&profraw_paths, binary_path, working_dir);
  assert!(result.is_ok());
}