#[test]
fn test_invalid_utf8_version_doesnt_panic() {
    let buffer = b"adcg\xFF\xFF\xFF\xFF".to_vec();
    let reader = GcovReaderBuf::new(PathBuf::from("test.gcda"), buffer);
    let i = 4; // offset after "adcg"
    let result = reader.parse_version();
    assert!(result.is_err());
    if let Err(err) = result {
        let err_str = format!("{}", err);
        assert!(err_str.contains("Unexpected version: ������"));
    }
}