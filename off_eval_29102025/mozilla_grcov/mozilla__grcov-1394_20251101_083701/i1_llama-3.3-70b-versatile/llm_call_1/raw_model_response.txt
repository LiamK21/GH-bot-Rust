<Filename> src/lib.rs </Filename>
<imports> 
use super::llvm_profiles_to_lcov;
use std::path::Path;
use std::path::PathBuf;
use std::sync::mpsc;
use std::thread;
</imports>
<Rust>
#[test]
fn test_num_threads_passed_to_llvm_profiles_to_lcov() {
  let (sender, receiver) = mpsc::channel();
  let working_dir = Path::new("/tmp");
  let source_dir = None;
  let result_map = std::sync::Arc::new(std::sync::Mutex::new(std::collections::HashMap::new()));
  let binary_path = None;
  let ignore_parsing_error = false;
  let num_threads = 4;
  let profile_paths = vec![PathBuf::from("/tmp/default.profraw")];
  let binary_path = Path::new("/tmp/src");
  let expected_args = vec![
    "merge".as_ref(),
    "-f".as_ref(),
    "-sparse".as_ref(),
    "-o".as_ref(),
    working_dir.join("grcov.profdata").as_ref(),
    "--num-threads".as_ref(),
    "4".as_ref(),
  ];
  let actual_args = llvm_profiles_to_lcov(&profile_paths, binary_path, working_dir, num_threads).unwrap();
  assert!(actual_args.len() > 0);
}</Rust>