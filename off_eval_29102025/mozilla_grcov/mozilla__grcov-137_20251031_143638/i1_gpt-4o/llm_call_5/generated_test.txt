#[test]
fn test_producer_identifies_llvm_gcno_files() {
    let tmp_dir = Path::new("/tmp");
    let paths = vec!["/path/to/archive".to_string()];
    let queue = WorkQueue::new();
    let ignore_orphan_gcno = false;
    let is_llvm = false;

    let mut archive = Archive {
        name: "test_archive".to_string(),
        item: RefCell::new(ArchiveType::Dir(Path::new("/path/to/archive").to_path_buf())),
    };

    let gcno_path = tmp_dir.join("llvm_file.gcno");
    let mut file = File::create(&gcno_path).unwrap();
    file.write_all(b"oncg*204").unwrap();

    archive.explore(&RefCell::new(HashMap::new()), &RefCell::new(HashMap::new()), &RefCell::new(HashMap::new()), &RefCell::new(HashMap::new()), is_llvm);

    let expected = Some(b"oncg*204".to_vec());

    let actual = producer(tmp_dir, &paths, &queue, ignore_orphan_gcno, is_llvm);

    assert_eq!(expected, actual);
}