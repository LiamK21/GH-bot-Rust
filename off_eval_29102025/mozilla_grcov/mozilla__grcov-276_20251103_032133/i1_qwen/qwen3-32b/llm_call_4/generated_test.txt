#[test]
fn test_rewrite_paths_clap_argument_integration() {
    let mut result_map: CovResultMap = FxHashMap::default();
    result_map.insert("src/main.rs".to_string(), empty_result!());
    result_map.insert("src/lib.rs".to_string(), empty_result!());

    let mut ignore_dirs = vec!["src/*"];
    let ignore_dirs_ref = &mut ignore_dirs;

    let results = super::rewrite_paths(
        result_map, 
        None, 
        None, 
        None, 
        false, 
        ignore_dirs_ref, 
        None
    );

    let result_count = results.count();
    assert_eq!(result_count, 0, "All files should be ignored by the pattern 'src/*'");
}