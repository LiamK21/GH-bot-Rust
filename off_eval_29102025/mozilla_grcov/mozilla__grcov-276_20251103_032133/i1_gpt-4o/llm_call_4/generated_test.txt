#[test]
fn test_cli_options_with_clap() {
    let output = Command::new("cargo")
        .arg("run")
        .arg("--")
        .arg("test_dir")
        .arg("-t")
        .arg("lcov")
        .arg("--ignore-not-existing")
        .output()
        .expect("Failed to execute command");

    let expected_status = true;
    let actual_status = output.status.success();

    assert_eq!(expected_status, actual_status);

    let expected_output_contains = "Parse, collect and aggregate code coverage data for multiple source files";
    let actual_output = str::from_utf8(&output.stdout).expect("Failed to convert output to string");

    assert!(actual_output.contains(expected_output_contains));
}