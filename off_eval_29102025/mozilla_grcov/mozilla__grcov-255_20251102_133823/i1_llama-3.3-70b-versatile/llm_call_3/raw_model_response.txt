<Filename>src/output.rs</Filename>
<imports>
use std::io::Write;
use std::io;
use std::fs::File;
use std::path::Path;
use std::io::BufReader;
use std::io::Read;
use super::output_activedata_etl;
use std::iter::IntoIterator;
use std::collections::Vec;
use std::path::PathBuf;
</imports>
<Rust>
#[test]
fn test_output_file_option() {
  let output_file = Some("test_output.txt");
  let output_file_none = None;
  let results: Vec<(PathBuf, PathBuf, String)> = vec![(PathBuf::from("test"), PathBuf::from("test.txt"), String::new())];
  let expected_output = "test";
  let mut actual_output = String::new();
  {
    output_activedata_etl(results.into_iter(), output_file);
    let mut file = File::open("test_output.txt").unwrap();
    let mut reader = BufReader::new(file);
    reader.read_to_string(&mut actual_output).unwrap();
  }
  assert_eq!(expected_output, actual_output);
  std::fs::remove_file("test_output.txt").unwrap();
}
</Rust>