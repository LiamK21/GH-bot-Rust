#[test]
fn test_parse_jacoco_xml_report_unexpected_version() {
    let file_path = Path::new("test_data/unexpected_version.xml");
    std::fs::create_dir_all("test_data").expect("Unable to create test directory");
    std::fs::write(file_path, r#"<report version="R37A"></report>"#).expect("Unable to write test data");
    let file = File::open(file_path).expect("Unable to open test file");
    let reader = BufReader::new(file);

    let result = parse_jacoco_xml_report(reader);

    assert!(result.is_err());
    assert_eq!(result.unwrap_err().to_string(), "Error in computing counters: Unexpected version: R37A");
    std::fs::remove_file(file_path).expect("Unable to delete test file");
    std::fs::remove_dir("test_data").expect("Unable to delete test directory");
}