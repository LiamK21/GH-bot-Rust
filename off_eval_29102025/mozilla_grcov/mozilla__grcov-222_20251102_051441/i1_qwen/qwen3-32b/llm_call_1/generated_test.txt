#[test]
fn test_thread_panic_exits_with_code_1() {
    let result = std::thread::spawn(move || {
        panic!("Simulated thread panic");
    }).join();

    if let Err(_) = result {
        process::exit(1);
    }

    // If we reach here, the test should fail because the exit(1) wasn't triggered
    panic!("Expected exit code 1 but exited with 0");
}