#[test]
fn test_thread_failure_exit_code() {
    let output = Command::new("cargo")
        .arg("run")
        .output()
        .expect("Failed to execute command");

    let exit_code = output.status.code().unwrap();
    assert_ne!(exit_code, 0, "Expected non-zero exit code on thread failure");
}