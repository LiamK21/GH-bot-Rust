<Filename>src/path_rewriting.rs</Filename>
<imports>
use std::path::Path;
use std::collections::HashMap;
use serde_json::Value;
use regex::Regex;
use crate::CovResultMap;
use crate::FileFilter;
use crate::ResultTuple;
</imports>
<Rust>
#[test]
fn test_rewrite_paths_with_partial_path_map() {
  let result_map: CovResultMap = HashMap::new();
  let path_mapping: Option<Value> = None;
  let source_dir: Option<&Path> = Some(Path::new("/test/source"));
  let prefix_dir: Option<&Path> = Some(Path::new("/test/prefix"));
  let ignore_not_existing: bool = false;
  let to_ignore_dirs: &[&str] = &[];
  let to_keep_dirs: &[&str] = &[];
  let filter_option: Option<bool> = None;
  let excl_line = None;
  let excl_start = None;
  let excl_stop = None;
  let excl_br_line = None;
  let excl_br_start = None;
  let excl_br_stop = None;
  let file_filter: crate::FileFilter = crate::FileFilter::new(excl_line, excl_start, excl_stop, excl_br_line, excl_br_start, excl_br_stop);
  let expected: Vec<ResultTuple> = vec![];
  let actual = super::rewrite_paths(result_map, path_mapping, source_dir, prefix_dir, ignore_not_existing, to_ignore_dirs, to_keep_dirs, filter_option, file_filter);
  assert_eq!(expected, actual);
}
</Rust>