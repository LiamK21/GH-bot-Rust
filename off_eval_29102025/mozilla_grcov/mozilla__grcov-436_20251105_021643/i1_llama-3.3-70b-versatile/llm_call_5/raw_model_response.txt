<Filename>src/output.rs</Filename>
<imports>
use std::io;
use std::fs;
use std::path::PathBuf;
use std::panic;
</imports>
<Rust>
#[test]
fn test_output_file_is_directory() {
  let output_file = "test_dir";
  fs::create_dir(output_file).unwrap();
  let result = panic::catch_unwind(|| {
    super::get_target_output_writable(Some(output_file));
  });
  assert!(result.is_err());
  fs::remove_dir(output_file).unwrap();
}
#[test]
fn test_output_file_creation_fails() {
  let output_file = "test_file";
  fs::File::create(output_file).unwrap();
  let result = panic::catch_unwind(|| {
    super::get_target_output_writable(Some("new_file"));
  });
  assert!(result.is_err());
  fs::remove_file(output_file).unwrap();
}
#[test]
fn test_output_file_is_not_directory() {
  let output_file = "test_file";
  fs::File::create(output_file).unwrap();
  let result = panic::catch_unwind(|| {
    super::get_target_output_writable(Some(output_file));
  });
  assert!(result.is_ok());
  fs::remove_file(output_file).unwrap();
}
#[test]
fn test_output_file_is_valid() {
  let output_file = "test_file";
  fs::File::create(output_file).unwrap();
  let result = panic::catch_unwind(|| {
    super::get_target_output_writable(Some(output_file));
  });
  assert!(result.is_ok());
  fs::remove_file(output_file).unwrap();
}
#[test]
fn test_no_output_file() {
  let result = panic::catch_unwind(|| {
    super::get_target_output_writable(None);
  });
  assert!(result.is_ok());
}
</Rust>