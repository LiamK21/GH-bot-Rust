<Filename>src/output.rs</Filename>
<imports>
use std::io;
use std::fs;
use std::path::PathBuf;
use super::get_target_output_writable;
</imports>
<Rust>
#[test]
fn test_output_file_is_directory() {
  let output_file = "test_dir";
  fs::create_dir(output_file).unwrap();
  let result = std::panic::catch_unwind(|| {
    get_target_output_writable(Some(output_file));
  });
  assert!(result.is_err());
  fs::remove_dir(output_file).unwrap();
  // Test with a non-directory path
  let result = std::panic::catch_unwind(|| {
    get_target_output_writable(Some("non_existent_file"));
  });
  assert!(result.is_err());
  // Test with a valid file path
  let file_path = "test_file";
  fs::File::create(file_path).unwrap();
  let result = std::panic::catch_unwind(|| {
    get_target_output_writable(Some(file_path));
  });
  assert!(result.is_ok());
  fs::remove_file(file_path).unwrap();
  // Test with no output file
  let result = std::panic::catch_unwind(|| {
    get_target_output_writable(None);
  });
  assert!(result.is_ok());
}
</Rust>