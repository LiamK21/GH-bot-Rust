<Filename> src/main.rs </Filename>
<imports> 
use super::rewrite_paths;
use super::print_usage;
use std::collections::HashMap;
use std::path::PathBuf;
</imports>
<Rust>
#[test]
fn test_filter_option() {
  let mut result_map: HashMap<String, super::CovResult> = HashMap::new();
  result_map.insert("covered.cpp".to_string(), super::CovResult {
    lines: [(1, 1)].iter().cloned().collect(),
    branches: [].iter().cloned().collect(),
    functions: HashMap::new(),
  });
  result_map.insert("uncovered.cpp".to_string(), super::CovResult {
    lines: [(1, 0)].iter().cloned().collect(),
    branches: [].iter().cloned().collect(),
    functions: HashMap::new(),
  });
  let filter_option = Some(true);
  let results = rewrite_paths(result_map, None, "", "", false, false, Vec::new(), filter_option);
  let mut count = 0;
  for (abs_path, rel_path, result) in results {
    count += 1;
    assert_eq!(abs_path, PathBuf::from("covered.cpp"));
    assert_eq!(rel_path, PathBuf::from("covered.cpp"));
  }
  assert_eq!(count, 1);
}
</Rust>