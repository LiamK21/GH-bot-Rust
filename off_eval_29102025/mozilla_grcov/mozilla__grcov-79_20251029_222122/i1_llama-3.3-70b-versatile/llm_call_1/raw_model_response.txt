<Filename> src/output.rs </Filename>
<imports> 
use std::io::Cursor;
use super::output_lcov;
use super::CovResultIter;
</imports>
<Rust>
#[test]
fn test_output_lcov_branch_coverage() {
  let mut writer = Cursor::new(Vec::new());
  let results = vec![(
    "test_file",
    vec![("test_function", true)],
    vec![("test_line", 1)],
    vec![((1, 1), true), ((2, 2), false)]
  )].into_iter();
  let expected = "FNF:1\nFNH:1\nBRDA:1,0,1,1\nBRDA:2,0,2,-\nBRF:2\nBRH:1\nDA:1,1\n";
  output_lcov(results);
  let actual = std::str::from_utf8(writer.into_inner().as_slice()).unwrap();
  assert_eq!(expected, actual);
}</Rust>