#[test]
fn test_branch_coverage_stats() {
    let branches = vec![
        ("branch1".to_string(), vec![true, false, true]), // 2 covered
        ("branch2".to_string(), vec![false, false]),      // 0 covered
    ]
    .into_iter()
    .collect::<BTreeMap<_, _>>();

    let result = super::CovResult {
        branches,
        lines: BTreeMap::new(), // unused in this test
        functions: FxHashMap::default(), // unused in this test
    };

    let stats = super::get_stats(&result);

    assert_eq!(stats.total_branches, 5); // 3 + 2
    assert_eq!(stats.covered_branches, 2); // 2 + 0
}