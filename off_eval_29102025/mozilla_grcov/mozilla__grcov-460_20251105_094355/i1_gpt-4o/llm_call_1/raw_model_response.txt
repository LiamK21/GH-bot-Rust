<Filename>src/output.rs</Filename>
<imports>
use super::output_html;
use std::path::PathBuf;
use crate::CovResultIter;
use std::fs;
</imports>
<Rust>
#[test]
fn test_output_html_with_branch_coverage() {
    let results = CovResultIter::new(); // Assuming CovResultIter::new() initializes an empty iterator
    let output_dir = Some("test_output");
    let num_threads = 1;
    let branch_enabled = true;

    // Clean up before test
    let _ = fs::remove_dir_all("test_output");

    output_html(results, output_dir, num_threads, branch_enabled);

    // Check if the output directory and index.html file are created
    let output_path = PathBuf::from("test_output/index.html");
    assert!(output_path.exists());

    // Read the content of the index.html file
    let content = fs::read_to_string(output_path).expect("Failed to read index.html");

    // Check if the branch coverage information is present
    assert!(content.contains("Branches"));
}
</Rust>