#[test]
fn test_producer_jacoco_xml_files() {
  let queue: Arc<WorkQueue> = Arc::new(WorkQueue::new());
  let tmp_dir = PathBuf::from("test");
  let paths = vec!["test/jacoco1.zip".to_string(), "test/jacoco2.zip".to_string()];
  let expected = vec![
    (ItemFormat::JACOCO_XML, false, "jacoco/basic-jacoco.xml", true),
    (ItemFormat::JACOCO_XML, false, "inner-classes.xml", true),
  ];
  producer(&tmp_dir, &paths, &queue, false, false);
  let mut actual = Vec::new();
  while let Some(work_item) = queue.pop() {
    if let Some(item) = work_item {
      actual.push((item.format, false, item.name.clone(), true));
    }
  }
  assert_eq!(expected, actual);
}