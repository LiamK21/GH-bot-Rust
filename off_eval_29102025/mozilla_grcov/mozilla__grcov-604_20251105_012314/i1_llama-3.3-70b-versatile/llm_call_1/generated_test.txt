#[test]
fn test_get_target_output_writable_with_non_existent_directory() {
  let output_file = "non_existent_directory/coverage/lcov.info";
  let result = std::panic::catch_unwind(|| {
    get_target_output_writable(Some(output_file));
  });
  assert!(result.is_err());
  let err = result.unwrap_err().downcast::<&str>().unwrap();
  assert!(err.contains("doesn't exist"));
  fs::create_dir_all("non_existent_directory/coverage").unwrap();
  let result = std::panic::catch_unwind(|| {
    get_target_output_writable(Some(output_file));
  });
  assert!(result.is_ok());
  fs::remove_dir_all("non_existent_directory").unwrap();
}