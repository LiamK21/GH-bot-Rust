<Filename>src/gcov.rs</Filename>
<imports>
use std::env;
use super::get_gcov;
</imports>
<Rust>
#[test]
fn test_get_gcov() {
  let original_gcov = env::var("GCOV");
  env::set_var("GCOV", "custom_gcov");
  let expected = "custom_gcov".to_string();
  let actual = get_gcov();
  assert_eq!(expected, actual);
  env::remove_var("GCOV");
  let expected = "gcov".to_string();
  let actual = get_gcov();
  assert_eq!(expected, actual);
  if let Ok(val) = original_gcov {
    env::set_var("GCOV", val);
  } else {
    env::remove_var("GCOV");
  }
  // Test if-let chain
  let original_gcov = env::var("GCOV");
  env::remove_var("GCOV");
  let expected = "gcov".to_string();
  let actual = get_gcov();
  assert_eq!(expected, actual);
  if let Ok(val) = original_gcov {
    env::set_var("GCOV", val);
  } else {
    env::remove_var("GCOV");
  }
  // Test match statement before patch
  let original_gcov = env::var("GCOV");
  env::remove_var("GCOV");
  let expected = "gcov".to_string();
  let actual = match env::var("GCOV") {
    Ok(s) => s,
    Err(_) => "gcov".to_string(),
  };
  assert_eq!(expected, actual);
  if let Ok(val) = original_gcov {
    env::set_var("GCOV", val);
  } else {
    env::remove_var("GCOV");
  }
}
</Rust>