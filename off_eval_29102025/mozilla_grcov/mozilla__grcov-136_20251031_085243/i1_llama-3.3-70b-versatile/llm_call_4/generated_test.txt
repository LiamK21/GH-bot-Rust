#[test]
fn test_jacoco_xml_parsing() {
  let file_path = Path::new("./test/jacoco/basic-report.xml");
  let file = File::open(file_path).expect("Failed to open xml file");
  let file_reader = BufReader::new(&file);
  let result = parse_jacoco_xml_report(file_reader).unwrap();
  let mut lines: BTreeMap<u32, u64> = BTreeMap::new();
  lines.insert(1, 0);
  lines.insert(4, 1);
  lines.insert(6, 1);
  let mut branches: BTreeMap<(u32, u32), bool> = BTreeMap::new();
  branches.insert((3, 0), true);
  branches.insert((3, 1), true);
  let mut functions: std::collections::HashMap<String, Function> = std::collections::HashMap::new();
  functions.insert(String::from("hello#<init>"), Function {
    start: 1,
    executed: false,
  });
  functions.insert(String::from("hello#main"), Function {
    start: 3,
    executed: true,
  });
  let expected = vec![(String::from("hello.java"), CovResult {
    lines,
    branches,
    functions,
  })];
  assert_eq!(result, expected);
}