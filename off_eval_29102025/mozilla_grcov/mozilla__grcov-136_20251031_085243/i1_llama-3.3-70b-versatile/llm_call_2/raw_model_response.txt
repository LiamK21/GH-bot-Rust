<Filename>src/parser.rs</Filename>
<imports>
use std::fs::File;
use std::io::BufReader;
use std::path::Path;
use std::collections::BTreeMap;
use super::parse_jacoco_xml_report;
use super::CovResult;
use super::Function;
</imports>
<Rust>
#[test]
fn test_jacoco_xml_parsing() {
  let file_path = Path::new("./test/jacoco/basic-report.xml");
  let file = File::open(file_path).expect("Failed to open xml file");
  let file_reader = BufReader::new(&file);
  let result = parse_jacoco_xml_report(file_reader).unwrap();
  let expected = vec![(String::from("hello.java"), CovResult {
    lines: BTreeMap::from([(1, 0), (4, 1), (6, 1)]),
    branches: BTreeMap::new(),
    functions: BTreeMap::from([
      ("hello#<init>".to_string(), Function { start: 1, executed: false }),
      ("hello#main".to_string(), Function { start: 3, executed: true }),
    ]),
  })];
  assert_eq!(result, expected);
}
</Rust>