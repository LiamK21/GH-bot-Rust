<Filename>src/parser.rs</Filename>
<imports>
use std::collections::BTreeMap;
use std::collections::HashMap;
use std::fs::File;
use std::io::BufReader;
use super::parse_jacoco_xml_report;
</imports>
<Rust>
#[test]
fn test_parser_jacoco_xml_single_class() {
    let mut lines: BTreeMap<u32, u64> = BTreeMap::new();
    lines.insert(1, 1);
    lines.insert(2, 0);
    let mut functions: HashMap<String, Function> = HashMap::new();
    functions.insert(String::from("SingleClass#main"), Function {
        executed: true,
        start: 1,
    });
    let branches: BTreeMap<(u32, u32), bool> = BTreeMap::new();
    let expected = vec![(String::from("defaultpkg/SingleClass.java"), CovResult {
        lines: lines,
        branches: branches,
        functions: functions,
    })];

    let f = File::open("./test/jacoco/single-class.xml").expect("Failed to open xml file");
    let file = BufReader::new(&f);
    let results = parse_jacoco_xml_report(file).unwrap();

    assert_eq!(results, expected);
}
</Rust>