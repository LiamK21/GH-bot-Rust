<Filename>src/cobertura.rs</Filename>
<imports>
use std::collections::BTreeMap;
use std::path::PathBuf;
use super::get_coverage;
use symbolic_demangle::DemangleOptions;
</imports>
<Rust>
#[test]
fn test_cobertura_report_contains_full_class_line_coverage() {
  let results: BTreeMap<PathBuf, BTreeMap<u32, u32>> = BTreeMap::new();
  let sources: Vec<String> = vec![];
  let demangle: bool = false;
  let demangle_options: DemangleOptions = DemangleOptions::complete();
  let expected_lines: Vec<u32> = vec![1, 2, 3];
  let coverage = get_coverage(Box::new(results.into_iter()), sources, demangle, demangle_options);
  let actual_lines: Vec<u32> = coverage.sources.iter().next().unwrap().lines.iter().map(|line| line.number).collect();
  assert_eq!(expected_lines, actual_lines);
}
</Rust>