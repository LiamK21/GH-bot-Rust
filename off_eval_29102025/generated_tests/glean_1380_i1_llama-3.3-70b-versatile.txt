#[test]
fn test_string_list_metric_add_and_set() {
  let _t = new_glean(None, true);

  let engine_metric: StringListMetric = StringListMetric::new(CommonMetricData {
    name: "event".into(),
    category: "test".into(),
    send_in_pings: vec!["test1".into()],
    ..Default::default()
  });

  let engines: Vec<String> = vec!["Google".to_string(), "DuckDuckGo".to_string()];

  engine_metric.set(engines.clone());
  engine_metric.add("Bing".to_string());

  let expected = vec!["Google".to_string(), "DuckDuckGo".to_string(), "Bing".to_string()];
  let actual = engine_metric.test_get_value(None).unwrap();

  assert_eq!(expected, actual);
}