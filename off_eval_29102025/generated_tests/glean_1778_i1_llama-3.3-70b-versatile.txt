#[test]
fn test_url_metric_set_and_get_value() {
  let (glean, _) = new_glean(None);

  let metric = UrlMetric::new(CommonMetricData {
    name: "url_metric".into(),
    category: "test".into(),
    send_in_pings: vec!["store1".into()],
    lifetime: Lifetime::Application,
    disabled: false,
    dynamic_label: None,
  });

  let sample_url = "glean://test".to_string();
  metric.set(&glean, sample_url.clone());
  assert_eq!(sample_url, metric.test_get_value(&glean, "store1").unwrap());
}