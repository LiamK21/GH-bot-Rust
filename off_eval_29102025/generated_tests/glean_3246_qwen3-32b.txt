#[test]
fn test_snapshot_does_not_include_zero_buckets() {
    let mut hist = Histogram::linear(10, 30, 3);
    hist.values.insert(10, 1); // Simulates sample in first bucket
    hist.values.insert(30, 1); // Simulates sample in third bucket

    let snapshot = hist.snapshot_values();
    assert_eq!(snapshot.len(), 2);
    assert_eq!(*snapshot.get(&10).unwrap(), 1);
    assert_eq!(*snapshot.get(&30).unwrap(), 1);
    assert!(snapshot.get(&20).is_none());
}