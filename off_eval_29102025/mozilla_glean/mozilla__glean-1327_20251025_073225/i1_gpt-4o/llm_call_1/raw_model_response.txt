<Filename>glean-core/rlb/src/test.rs</Filename>
<imports>
use super::initializing_twice_is_a_noop;
use crate::common_test::lock_test;
use crate::common_test::new_glean;
</imports>
<Rust>
#[test]
fn test_initializing_twice_is_a_noop() {
    let _lock = lock_test();

    let dir = tempfile::tempdir().unwrap();
    let tmpname = dir.path().display().to_string();

    let config = Configuration {
        data_path: tmpname.clone(),
        application_id: GLOBAL_APPLICATION_ID.into(),
        upload_enabled: true,
        max_events: None,
        delay_ping_lifetime_io: false,
        channel: Some("testing".into()),
        server_endpoint: Some("invalid-test-host".into()),
        uploader: None,
    };

    test_reset_glean(config.clone(), ClientInfoMetrics::unknown(), true);
    dispatcher::block_on_queue();

    test_reset_glean(config, ClientInfoMetrics::unknown(), false);
    dispatcher::block_on_queue();

    // No assertion needed as the test is to ensure no panic occurs
}
</Rust>