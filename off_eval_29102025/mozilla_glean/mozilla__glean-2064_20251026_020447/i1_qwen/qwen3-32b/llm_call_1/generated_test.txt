#[cfg(windows)]
#[test]
fn test_glean_logging_does_not_break_subprocess_spawn() {
    // Test that enabling logging doesn't break subprocess spawn
    let fd = 1u64; // stdout fd
    super::glean_enable_logging_to_fd(fd);

    // Try spawning a simple command that should succeed
    let status = Command::new("cmd")
        .args(&["/c", "echo", "test_regression"])
        .status()
        .expect("Failed to execute command");

    assert!(status.success(), "Subprocess spawn failed after logging setup");
}