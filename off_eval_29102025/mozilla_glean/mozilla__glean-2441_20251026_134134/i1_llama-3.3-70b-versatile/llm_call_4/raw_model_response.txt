<Filename>glean-core/src/event_database/mod.rs</Filename>
<imports>
use std::collections::HashMap;
use std::path::Path;
use crate::event_database::EventDatabase;
use crate::Glean;
use crate::InternalConfiguration;
use crate::CommonMetricData;
use crate::event_database::CommonMetricDataInternal;
</imports>
<Rust>
#[test]
fn test_record_triggers_upload() {
  let glean = Glean::new(InternalConfiguration { ..InternalConfiguration::default() }).unwrap();
  let event_database = EventDatabase::new(Path::new("/tmp/event_database")).unwrap();
  let meta = CommonMetricDataInternal::new("category", "name", "ping_name");
  let timestamp: u64 = 1;
  let extra = Some(HashMap::new());
  let sent = event_database.record(&glean, &meta, timestamp, extra);
  assert!(sent);
}
</Rust>