#[test]
fn test_get_error_metric_for_metric_returns_correct_counter_metric() {
    let meta = CommonMetricData {
        name: "test_metric".into(),
        category: "test_category".into(),
        send_in_pings: vec!["test_ping".into()],
        ..Default::default()
    };
    let error = ErrorType::InvalidValue;
    let expected = CounterMetric::new(meta.clone());

    let actual = get_error_metric_for_metric(&meta, error);

    assert_eq!(expected.meta().name, actual.meta().name);
    assert_eq!(expected.meta().category, actual.meta().category);
    assert_eq!(expected.meta().send_in_pings, actual.meta().send_in_pings);
}