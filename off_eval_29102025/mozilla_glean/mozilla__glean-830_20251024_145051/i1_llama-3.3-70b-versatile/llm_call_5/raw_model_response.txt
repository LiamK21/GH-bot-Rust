<Filename>glean-core/src/database/mod.rs</Filename>
<imports>
use super::Database;
use super::Lifetime;
use super::Metric;
use std::collections::HashMap;
use rkv::SingleStore;
</imports>
<Rust>
#[test]
fn test_metric_id_used_instead_of_metric_name() {
  let mut db = Database::new("test_data_path", false).unwrap();
  let mut data: HashMap<String, Metric> = HashMap::new();
  let metric_id = "test_metric";
  let metric = Metric::String("test_value".to_string());
  data.insert(metric_id.to_string(), metric);
  db.put(Lifetime::Ping, "test_storage", metric_id, metric).unwrap();
  let actual = db.get_metrics(Lifetime::Ping, "test_storage", None).unwrap();
  let expected = data;
  assert_eq!(actual, expected);
}
</Rust>