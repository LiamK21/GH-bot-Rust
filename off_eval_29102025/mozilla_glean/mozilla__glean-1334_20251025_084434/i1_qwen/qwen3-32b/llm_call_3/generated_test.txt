#[test]
fn test_quantity_metric_negative_value_records_error() {
    with_glean(|_glean| {
        let metric = QuantityMetric::new(CommonMetricData {
            category: "test".into(),
            name: "quantity".into(),
            send_in_pings: vec!["default".into()],
            ..Default::default()
        });
        metric.set(-1);
        let error_count = metric.test_get_num_recorded_errors(ErrorType::InvalidValue, None);
        assert_eq!(error_count, 1);
    });
}