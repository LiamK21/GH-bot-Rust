#[test]
fn test_set_and_get_value() {
    let meta = CommonMetricData {
        name: "test_quantity".into(),
        category: "test".into(),
        send_in_pings: vec!["test_ping".into()],
        ..Default::default()
    };
    let quantity_metric = QuantityMetric::new(meta);

    let expected_value = 42;
    quantity_metric.set(expected_value);

    let actual_value = quantity_metric.test_get_value("test_ping");
    assert_eq!(Some(expected_value), actual_value);
}

#[test]
fn test_get_num_recorded_errors() {
    let meta = CommonMetricData {
        name: "test_quantity".into(),
        category: "test".into(),
        send_in_pings: vec!["test_ping".into()],
        ..Default::default()
    };
    let quantity_metric = QuantityMetric::new(meta);

    let error_type = ErrorType::InvalidValue;
    let expected_errors = 0;
    let actual_errors = quantity_metric.test_get_num_recorded_errors(error_type, "test_ping");
    assert_eq!(expected_errors, actual_errors);
}