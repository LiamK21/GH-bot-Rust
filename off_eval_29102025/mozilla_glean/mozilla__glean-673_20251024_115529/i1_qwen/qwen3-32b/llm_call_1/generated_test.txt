#[test]
fn test_clear_ping_queue_clears_queued_pings() {
    let data_dir = tempfile::tempdir().unwrap();
    let tmpname = data_dir.path().display().to_string();
    let upload_manager = PingUploadManager::new(&tmpname);

    upload_manager.enqueue_ping("uuid1", "http://example.com", json!("{}"));
    upload_manager.enqueue_ping("uuid2", "http://example.com", json!("{}"));

    upload_manager.clear_ping_queue();

    assert!(upload_manager.get_next_ping().is_none());
}