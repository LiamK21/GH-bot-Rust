#[test]
fn test_rkv_new_with_invalid_file() {
    let dir = tempfile::tempdir().unwrap();
    let path = dir.path().join("db");
    fs::create_dir_all(&path).expect("create database dir");

    let safebin = path.join("data.safe.bin");
    fs::File::create(&safebin).expect("create safe bin file");

    let result = rkv_new(&path);

    assert!(result.is_ok(), "rkv_new should succeed after removing invalid file");
}