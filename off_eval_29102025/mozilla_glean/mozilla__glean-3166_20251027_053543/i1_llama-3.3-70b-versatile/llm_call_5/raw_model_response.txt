<Filename>samples/rust/src/main.rs</Filename>
<imports>
use glean_metrics::test_dual_labeled;
use glean_metrics::ErrorType;
</imports>
<Rust>
#[test]
fn test_keyed_categorical_counter_metric() {
  let _ = glean_metrics::test_dual_labeled::static_static.get("key1", "invalid_category").add(1);
  let expected_value = 1;
  let actual_value = glean_metrics::test_dual_labeled::static_static.test_get_num_recorded_errors(ErrorType::InvalidLabel);
  assert_eq!(expected_value, actual_value);
}
</Rust>