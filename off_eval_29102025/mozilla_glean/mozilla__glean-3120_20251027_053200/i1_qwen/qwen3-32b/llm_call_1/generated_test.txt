#[test]
fn test_alloc_size_non_zero() {
    let data_dir = tempdir().unwrap().into_path();
    let config = InternalConfiguration {
        upload_enabled: true,
        max_events: 100,
        data_dir: data_dir.clone(),
        server_endpoint: "http://example.com".into(),
        upload_to_glean: true,
    };
    let client_info = ClientInfo {
        client_id: None,
        application_display_version: None,
        application_build_version: None,
        application_channel: None,
        architecture: None,
        os: None,
        os_version: None,
        device_manufacturer: None,
        device_model: None,
    };
    let client_info = ClientInfoMetrics::new(client_info, "test".into(), "test".into(), "1.0");
    initialize_inner(config, client_info, Box::new(|_, _, _| {}));

    let mut ops = MallocSizeOfOps::new();
    let size = alloc_size(&mut ops);

    assert!(size > 0, "Allocation size should be larger than zero");
}