#[test]
fn test_sending_of_foreground_background_pings_does_not_timeout() {
  let start_time = Instant::now();
  let handle = std::thread::spawn(move || {
    sending_of_foreground_background_pings();
  });
  let elapsed_time = start_time.elapsed().as_secs();
  if elapsed_time > 10 {
    handle.join().unwrap();
  } else {
    while start_time.elapsed().as_secs() < 60 {}
    assert!(handle.is_finished());
  }
  let elapsed_time = start_time.elapsed().as_secs();
  assert!(elapsed_time < 1800);
}