#[test]
fn test_sending_of_foreground_background_pings_timeout() {
    let (tx, rx) = channel();
    let completed = Arc::new(Mutex::new(false));
    let completed_clone = Arc::clone(&completed);
    let handle = thread::spawn(move || {
        sending_of_foreground_background_pings();
        *completed_clone.lock().unwrap() = true;
        tx.send(()).unwrap();
    });
    let result = rx.recv_timeout(Duration::from_secs(60));
    assert!(result.is_ok() && *completed.lock().unwrap(), "Test should pass after the patch");
    handle.join().unwrap();
}

#[test]
fn test_sending_deletion_ping_if_disabled_outside_of_run_timeout() {
    let (tx, rx) = channel();
    let completed = Arc::new(Mutex::new(false));
    let completed_clone = Arc::clone(&completed);
    let handle = thread::spawn(move || {
        sending_deletion_ping_if_disabled_outside_of_run();
        *completed_clone.lock().unwrap() = true;
        tx.send(()).unwrap();
    });
    let result = rx.recv_timeout(Duration::from_secs(60));
    assert!(result.is_ok() && *completed.lock().unwrap(), "Test should pass after the patch");
    handle.join().unwrap();
}