#[test]
fn test_uuid_encoding() {
  let config = InternalConfiguration::default();
  let glean = Glean::new(config).unwrap();
  let metric = UuidMetric::new(CommonMetricData::default());
  let value = "123e4567e89b12d3a456b7710000111";
  let expected = "123e4567-e89b-12d3-a456-b7710000111";
  let actual = {
    let value = value.into();
    if let Ok(uuid) = Uuid::parse_str(&value) {
      let value = Metric::Uuid(uuid.to_hyphenated().to_string());
      glean.storage().record(glean, &metric.meta, &value).unwrap().to_string()
    } else {
      panic!("Invalid UUID");
    }
  };
  assert_eq!(actual, expected);
}