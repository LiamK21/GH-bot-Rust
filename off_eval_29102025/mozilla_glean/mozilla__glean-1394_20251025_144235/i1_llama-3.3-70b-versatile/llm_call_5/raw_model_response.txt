<Filename>glean-core/rlb/src/private/custom_distribution.rs</Filename>
<imports>
use glean_core::metrics::{DistributionData, HistogramType};
use glean_core::{CommonMetricData, ErrorType, setup_glean, global_glean};
use super::CustomDistributionMetric;
use glean_core::traits::CustomDistribution;
use glean_core::Glean;
</imports>
<Rust>
#[test]
fn test_custom_distribution_metric() {
  let glean = global_glean().unwrap();
  setup_glean(glean.clone());
  let meta = CommonMetricData {
    name: "test_metric".to_string(),
    send_in_pings: vec!["test_ping".to_string()],
    ..Default::default()
  };
  let metric = CustomDistributionMetric::new(
    meta,
    0,
    100,
    10,
    HistogramType::Linear,
  );
  let samples = vec![10, 20, 30];
  metric.accumulate_samples_signed(samples);
  let errors = metric.test_get_num_recorded_errors(ErrorType::InvalidValue, None);
  assert_eq!(errors, 0);
}
</Rust>