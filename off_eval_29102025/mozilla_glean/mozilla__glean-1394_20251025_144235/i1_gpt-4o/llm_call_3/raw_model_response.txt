<Filename>glean-core/rlb/src/private/custom_distribution.rs</Filename>
<imports>
use super::CustomDistributionMetric;
use glean_core::CommonMetricData;
use glean_core::metrics::HistogramType;
use glean_core::metrics::DistributionData;
use glean_core::traits::CustomDistribution;
use std::collections::HashMap;
</imports>
<Rust>
#[test]
fn test_custom_distribution_accumulate_samples_signed() {
    let meta = CommonMetricData {
        name: "test_metric".into(),
        category: "test_category".into(),
        send_in_pings: vec!["test_ping".into()],
        ..Default::default()
    };
    let custom_distribution = CustomDistributionMetric::new(meta, 1, 100, 10, HistogramType::Linear);

    let samples = vec![10, 20, 30];
    custom_distribution.accumulate_samples_signed(samples.clone());

    let mut expected_values = HashMap::new();
    expected_values.insert(10, 1);
    expected_values.insert(20, 1);
    expected_values.insert(30, 1);

    let expected = Some(DistributionData {
        sum: 60,
        values: expected_values,
    });

    let actual = custom_distribution.test_get_value("test_ping");

    assert_eq!(expected, actual);
}
</Rust>