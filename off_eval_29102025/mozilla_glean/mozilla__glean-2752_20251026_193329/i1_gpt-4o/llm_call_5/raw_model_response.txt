<Filename>glean-core/rlb/src/private/object.rs</Filename>
<imports>
use crate::private::ObjectMetric;
use crate::CommonMetricData;
use serde_json::json;
</imports>
<Rust>
#[test]
fn test_get_value_returns_json() {
    let _lock = lock_test();
    let metric = ObjectMetric::<Vec<i32>>::new(CommonMetricData {
        name: "test_metric".into(),
        category: "test_category".into(),
        send_in_pings: vec!["test_ping".into()],
        ..Default::default()
    });

    let arr = vec![1, 2, 3];
    metric.set(arr);

    let expected = json!([1, 2, 3]);
    let actual = metric.test_get_value(None).expect("no object recorded");
    assert_eq!(expected, actual);
}</Rust>