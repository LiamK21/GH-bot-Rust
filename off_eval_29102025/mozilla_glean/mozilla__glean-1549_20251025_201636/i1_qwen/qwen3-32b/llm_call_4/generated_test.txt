#[test]
fn test_record_with_time_trait_compliance() {
    #[derive(Copy, Clone, Eq, Hash, PartialEq)]
    struct TestExtraKeys;

    impl ExtraKeys for TestExtraKeys {
        const ALLOWED_KEYS: &'static [&'static str] = &[];
        fn index(self) -> i32 {
            0
        }
    }

    // Use constructor for CommonMetricData with correct parameters
    let common = glean_core::CommonMetricData {
        category: "category".into(),
        name: "name".into(),
        send_in_pings: vec![],
        lifetime: Lifetime::Application,
        ..Default::default()
    };

    let metric = glean_core::rlb::EventMetric::<TestExtraKeys>::new(common);

    let extra = HashMap::new();
    metric.record_with_time(1234567890, extra);
}