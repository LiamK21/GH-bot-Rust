<Filename>glean-core/ffi/src/lib.rs</Filename>
<imports>
use super::glean_initialize_for_subprocess;
use std::ptr;
use ffi_support::FfiStr;
use crate::glean_core::Configuration;
</imports>
<Rust>
#[test]
fn test_initialize_for_subprocess() {
    let config = Configuration {
        data_path: "test_path".into(),
        application_id: "test_app".into(),
        upload_enabled: true,
        max_events: None,
    };
    let config_ptr = &config as *const Configuration;
    let result = unsafe { glean_initialize_for_subprocess(config_ptr) };
    assert_eq!(result, 1);
}
</Rust>