#[test]
fn test_initialize_for_subprocess() {
    let data_path = CString::new("test_path").unwrap();
    let application_id = CString::new("test_app").unwrap();
    let language_binding_name = CString::new("test_binding").unwrap();

    let config = FfiConfiguration {
        data_path: FfiStr::from_cstr(&data_path),
        application_id: FfiStr::from_cstr(&application_id),
        upload_enabled: true,
        max_events: None,
        delay_ping_lifetime_io: false,
        language_binding_name: FfiStr::from_cstr(&language_binding_name),
    };
    let config_ptr = &config as *const FfiConfiguration;
    let result = unsafe { glean_initialize_for_subprocess(config_ptr) };
    assert_eq!(result, 1);
}