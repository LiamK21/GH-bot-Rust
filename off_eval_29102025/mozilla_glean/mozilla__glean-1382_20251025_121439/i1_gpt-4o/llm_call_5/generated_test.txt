#[test]
fn test_boolean_metric_set() {
    let meta = CommonMetricData {
        name: "name".into(),
        category: "category".into(),
        send_in_pings: vec!["send_in_pings".into()],
        disabled: false,
        lifetime: glean_core::Lifetime::Ping,
        ..Default::default()
    };
    let core_metric = Arc::new(CoreBooleanMetric::new(meta));
    let metric = BooleanMetric(core_metric);
    let expected_value = true;
    metric.set(expected_value);
    thread::sleep(Duration::from_millis(100));
    let actual_value = metric.test_get_value(None);
    assert_eq!(Some(expected_value), actual_value);
}