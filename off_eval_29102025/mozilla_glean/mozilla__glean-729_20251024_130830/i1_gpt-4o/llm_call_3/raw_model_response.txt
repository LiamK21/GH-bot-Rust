<Filename>glean-core/src/upload/mod.rs</Filename>
<imports>
use super::PingUploadManager;
use crate::upload::PingUploadTask;
use crate::upload::request::PingRequest;
use serde_json::json;
</imports>
<Rust>
#[test]
fn test_enqueue_ping_adds_ping_to_queue() {
    let upload_manager = PingUploadManager::new("/some/path");
    let uuid = "test-uuid";
    let path = "/submit/app_id/ping_name/schema_version/doc_id";
    let body = json!({ "key": "value" });

    let expected_request = PingRequest::new(uuid, path, body.clone());

    upload_manager.enqueue_ping(uuid, path, body);

    let actual_task = upload_manager.get_upload_task();
    match actual_task {
        PingUploadTask::Upload(actual_request) => assert_eq!(actual_request, expected_request),
        _ => panic!("Expected an upload task with the enqueued ping request"),
    }
}
</Rust>