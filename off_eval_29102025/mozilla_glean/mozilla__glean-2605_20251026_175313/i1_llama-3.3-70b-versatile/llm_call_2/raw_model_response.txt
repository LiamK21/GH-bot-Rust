<Filename>glean-core/src/event_database/mod.rs</Filename>
<imports>
use std::collections::HashMap;
use std::collections::HashSet;
use std::panic;
</imports>
<Rust>
#[test]
fn test_event_database_or_default() {
  let mut db: HashMap<String, Vec<i32>> = HashMap::new();
  let store_name = "test_store".to_string();
  let result = panic::catch_unwind(|| {
    db.entry(store_name.clone()).or_insert_with(Vec::new);
  });
  assert!(result.is_err());
  db.clear();
  let result = panic::catch_unwind(|| {
    db.entry(store_name.clone()).or_default();
  });
  assert!(result.is_ok());
  assert!(db.contains_key(&store_name));
  assert_eq!(db.get(&store_name).unwrap().len(), 0);
}
</Rust>