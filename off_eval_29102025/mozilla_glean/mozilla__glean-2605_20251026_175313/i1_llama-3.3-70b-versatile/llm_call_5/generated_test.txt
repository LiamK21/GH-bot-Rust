#[test]
fn test_event_database_or_default() {
  let mut db: HashMap<String, Vec<i32>> = HashMap::new();
  let store_name = "test_store".to_string();
  let result_before_patch = panic::catch_unwind(|| {
    db.entry(store_name.clone()).or_insert_with(Vec::new);
  });
  assert!(result_before_patch.is_err());
  db.clear();
  let result_after_patch = panic::catch_unwind(|| {
    db.entry(store_name.clone()).or_default();
  });
  assert!(result_after_patch.is_ok());
  db.clear();
  let mut db_clone: HashMap<String, Vec<i32>> = HashMap::new();
  let result_before_patch_clone = panic::catch_unwind(|| {
    db_clone.entry(store_name.clone()).or_insert_with(Vec::new);
  });
  assert!(result_before_patch_clone.is_err());
  db_clone.clear();
  let result_after_patch_clone = panic::catch_unwind(|| {
    db_clone.entry(store_name.clone()).or_default();
  });
  assert!(result_after_patch_clone.is_ok());
  assert!(db_clone.contains_key(&store_name));
  assert_eq!(db_clone.get(&store_name).unwrap().len(), 0);
}