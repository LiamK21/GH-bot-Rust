#[test]
fn test_timing_distribution_truncation_keys() {
    let mut hist = HashMap::new();
    hist.insert(1, 10);
    hist.insert(2, 20);
    hist.insert(3, 30);
    hist.insert(4, 0); // Add a key with zero value to test truncation

    let expected_keys: HashSet<u64> = HashSet::from_iter(vec![1, 2, 3]);

    let keys: HashSet<u64> = hist.iter().filter(|&(_, &v)| v > 0).map(|(&k, _)| k).collect();
    assert_eq!(keys, expected_keys);
}