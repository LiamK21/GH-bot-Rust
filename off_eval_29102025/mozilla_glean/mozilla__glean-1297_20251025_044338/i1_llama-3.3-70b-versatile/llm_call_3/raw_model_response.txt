<Filename>glean-core/rlb/src/dispatcher/mod.rs</Filename>
<imports>
use std::sync::{Arc, Mutex};
use super::Dispatcher;
</imports>
<Rust>
#[test]
fn test_tasks_after_shutdown_are_not_processed() {
  let dispatcher = Dispatcher::new(1);
  let result = Arc::new(Mutex::new(Vec::new()));
  dispatcher.guard().shutdown().unwrap();
  let result_clone = Arc::clone(&result);
  let handle = dispatcher.guard().launch(move || {
      result_clone.lock().unwrap().push(0);
  });
  assert!(handle.is_err());
  dispatcher.join().unwrap();
  assert!(result.lock().unwrap().is_empty());
}
</Rust>