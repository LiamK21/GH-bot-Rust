#[test]
fn test_gzip_ping_upload() {
  let request = PingUploadTask::Upload(glean_core::upload::Request {
    document_id: "document_id".to_string(),
    path: "path".to_string(),
    body: json!(vec![1, 2, 3]), 
    headers: json!({"header": "value"}),
  });
  let ffi_task: FfiPingUploadTask = request.into();
  match ffi_task {
    FfiPingUploadTask::Upload { body, .. } => {
      let vec_body: Vec<u8> = to_vec(&request.body).unwrap();
      let byte_buffer = ByteBuffer::from_vec(vec_body);
      assert_eq!(body.len(), byte_buffer.len());
    },
    _ => assert!(false),
  }
}