<Filename> glean-core/src/lib_unit_tests.rs </Filename>
<imports> 
use super::Glean;
use tempfile::tempdir;
use std::env;
</imports>
<Rust>
#[test]
fn test_handle_client_active_inactive() {
  let _ = env_logger::builder().is_test(true).try_init();
  let dir = tempdir().unwrap();
  let (mut glean, _) = new_glean(Some(dir));
  glean.handle_client_active();
  assert!(glean.is_dirty_flag_set());
  glean.handle_client_inactive();
  assert!(!glean.is_dirty_flag_set());
}</Rust>