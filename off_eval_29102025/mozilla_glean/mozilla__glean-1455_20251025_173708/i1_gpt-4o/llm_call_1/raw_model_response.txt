<Filename>glean-core/src/lib_unit_tests.rs</Filename>
<imports>
use super::handle_client_active;
use super::handle_client_inactive;
use super::Glean;
use tempfile::tempdir;
</imports>
<Rust>
#[test]
fn test_activity_api_behavior() {
    let dir = tempdir().unwrap();
    let (mut glean, _) = Glean::new(Some(dir));

    handle_client_active(&mut glean);
    assert!(glean.is_dirty_flag_set());

    handle_client_inactive(&mut glean);
    assert!(!glean.is_dirty_flag_set());
}
</Rust>