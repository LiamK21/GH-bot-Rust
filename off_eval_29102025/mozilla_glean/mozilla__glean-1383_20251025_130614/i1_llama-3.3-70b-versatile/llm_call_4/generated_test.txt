#[test]
fn test_snapshot_metric_with_lifetime() {
  let mut db = Database::new("test_path", false).unwrap();
  let store_name = "test_store";
  let metric_id = "test_metric";
  let metric_lifetime = Lifetime::Application;
  let metric = Metric::Boolean(true);
  db.put(store_name, metric_id, metric_lifetime, metric).unwrap();
  let expected = Some(Metric::Boolean(true));
  let actual = StorageManager::snapshot_metric(&db, store_name, metric_id, metric_lifetime);
  assert_eq!(expected, actual);
}