<Filename>glean-core/rlb/src/private/boolean.rs</Filename>
<imports>
use super::BooleanMetric;
use crate::dispatcher;
use crate::with_glean;
use glean_core::metrics::BooleanMetric;
use std::sync::Arc;
</imports>
<Rust>
#[test]
fn test_get_value_defaults_to_first_send_in_ping() {
    dispatcher::block_on_queue();
    let boolean_metric = BooleanMetric::new(
        Arc::new(BooleanMetric::new("category", "name", "test", vec!["ping1", "ping2"])),
    );

    let expected = Some(true);
    with_glean(|glean| boolean_metric.0.set(glean, true));

    let actual = boolean_metric.test_get_value(None);
    assert_eq!(expected, actual);
}
</Rust>