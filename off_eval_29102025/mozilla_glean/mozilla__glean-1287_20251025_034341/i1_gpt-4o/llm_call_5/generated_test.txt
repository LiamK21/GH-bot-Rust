#[test]
fn test_get_value_defaults_to_first_send_in_ping() {
    dispatcher::block_on_queue();
    let boolean_metric = BooleanMetric::new(CommonMetricData {
        name: "name".into(),
        category: "category".into(),
        send_in_pings: vec!["ping1".into(), "ping2".into()],
        ..Default::default()
    });

    let expected = Some(true);
    with_glean(|glean| boolean_metric.set(true));

    let actual = boolean_metric.test_get_value(None);
    assert_eq!(expected, actual);
}