#[test]
fn test_upload_deletion_request_ping() {
    let (glean, dir) = new_glean(None);
    glean.internal_pings.deletion_request.submit(&glean, None).unwrap();
    let upload_manager = PingUploadManager::new(dir.path().to_str().unwrap());
    let mut upload_task = upload_manager.get_upload_task().unwrap();
    assert!(upload_task.is_some());
    let task = upload_task.as_ref().unwrap();
    let request = task.read_request_body().unwrap();
    assert!(request.contains("deletion-request"));
}