<Filename> glean-core/src/upload/mod.rs </Filename>
<imports> 
use glean_core::internal_metrics::UploadMetrics;
use glean_core::upload::PingUploadManager;
use glean_core::upload::HttpStatus;
use std::time::Duration;
</imports>
<Rust>
#[test]
fn test_upload_metrics_missing_send_ids() {
  let mut upload_metrics = UploadMetrics::new();
  let mut ping_upload_manager = PingUploadManager::new(upload_metrics);
  let document_id = "test_document_id";
  let status = HttpStatus { code: 200 };
  let send_ids = None;
  let stop_time = Duration::from_millis(100);
  let success_id = "success_id";
  let failure_id = "failure_id";
  let expected_missing_send_ids = 1;
  ping_upload_manager.upload_status(document_id, status, send_ids, stop_time, success_id, failure_id);
  assert_eq!(ping_upload_manager.upload_metrics.missing_send_ids.get_value(), expected_missing_send_ids);
}</Rust>