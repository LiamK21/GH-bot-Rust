#[test]
fn test_upload_metrics_missing_send_ids() {
  let mut upload_metrics = UploadMetrics::new();
  let mut ping_upload_manager = PingUploadManager::new("/tmp/test", "test_language_binding");
  let document_id = "test_document_id";
  let status = HttpStatus { code: 200 };
  let send_ids = None;
  let stop_time = Duration::from_millis(100);
  let success_id = "success_id";
  let failure_id = "failure_id";
  let expected_missing_send_ids = Some(1);
  let glean = Glean::new(InternalConfiguration::new()).unwrap();
  ping_upload_manager.upload_status(document_id, status, send_ids, stop_time, success_id, failure_id);
  assert_eq!(ping_upload_manager.upload_metrics.missing_send_ids.get_value(&glean, None), expected_missing_send_ids);
}