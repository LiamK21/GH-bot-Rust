<Filename>glean-core/src/thread.rs</Filename>
<imports>
use std::thread;
use std::io;
use super::spawn;
use std::result::Result;
</imports>
<Rust>
#[test]
fn test_thread_spawn() {
  let handle: Result<std::thread::JoinHandle<()>, std::io::Error> = spawn("test_thread", || {
    assert_eq!("test_thread", std::thread::current().name().unwrap());
  });
  match handle {
    Ok(handle) => {
      let result = handle.join();
      assert!(result.is_ok());
    },
    Err(e) => {
      assert!(false, "Error spawning thread: {}", e);
    }
  }
}
</Rust>