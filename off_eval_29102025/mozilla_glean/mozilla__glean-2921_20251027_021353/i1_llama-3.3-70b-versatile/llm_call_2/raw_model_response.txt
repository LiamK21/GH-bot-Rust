<Filename>glean-core/rlb/src/private/object.rs</Filename>
<imports>
use glean_core::rlb::private::object::ObjectMetric;
use serde_json::json;
use glean_core::ErrorType;
</imports>
<Rust>
#[test]
fn test_set_string_api_with_null_values() {
  let metric: ObjectMetric<std::collections::HashMap<String, String>> = ObjectMetric::new(Default::default());
  let arr_str = json!({
    "key1": "value1",
    "key2": null,
  })
  .to_string();
  metric.set_string(arr_str);
  let data = metric.test_get_value(None);
  assert!(data.is_err());
  assert_eq!(
    1,
    metric.test_get_num_recorded_errors(ErrorType::InvalidValue)
  );
}
</Rust>