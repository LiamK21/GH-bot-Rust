#[test]
fn test_snapshot_values_no_infill_zero_buckets() {
    let bucketing = MockBucketing::new(vec![0, 10, 20, 30, 40]);
    let mut histogram = Histogram::new(bucketing);
    histogram.accumulate(15, 1);
    histogram.accumulate(25, 1);

    let expected: HashMap<u64, u64> = [(10, 1), (20, 1)].iter().cloned().collect();
    let actual = histogram.snapshot_values();

    assert_eq!(expected, actual);
}