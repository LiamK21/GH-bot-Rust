<Filename>glean-core/rlb/src/private/timing_distribution.rs</Filename>
<imports>
use super::TimingDistributionMetric;
use glean_core::traits::TimingDistribution;
use std::sync::{Arc, RwLock};
use std::time::Duration;
use std::thread::sleep;
use glean_core::metrics::TimingDistributionMetric as CoreTimingDistributionMetric;
use glean_core::Glean;
use glean_core::metrics::test_get_value;
</imports>
<Rust>
#[test]
fn test_timing_distribution_methods() {
    let glean = Glean::new("test_app_id", "test_app_version", "test_channel", "test_build_id", true, None).unwrap();
    let metric = TimingDistributionMetric(Arc::new(RwLock::new(CoreTimingDistributionMetric::new("category", "name", "test_send_in_pings"))));

    let timer_id = metric.start();
    sleep(Duration::from_millis(10));
    metric.stop_and_accumulate(timer_id);

    let expected = 1; // Assuming the mock metric increments a counter on stop_and_accumulate
    let actual = metric.0.read().unwrap().test_get_value(&glean, "test_send_in_pings").unwrap().sum;

    assert_eq!(expected, actual);
}
</Rust>