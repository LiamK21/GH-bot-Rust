#[test]
fn test_clear_ping_queue_removes_non_deletion_pings() {
    let manager = PingUploadManager {
        queue: RwLock::new(VecDeque::new()),
        // Other fields may be optional in actual code
    };

    // Enqueue a regular ping
    manager.enqueue_ping("regular-uuid", "/submit", json!("regular body"));

    // Enqueue a deletion request ping
    manager.enqueue_ping("deletion-uuid", "/deletion-request", json!("deletion body"));

    let remaining_queue = manager.clear_ping_queue();

    // Only deletion requests should remain
    assert_eq!(remaining_queue.len(), 1);
    assert_eq!(remaining_queue[0].path, "/deletion-request");
}