<Filename>tools/embedded-uniffi-bindgen/src/main.rs</Filename>
<imports>
use std::env;
use std::path::PathBuf;
use super::main;
use anyhow::Result;
use std::panic;
</imports>
<Rust>
#[test]
fn test_config_option() {
  let mut args_before = vec!["--udl".to_string(), "test_udl.udl".to_string()];
  std::env::set_var("RUST_LOG", "error");
  let result_before = panic::catch_unwind(|| main());
  assert!(result_before.is_err());

  let mut args_after = vec!["--config".to_string(), "test_config.json".to_string(), "--udl".to_string(), "test_udl.udl".to_string()];
  let result_after = panic::catch_unwind(|| main());
  assert!(result_after.is_ok());
}
</Rust>