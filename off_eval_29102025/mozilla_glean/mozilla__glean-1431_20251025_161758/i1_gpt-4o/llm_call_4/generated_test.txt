#[test]
fn test_lock_order_inversion_fix() {
    let config = Configuration::default();
    let glean = Glean::new(config).unwrap();
    let timing_distribution_metric = TimingDistributionMetric::new("category", "name", "send_in_pings", "lifetime", "disabled");
    let metric = Arc::new(RwLock::new(timing_distribution_metric));
    let expected = DistributionData::new();

    let actual = metric.read().unwrap().test_get_value(&glean, None);

    assert_eq!(expected, actual);
}