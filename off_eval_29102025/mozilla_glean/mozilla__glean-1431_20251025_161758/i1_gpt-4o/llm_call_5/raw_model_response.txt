<Filename>glean-core/rlb/src/private/timing_distribution.rs</Filename>
<imports>
use super::test_get_value;
use glean_core::traits::TimingDistribution;
use glean_core::metrics::{CommonMetricData, DistributionData, TimingDistributionMetric};
use glean_core::metrics::TimeUnit;
use std::sync::{Arc, RwLock};
use glean_core::{Glean, Configuration};
</imports>
<Rust>
#[test]
fn test_lock_order_inversion_fix() {
    let config = Configuration::new("test_app_id", true, None, None, None);
    let glean = Glean::new(config).unwrap();
    let common_metric_data = CommonMetricData {
        name: "name".into(),
        category: "category".into(),
        send_in_pings: vec!["send_in_pings".into()],
        lifetime: glean_core::Lifetime::Ping,
        disabled: false,
    };
    let timing_distribution_metric = TimingDistributionMetric::new(common_metric_data, TimeUnit::Second);
    let metric = Arc::new(RwLock::new(timing_distribution_metric));
    let expected = None;

    let actual = metric.read().unwrap().test_get_value(&glean, "send_in_pings");

    assert_eq!(expected, actual);
}
</Rust>