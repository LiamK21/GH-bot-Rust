<Filename>glean-core/src/upload/request.rs</Filename>
<imports>
use super::PingRequest;
use serde_json::json;
use std::collections::HashMap;
</imports>
<Rust>
#[test]
fn test_user_agent_customization_removal() {
    let document_id = "test_doc_id";
    let path = "/test/path";
    let body = json!({"key": "value"});

    let mut request = PingRequest::new(document_id, path, body);
    request.headers.insert("userAgent".to_string(), "custom-agent".to_string());

    let expected_headers: HashMap<&str, &str> = [
        ("Content-Encoding", "gzip"),
        ("Content-Type", "application/json; charset=utf-8"),
        ("userAgent", "custom-agent"),
    ].iter().cloned().collect();

    for (key, value) in &expected_headers {
        assert_eq!(request.headers.get(*key), Some(&value.to_string()));
    }
}
</Rust>