#[test]
fn test_initialize_core_metrics_sets_device_model() {
    let glean = Glean::new();
    let client_info = ClientInfoMetrics {
        device_model: Some("TestModel".into()),
        ..Default::default()
    };

    initialize_core_metrics(&glean, &client_info);

    let expected = Some("TestModel".to_string());
    let actual = internal_metrics::device_model.test_get_value(&glean, "glean_client_info");

    assert_eq!(expected, actual);
}