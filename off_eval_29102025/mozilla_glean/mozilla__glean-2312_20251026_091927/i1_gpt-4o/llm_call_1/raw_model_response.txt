<Filename>glean-core/src/lib.rs</Filename>
<imports>
use super::glean_enable_logging;
use std::env;
use log::LevelFilter;
use log::set_max_level;
</imports>
<Rust>
#[test]
fn test_logging_initialization_on_non_android_ios() {
    env::set_var("RUST_LOG", "debug");
    set_max_level(LevelFilter::Off);

    #[cfg(all(not(target_os = "android"), not(target_os = "ios"), feature = "enable_env_logger"))]
    {
        glean_enable_logging();
        let expected = LevelFilter::Debug;
        let actual = log::max_level();
        assert_eq!(expected, actual);
    }
}
</Rust>