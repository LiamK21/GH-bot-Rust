<Filename>glean-core/ffi/src/uuid.rs</Filename>
<imports>
use super::glean_uuid_test_has_value;
use super::glean_uuid_test_get_value;
use ffi_support::FfiStr;
use std::ffi::CString;
use uuid::Uuid;
</imports>
<Rust>
#[test]
fn test_glean_uuid_test_has_value() {
    let metric_id = 1;
    let storage_name = CString::new("test_storage").unwrap();
    let storage_name_ffi = FfiStr::from_cstr(storage_name.as_c_str());

    let uuid = Uuid::new_v4();
    let uuid_str = CString::new(uuid.to_string()).unwrap();
    unsafe { glean_uuid_test_get_value(metric_id, FfiStr::from_cstr(uuid_str.as_c_str())) };

    let expected: u8 = 1;
    let actual = unsafe { glean_uuid_test_has_value(metric_id, storage_name_ffi) };

    assert_eq!(expected, actual);
}
</Rust>