#[test]
fn test_uuid_metric_generation_retrieval() {
    let metric = UuidMetric::new(glean_core::CommonMetricData {
        category: "test".to_string(),
        name: "uuid_test".to_string(),
        send_in_pings: vec!["default".to_string()],
        ..Default::default()
    });

    let expected = metric.generate_and_set();
    Uuid::parse_str(&expected.to_string()).unwrap(); // sanity check valid UUID

    let actual = metric.test_get_value("default").unwrap();
    assert_eq!(actual, expected);
}