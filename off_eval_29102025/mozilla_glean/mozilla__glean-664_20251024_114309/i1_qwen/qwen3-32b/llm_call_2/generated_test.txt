#[test]
fn test_upload_settings_without_handle() {
    unsafe {
        let mut config = FfiConfiguration {
            application_id: FfiStr::from("test_app"),
            application_version: FfiStr::from("1.0"),
            upload_enabled: true,
            data_path: FfiStr::from("/tmp/glean-test-data"),
            channel: FfiStr::from("default"),
            locale: FfiStr::from("en-US"),
            is_debug: true,
        };
        let init_result = glean_initialize(&mut config);
        assert_eq!(init_result, 1); // expect success (u8)
        glean_set_upload_enabled(1);
        assert_eq!(glean_is_upload_enabled(), 1);
    }
}