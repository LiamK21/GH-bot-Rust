#[test]
fn test_first_run_hour_resolution() {
  let (mut glean, _) = new_glean(None);
  let original_first_run_date = glean.core_metrics.first_run_date.get_value(&glean, "glean_client_info");
  let original_first_run_hour = glean.core_metrics.first_run_hour.get_value(&glean, "metrics");
  glean.set_upload_enabled(false);
  let new_first_run_date = glean.core_metrics.first_run_date.get_value(&glean, "glean_client_info");
  let new_first_run_hour = glean.core_metrics.first_run_hour.get_value(&glean, "metrics");
  assert_ne!(original_first_run_date, new_first_run_date);
  assert_ne!(original_first_run_hour, new_first_run_hour);
  assert!(new_first_run_hour.unwrap().signed_duration_since(new_first_run_date.unwrap()).abs().num_seconds() < 3600);
}