Exit Code:101
    Updating crates.io index
 Downloading crates ...
  Downloaded atty v0.2.11
  Downloaded bitflags v1.0.4
  Downloaded rand_os v0.1.3
  Downloaded autocfg v0.1.2
  Downloaded arrayref v0.3.5
  Downloaded aho-corasick v0.7.3
  Downloaded byteorder v1.3.1
  Downloaded cc v1.0.35
  Downloaded backtrace v0.3.15
  Downloaded rand_chacha v0.1.1
  Downloaded backtrace-sys v0.1.28
  Downloaded term v0.5.2
  Downloaded synstructure v0.10.1
  Downloaded syn v0.15.30
  Downloaded num-integer v0.1.40
  Downloaded itoa v0.4.3
  Downloaded uuid v0.7.4
  Downloaded time v0.1.42
  Downloaded url v1.7.2
  Downloaded utf8-ranges v1.0.2
  Downloaded version_check v0.1.5
  Downloaded remove_dir_all v0.5.1
  Downloaded thread_local v0.3.6
  Downloaded ucd-util v0.1.3
  Downloaded lmdb-rkv v0.11.4
  Downloaded regex v1.1.6
  Downloaded log v0.4.6
  Downloaded lmdb-rkv-sys v0.8.3
  Downloaded unicode-normalization v0.1.8
  Downloaded smallvec v0.6.9
  Downloaded rand_pcg v0.1.2
  Downloaded failure_derive v0.1.5
  Downloaded env_logger v0.6.1
  Downloaded dirs v1.0.5
  Downloaded chrono v0.4.6
  Downloaded cfg-if v0.1.7
  Downloaded regex-syntax v0.6.6
  Downloaded rand_jitter v0.1.3
  Downloaded quick-error v1.2.2
  Downloaded proc-macro2 v0.4.27
  Downloaded matches v0.1.8
  Downloaded lazy_static v1.3.0
  Downloaded iso8601 v0.3.0
  Downloaded libc v0.2.51
  Downloaded humantime v1.2.0
  Downloaded failure v0.1.5
  Downloaded unicode-bidi v0.3.4
  Downloaded ryu v0.2.7
  Downloaded rand v0.6.5
  Downloaded ordered-float v1.0.2
  Downloaded ffi-support v0.3.5
  Downloaded color-backtrace v0.1.3
  Downloaded termcolor v1.0.4
  Downloaded tempfile v3.0.7
  Downloaded serde_derive v1.0.90
  Downloaded rkv v0.9.4
  Downloaded pkg-config v0.3.14
  Downloaded nom v4.2.3
  Downloaded memchr v2.2.0
  Downloaded ctor v0.1.9
  Downloaded unicode-xid v0.1.0
  Downloaded serde v1.0.90
  Downloaded rand_isaac v0.1.1
  Downloaded rand_core v0.4.0
  Downloaded quote v0.6.12
  Downloaded percent-encoding v1.0.1
  Downloaded bincode v1.1.3
  Downloaded serde_json v1.0.39
  Downloaded rand_xorshift v0.1.1
  Downloaded idna v0.1.5
  Downloaded rustc-demangle v0.1.13
  Downloaded rand_hc v0.1.0
  Downloaded rand_core v0.3.1
  Downloaded num-traits v0.2.6
   Compiling autocfg v0.1.2
   Compiling libc v0.2.51
   Compiling proc-macro2 v0.4.27
   Compiling unicode-xid v0.1.0
   Compiling syn v0.15.30
   Compiling rand_core v0.4.0
   Compiling cc v1.0.35
   Compiling rand_core v0.3.1
   Compiling cfg-if v0.1.7
   Compiling byteorder v1.3.1
   Compiling memchr v2.2.0
   Compiling quote v0.6.12
   Compiling rand_chacha v0.1.1
   Compiling backtrace v0.3.15
   Compiling backtrace-sys v0.1.28
   Compiling rand_pcg v0.1.2
   Compiling serde v1.0.90
   Compiling num-traits v0.2.6
   Compiling rand v0.6.5
   Compiling rustc-demangle v0.1.13
   Compiling failure_derive v0.1.5
   Compiling lazy_static v1.3.0
   Compiling pkg-config v0.3.14
   Compiling lmdb-rkv-sys v0.8.3
   Compiling rand_os v0.1.3
   Compiling rand_hc v0.1.0
   Compiling rand_xorshift v0.1.1
   Compiling rand_isaac v0.1.1
   Compiling rand_jitter v0.1.3
   Compiling matches v0.1.8
   Compiling smallvec v0.6.9
   Compiling unicode-bidi v0.3.4
   Compiling unicode-normalization v0.1.8
   Compiling num-integer v0.1.40
   Compiling bincode v1.1.3
   Compiling ucd-util v0.1.3
   Compiling ryu v0.2.7
   Compiling regex v1.1.6
   Compiling regex-syntax v0.6.6
   Compiling idna v0.1.5
   Compiling synstructure v0.10.1
   Compiling serde_derive v1.0.90
   Compiling thread_local v0.3.6
   Compiling aho-corasick v0.7.3
   Compiling failure v0.1.5
   Compiling log v0.4.6
   Compiling utf8-ranges v1.0.2
   Compiling percent-encoding v1.0.1
   Compiling bitflags v1.0.4
   Compiling url v1.7.2
   Compiling lmdb-rkv v0.11.4
   Compiling uuid v0.7.4
   Compiling ordered-float v1.0.2
   Compiling time v0.1.42
   Compiling itoa v0.4.3
   Compiling quick-error v1.2.2
   Compiling arrayref v0.3.5
   Compiling humantime v1.2.0
   Compiling ffi-support v0.3.5
   Compiling atty v0.2.11
   Compiling version_check v0.1.5
   Compiling termcolor v1.0.4
   Compiling nom v4.2.3
   Compiling env_logger v0.6.1
   Compiling dirs v1.0.5
   Compiling term v0.5.2
   Compiling remove_dir_all v0.5.1
   Compiling tempfile v3.0.7
   Compiling iso8601 v0.3.0
   Compiling color-backtrace v0.1.3
   Compiling ctor v0.1.9
   Compiling serde_json v1.0.39
   Compiling chrono v0.4.6
   Compiling rkv v0.9.4
   Compiling glean-core v0.1.0 (/app/testbed/glean-core)
warning: unexpected `cfg` condition value: `cargo-clippy`
  --> glean-core/src/event_database/mod.rs:24:24
   |
24 | #[derive(Debug, Clone, Deserialize, Serialize)]
   |                        ^^^^^^^^^^^
   |
   = note: no expected values for `feature`
   = note: using a cfg inside a derive macro will use the cfgs from the destination crate and not the ones from the defining crate
   = help: try referring to `Deserialize` crate for guidance on how handle this unexpected cfg
   = help: the derive macro `Deserialize` may come from an old version of the `serde_derive` crate, try updating your dependency with `cargo update -p serde_derive`
   = note: see <https://doc.rust-lang.org/nightly/rustc/check-cfg/cargo-specifics.html> for more information about checking conditional configuration
   = note: `#[warn(unexpected_cfgs)]` on by default
   = note: this warning originates in the derive macro `Deserialize` (in Nightly builds, run with -Z macro-backtrace for more info)

warning: unexpected `cfg` condition value: `cargo-clippy`
  --> glean-core/src/event_database/mod.rs:24:37
   |
24 | #[derive(Debug, Clone, Deserialize, Serialize)]
   |                                     ^^^^^^^^^
   |
   = note: no expected values for `feature`
   = note: using a cfg inside a derive macro will use the cfgs from the destination crate and not the ones from the defining crate
   = help: try referring to `Serialize` crate for guidance on how handle this unexpected cfg
   = help: the derive macro `Serialize` may come from an old version of the `serde_derive` crate, try updating your dependency with `cargo update -p serde_derive`
   = note: see <https://doc.rust-lang.org/nightly/rustc/check-cfg/cargo-specifics.html> for more information about checking conditional configuration
   = note: this warning originates in the derive macro `Serialize` (in Nightly builds, run with -Z macro-backtrace for more info)

warning: unexpected `cfg` condition value: `cargo-clippy`
  --> glean-core/src/histogram.rs:55:30
   |
55 | #[derive(Copy, Clone, Debug, Serialize, Deserialize)]
   |                              ^^^^^^^^^
   |
   = note: no expected values for `feature`
   = note: using a cfg inside a derive macro will use the cfgs from the destination crate and not the ones from the defining crate
   = help: try referring to `Serialize` crate for guidance on how handle this unexpected cfg
   = help: the derive macro `Serialize` may come from an old version of the `serde_derive` crate, try updating your dependency with `cargo update -p serde_derive`
   = note: see <https://doc.rust-lang.org/nightly/rustc/check-cfg/cargo-specifics.html> for more information about checking conditional configuration
   = note: this warning originates in the derive macro `Serialize` (in Nightly builds, run with -Z macro-backtrace for more info)

warning: unexpected `cfg` condition value: `cargo-clippy`
  --> glean-core/src/histogram.rs:55:41
   |
55 | #[derive(Copy, Clone, Debug, Serialize, Deserialize)]
   |                                         ^^^^^^^^^^^
   |
   = note: no expected values for `feature`
   = note: using a cfg inside a derive macro will use the cfgs from the destination crate and not the ones from the defining crate
   = help: try referring to `Deserialize` crate for guidance on how handle this unexpected cfg
   = help: the derive macro `Deserialize` may come from an old version of the `serde_derive` crate, try updating your dependency with `cargo update -p serde_derive`
   = note: see <https://doc.rust-lang.org/nightly/rustc/check-cfg/cargo-specifics.html> for more information about checking conditional configuration
   = note: this warning originates in the derive macro `Deserialize` (in Nightly builds, run with -Z macro-backtrace for more info)

warning: unexpected `cfg` condition value: `cargo-clippy`
  --> glean-core/src/histogram.rs:78:24
   |
78 | #[derive(Debug, Clone, Serialize, Deserialize)]
   |                        ^^^^^^^^^
   |
   = note: no expected values for `feature`
   = note: using a cfg inside a derive macro will use the cfgs from the destination crate and not the ones from the defining crate
   = help: try referring to `Serialize` crate for guidance on how handle this unexpected cfg
   = help: the derive macro `Serialize` may come from an old version of the `serde_derive` crate, try updating your dependency with `cargo update -p serde_derive`
   = note: see <https://doc.rust-lang.org/nightly/rustc/check-cfg/cargo-specifics.html> for more information about checking conditional configuration
   = note: this warning originates in the derive macro `Serialize` (in Nightly builds, run with -Z macro-backtrace for more info)

warning: unexpected `cfg` condition value: `cargo-clippy`
  --> glean-core/src/histogram.rs:78:35
   |
78 | #[derive(Debug, Clone, Serialize, Deserialize)]
   |                                   ^^^^^^^^^^^
   |
   = note: no expected values for `feature`
   = note: using a cfg inside a derive macro will use the cfgs from the destination crate and not the ones from the defining crate
   = help: try referring to `Deserialize` crate for guidance on how handle this unexpected cfg
   = help: the derive macro `Deserialize` may come from an old version of the `serde_derive` crate, try updating your dependency with `cargo update -p serde_derive`
   = note: see <https://doc.rust-lang.org/nightly/rustc/check-cfg/cargo-specifics.html> for more information about checking conditional configuration
   = note: this warning originates in the derive macro `Deserialize` (in Nightly builds, run with -Z macro-backtrace for more info)

warning: unexpected `cfg` condition value: `cargo-clippy`
  --> glean-core/src/metrics/experiment.rs:34:24
   |
34 | #[derive(Debug, Clone, Deserialize, Serialize)]
   |                        ^^^^^^^^^^^
   |
   = note: no expected values for `feature`
   = note: using a cfg inside a derive macro will use the cfgs from the destination crate and not the ones from the defining crate
   = help: try referring to `Deserialize` crate for guidance on how handle this unexpected cfg
   = help: the derive macro `Deserialize` may come from an old version of the `serde_derive` crate, try updating your dependency with `cargo update -p serde_derive`
   = note: see <https://doc.rust-lang.org/nightly/rustc/check-cfg/cargo-specifics.html> for more information about checking conditional configuration
   = note: this warning originates in the derive macro `Deserialize` (in Nightly builds, run with -Z macro-backtrace for more info)

warning: unexpected `cfg` condition value: `cargo-clippy`
  --> glean-core/src/metrics/experiment.rs:34:37
   |
34 | #[derive(Debug, Clone, Deserialize, Serialize)]
   |                                     ^^^^^^^^^
   |
   = note: no expected values for `feature`
   = note: using a cfg inside a derive macro will use the cfgs from the destination crate and not the ones from the defining crate
   = help: try referring to `Serialize` crate for guidance on how handle this unexpected cfg
   = help: the derive macro `Serialize` may come from an old version of the `serde_derive` crate, try updating your dependency with `cargo update -p serde_derive`
   = note: see <https://doc.rust-lang.org/nightly/rustc/check-cfg/cargo-specifics.html> for more information about checking conditional configuration
   = note: this warning originates in the derive macro `Serialize` (in Nightly builds, run with -Z macro-backtrace for more info)

warning: unexpected `cfg` condition value: `cargo-clippy`
  --> glean-core/src/metrics/time_unit.rs:14:30
   |
14 | #[derive(Copy, Clone, Debug, Deserialize, Serialize)]
   |                              ^^^^^^^^^^^
   |
   = note: no expected values for `feature`
   = note: using a cfg inside a derive macro will use the cfgs from the destination crate and not the ones from the defining crate
   = help: try referring to `Deserialize` crate for guidance on how handle this unexpected cfg
   = help: the derive macro `Deserialize` may come from an old version of the `serde_derive` crate, try updating your dependency with `cargo update -p serde_derive`
   = note: see <https://doc.rust-lang.org/nightly/rustc/check-cfg/cargo-specifics.html> for more information about checking conditional configuration
   = note: this warning originates in the derive macro `Deserialize` (in Nightly builds, run with -Z macro-backtrace for more info)

warning: unexpected `cfg` condition value: `cargo-clippy`
  --> glean-core/src/metrics/time_unit.rs:14:43
   |
14 | #[derive(Copy, Clone, Debug, Deserialize, Serialize)]
   |                                           ^^^^^^^^^
   |
   = note: no expected values for `feature`
   = note: using a cfg inside a derive macro will use the cfgs from the destination crate and not the ones from the defining crate
   = help: try referring to `Serialize` crate for guidance on how handle this unexpected cfg
   = help: the derive macro `Serialize` may come from an old version of the `serde_derive` crate, try updating your dependency with `cargo update -p serde_derive`
   = note: see <https://doc.rust-lang.org/nightly/rustc/check-cfg/cargo-specifics.html> for more information about checking conditional configuration
   = note: this warning originates in the derive macro `Serialize` (in Nightly builds, run with -Z macro-backtrace for more info)

warning: unexpected `cfg` condition value: `cargo-clippy`
  --> glean-core/src/metrics/timing_distribution.rs:88:17
   |
88 | #[derive(Debug, Serialize)]
   |                 ^^^^^^^^^
   |
   = note: no expected values for `feature`
   = note: using a cfg inside a derive macro will use the cfgs from the destination crate and not the ones from the defining crate
   = help: try referring to `Serialize` crate for guidance on how handle this unexpected cfg
   = help: the derive macro `Serialize` may come from an old version of the `serde_derive` crate, try updating your dependency with `cargo update -p serde_derive`
   = note: see <https://doc.rust-lang.org/nightly/rustc/check-cfg/cargo-specifics.html> for more information about checking conditional configuration
   = note: this warning originates in the derive macro `Serialize` (in Nightly builds, run with -Z macro-backtrace for more info)

warning: unexpected `cfg` condition value: `cargo-clippy`
  --> glean-core/src/metrics/mod.rs:52:10
   |
52 | #[derive(Serialize, Deserialize, Clone, Debug)]
   |          ^^^^^^^^^
   |
   = note: no expected values for `feature`
   = note: using a cfg inside a derive macro will use the cfgs from the destination crate and not the ones from the defining crate
   = help: try referring to `Serialize` crate for guidance on how handle this unexpected cfg
   = help: the derive macro `Serialize` may come from an old version of the `serde_derive` crate, try updating your dependency with `cargo update -p serde_derive`
   = note: see <https://doc.rust-lang.org/nightly/rustc/check-cfg/cargo-specifics.html> for more information about checking conditional configuration
   = note: this warning originates in the derive macro `Serialize` (in Nightly builds, run with -Z macro-backtrace for more info)

warning: unexpected `cfg` condition value: `cargo-clippy`
  --> glean-core/src/metrics/mod.rs:52:21
   |
52 | #[derive(Serialize, Deserialize, Clone, Debug)]
   |                     ^^^^^^^^^^^
   |
   = note: no expected values for `feature`
   = note: using a cfg inside a derive macro will use the cfgs from the destination crate and not the ones from the defining crate
   = help: try referring to `Deserialize` crate for guidance on how handle this unexpected cfg
   = help: the derive macro `Deserialize` may come from an old version of the `serde_derive` crate, try updating your dependency with `cargo update -p serde_derive`
   = note: see <https://doc.rust-lang.org/nightly/rustc/check-cfg/cargo-specifics.html> for more information about checking conditional configuration
   = note: this warning originates in the derive macro `Deserialize` (in Nightly builds, run with -Z macro-backtrace for more info)

warning: unused import: `serde_json::Value`
   --> glean-core/src/storage/mod.rs:204:9
    |
204 |     use serde_json::Value;
    |         ^^^^^^^^^^^^^^^^^
    |
    = note: `#[warn(unused_imports)]` on by default

warning: non-local `impl` definition, `impl` blocks should be written at the same level as their item
  --> glean-core/src/error.rs:29:17
   |
29 | #[derive(Debug, Fail)]
   |                 ^---
   |                 |
   |                 `Fail` is not local
   |                 move the `impl` block outside of this constant `_DERIVE_failure_Fail_FOR_ErrorKind`
30 | pub enum ErrorKind {
   |          --------- `ErrorKind` is not local
   |
   = note: the derive macro `Fail` defines the non-local `impl`, and may need to be changed
   = note: the derive macro `Fail` may come from an old version of the `failure_derive` crate, try updating your dependency with `cargo update -p failure_derive`
   = note: an `impl` is never scoped, even when it is nested inside an item, as it may impact type checking outside of that item, which can be the case if neither the trait or the self type are at the same nesting level as the `impl`
   = note: items in an anonymous const item (`const _: () = { ... }`) are treated as in the same scope as the anonymous const's declaration for the purpose of this lint
   = note: `#[warn(non_local_definitions)]` on by default
   = note: this warning originates in the derive macro `Fail` (in Nightly builds, run with -Z macro-backtrace for more info)

warning: non-local `impl` definition, `impl` blocks should be written at the same level as their item
  --> glean-core/src/error.rs:29:17
   |
29 | #[derive(Debug, Fail)]
   |                 ^---
   |                 |
   |                 `Display` is not local
   |                 move the `impl` block outside of this constant `_DERIVE_failure_core_fmt_Display_FOR_ErrorKind`
30 | pub enum ErrorKind {
   |          --------- `ErrorKind` is not local
   |
   = note: the derive macro `Fail` defines the non-local `impl`, and may need to be changed
   = note: the derive macro `Fail` may come from an old version of the `failure_derive` crate, try updating your dependency with `cargo update -p failure_derive`
   = note: an `impl` is never scoped, even when it is nested inside an item, as it may impact type checking outside of that item, which can be the case if neither the trait or the self type are at the same nesting level as the `impl`
   = note: items in an anonymous const item (`const _: () = { ... }`) are treated as in the same scope as the anonymous const's declaration for the purpose of this lint
   = note: this warning originates in the derive macro `Fail` (in Nightly builds, run with -Z macro-backtrace for more info)

warning: non-local `impl` definition, `impl` blocks should be written at the same level as their item
  --> glean-core/src/event_database/mod.rs:24:24
   |
24 | #[derive(Debug, Clone, Deserialize, Serialize)]
   |                        ^----------
   |                        |
   |                        `Deserialize` is not local
   |                        move the `impl` block outside of this constant `_IMPL_DESERIALIZE_FOR_RecordedEventData`
25 | pub struct RecordedEventData {
   |            ----------------- `RecordedEventData` is not local
   |
   = note: the derive macro `Deserialize` defines the non-local `impl`, and may need to be changed
   = note: the derive macro `Deserialize` may come from an old version of the `serde_derive` crate, try updating your dependency with `cargo update -p serde_derive`
   = note: an `impl` is never scoped, even when it is nested inside an item, as it may impact type checking outside of that item, which can be the case if neither the trait or the self type are at the same nesting level as the `impl`
   = note: items in an anonymous const item (`const _: () = { ... }`) are treated as in the same scope as the anonymous const's declaration for the purpose of this lint
   = note: this warning originates in the derive macro `Deserialize` (in Nightly builds, run with -Z macro-backtrace for more info)

warning: non-local `impl` definition, `impl` blocks should be written at the same level as their item
  --> glean-core/src/event_database/mod.rs:24:37
   |
24 | #[derive(Debug, Clone, Deserialize, Serialize)]
   |                                     ^--------
   |                                     |
   |                                     `Serialize` is not local
   |                                     move the `impl` block outside of this constant `_IMPL_SERIALIZE_FOR_RecordedEventData`
25 | pub struct RecordedEventData {
   |            ----------------- `RecordedEventData` is not local
   |
   = note: the derive macro `Serialize` defines the non-local `impl`, and may need to be changed
   = note: the derive macro `Serialize` may come from an old version of the `serde_derive` crate, try updating your dependency with `cargo update -p serde_derive`
   = note: an `impl` is never scoped, even when it is nested inside an item, as it may impact type checking outside of that item, which can be the case if neither the trait or the self type are at the same nesting level as the `impl`
   = note: items in an anonymous const item (`const _: () = { ... }`) are treated as in the same scope as the anonymous const's declaration for the purpose of this lint
   = note: this warning originates in the derive macro `Serialize` (in Nightly builds, run with -Z macro-backtrace for more info)

warning: non-local `impl` definition, `impl` blocks should be written at the same level as their item
  --> glean-core/src/histogram.rs:55:30
   |
55 | #[derive(Copy, Clone, Debug, Serialize, Deserialize)]
   |                              ^--------
   |                              |
   |                              `Serialize` is not local
   |                              move the `impl` block outside of this constant `_IMPL_SERIALIZE_FOR_Type`
56 | #[serde(rename_all = "lowercase")]
57 | pub enum Type {
   |          ---- `Type` is not local
   |
   = note: the derive macro `Serialize` defines the non-local `impl`, and may need to be changed
   = note: the derive macro `Serialize` may come from an old version of the `serde_derive` crate, try updating your dependency with `cargo update -p serde_derive`
   = note: an `impl` is never scoped, even when it is nested inside an item, as it may impact type checking outside of that item, which can be the case if neither the trait or the self type are at the same nesting level as the `impl`
   = note: items in an anonymous const item (`const _: () = { ... }`) are treated as in the same scope as the anonymous const's declaration for the purpose of this lint
   = note: this warning originates in the derive macro `Serialize` (in Nightly builds, run with -Z macro-backtrace for more info)

warning: non-local `impl` definition, `impl` blocks should be written at the same level as their item
  --> glean-core/src/histogram.rs:55:41
   |
55 | #[derive(Copy, Clone, Debug, Serialize, Deserialize)]
   |                                         ^----------
   |                                         |
   |                                         `Deserialize` is not local
   |                                         move the `impl` block outside of this constant `_IMPL_DESERIALIZE_FOR_Type`
56 | #[serde(rename_all = "lowercase")]
57 | pub enum Type {
   |          ---- `Type` is not local
   |
   = note: the derive macro `Deserialize` defines the non-local `impl`, and may need to be changed
   = note: the derive macro `Deserialize` may come from an old version of the `serde_derive` crate, try updating your dependency with `cargo update -p serde_derive`
   = note: an `impl` is never scoped, even when it is nested inside an item, as it may impact type checking outside of that item, which can be the case if neither the trait or the self type are at the same nesting level as the `impl`
   = note: items in an anonymous const item (`const _: () = { ... }`) are treated as in the same scope as the anonymous const's declaration for the purpose of this lint
   = note: this warning originates in the derive macro `Deserialize` (in Nightly builds, run with -Z macro-backtrace for more info)

warning: non-local `impl` definition, `impl` blocks should be written at the same level as their item
  --> glean-core/src/histogram.rs:78:24
   |
78 | #[derive(Debug, Clone, Serialize, Deserialize)]
   |                        ^--------
   |                        |
   |                        `Serialize` is not local
   |                        move the `impl` block outside of this constant `_IMPL_SERIALIZE_FOR_Histogram`
79 | pub struct Histogram {
   |            --------- `Histogram` is not local
   |
   = note: the derive macro `Serialize` defines the non-local `impl`, and may need to be changed
   = note: the derive macro `Serialize` may come from an old version of the `serde_derive` crate, try updating your dependency with `cargo update -p serde_derive`
   = note: an `impl` is never scoped, even when it is nested inside an item, as it may impact type checking outside of that item, which can be the case if neither the trait or the self type are at the same nesting level as the `impl`
   = note: items in an anonymous const item (`const _: () = { ... }`) are treated as in the same scope as the anonymous const's declaration for the purpose of this lint
   = note: this warning originates in the derive macro `Serialize` (in Nightly builds, run with -Z macro-backtrace for more info)

warning: non-local `impl` definition, `impl` blocks should be written at the same level as their item
  --> glean-core/src/histogram.rs:78:35
   |
78 | #[derive(Debug, Clone, Serialize, Deserialize)]
   |                                   ^----------
   |                                   |
   |                                   `Deserialize` is not local
   |                                   move the `impl` block outside of this constant `_IMPL_DESERIALIZE_FOR_Histogram`
79 | pub struct Histogram {
   |            --------- `Histogram` is not local
   |
   = note: the derive macro `Deserialize` defines the non-local `impl`, and may need to be changed
   = note: the derive macro `Deserialize` may come from an old version of the `serde_derive` crate, try updating your dependency with `cargo update -p serde_derive`
   = note: an `impl` is never scoped, even when it is nested inside an item, as it may impact type checking outside of that item, which can be the case if neither the trait or the self type are at the same nesting level as the `impl`
   = note: items in an anonymous const item (`const _: () = { ... }`) are treated as in the same scope as the anonymous const's declaration for the purpose of this lint
   = note: this warning originates in the derive macro `Deserialize` (in Nightly builds, run with -Z macro-backtrace for more info)

warning: non-local `impl` definition, `impl` blocks should be written at the same level as their item
  --> glean-core/src/metrics/mod.rs:52:10
   |
52 | #[derive(Serialize, Deserialize, Clone, Debug)]
   |          ^--------
   |          |
   |          `Serialize` is not local
   |          move the `impl` block outside of this constant `_IMPL_SERIALIZE_FOR_Metric`
53 | pub enum Metric {
   |          ------ `Metric` is not local
   |
   = note: the derive macro `Serialize` defines the non-local `impl`, and may need to be changed
   = note: the derive macro `Serialize` may come from an old version of the `serde_derive` crate, try updating your dependency with `cargo update -p serde_derive`
   = note: an `impl` is never scoped, even when it is nested inside an item, as it may impact type checking outside of that item, which can be the case if neither the trait or the self type are at the same nesting level as the `impl`
   = note: items in an anonymous const item (`const _: () = { ... }`) are treated as in the same scope as the anonymous const's declaration for the purpose of this lint
   = note: this warning originates in the derive macro `Serialize` (in Nightly builds, run with -Z macro-backtrace for more info)

warning: non-local `impl` definition, `impl` blocks should be written at the same level as their item
  --> glean-core/src/metrics/mod.rs:52:21
   |
52 | #[derive(Serialize, Deserialize, Clone, Debug)]
   |                     ^----------
   |                     |
   |                     `Deserialize` is not local
   |                     move the `impl` block outside of this constant `_IMPL_DESERIALIZE_FOR_Metric`
53 | pub enum Metric {
   |          ------ `Metric` is not local
   |
   = note: the derive macro `Deserialize` defines the non-local `impl`, and may need to be changed
   = note: the derive macro `Deserialize` may come from an old version of the `serde_derive` crate, try updating your dependency with `cargo update -p serde_derive`
   = note: an `impl` is never scoped, even when it is nested inside an item, as it may impact type checking outside of that item, which can be the case if neither the trait or the self type are at the same nesting level as the `impl`
   = note: items in an anonymous const item (`const _: () = { ... }`) are treated as in the same scope as the anonymous const's declaration for the purpose of this lint
   = note: this warning originates in the derive macro `Deserialize` (in Nightly builds, run with -Z macro-backtrace for more info)

warning: non-local `impl` definition, `impl` blocks should be written at the same level as their item
  --> glean-core/src/metrics/experiment.rs:34:24
   |
34 | #[derive(Debug, Clone, Deserialize, Serialize)]
   |                        ^----------
   |                        |
   |                        `Deserialize` is not local
   |                        move the `impl` block outside of this constant `_IMPL_DESERIALIZE_FOR_RecordedExperimentData`
35 | pub struct RecordedExperimentData {
   |            ---------------------- `RecordedExperimentData` is not local
   |
   = note: the derive macro `Deserialize` defines the non-local `impl`, and may need to be changed
   = note: the derive macro `Deserialize` may come from an old version of the `serde_derive` crate, try updating your dependency with `cargo update -p serde_derive`
   = note: an `impl` is never scoped, even when it is nested inside an item, as it may impact type checking outside of that item, which can be the case if neither the trait or the self type are at the same nesting level as the `impl`
   = note: items in an anonymous const item (`const _: () = { ... }`) are treated as in the same scope as the anonymous const's declaration for the purpose of this lint
   = note: this warning originates in the derive macro `Deserialize` (in Nightly builds, run with -Z macro-backtrace for more info)

warning: non-local `impl` definition, `impl` blocks should be written at the same level as their item
  --> glean-core/src/metrics/experiment.rs:34:37
   |
34 | #[derive(Debug, Clone, Deserialize, Serialize)]
   |                                     ^--------
   |                                     |
   |                                     `Serialize` is not local
   |                                     move the `impl` block outside of this constant `_IMPL_SERIALIZE_FOR_RecordedExperimentData`
35 | pub struct RecordedExperimentData {
   |            ---------------------- `RecordedExperimentData` is not local
   |
   = note: the derive macro `Serialize` defines the non-local `impl`, and may need to be changed
   = note: the derive macro `Serialize` may come from an old version of the `serde_derive` crate, try updating your dependency with `cargo update -p serde_derive`
   = note: an `impl` is never scoped, even when it is nested inside an item, as it may impact type checking outside of that item, which can be the case if neither the trait or the self type are at the same nesting level as the `impl`
   = note: items in an anonymous const item (`const _: () = { ... }`) are treated as in the same scope as the anonymous const's declaration for the purpose of this lint
   = note: this warning originates in the derive macro `Serialize` (in Nightly builds, run with -Z macro-backtrace for more info)

warning: non-local `impl` definition, `impl` blocks should be written at the same level as their item
  --> glean-core/src/metrics/time_unit.rs:14:30
   |
14 | #[derive(Copy, Clone, Debug, Deserialize, Serialize)]
   |                              ^----------
   |                              |
   |                              `Deserialize` is not local
   |                              move the `impl` block outside of this constant `_IMPL_DESERIALIZE_FOR_TimeUnit`
15 | #[serde(rename_all = "lowercase")]
16 | pub enum TimeUnit {
   |          -------- `TimeUnit` is not local
   |
   = note: the derive macro `Deserialize` defines the non-local `impl`, and may need to be changed
   = note: the derive macro `Deserialize` may come from an old version of the `serde_derive` crate, try updating your dependency with `cargo update -p serde_derive`
   = note: an `impl` is never scoped, even when it is nested inside an item, as it may impact type checking outside of that item, which can be the case if neither the trait or the self type are at the same nesting level as the `impl`
   = note: items in an anonymous const item (`const _: () = { ... }`) are treated as in the same scope as the anonymous const's declaration for the purpose of this lint
   = note: this warning originates in the derive macro `Deserialize` (in Nightly builds, run with -Z macro-backtrace for more info)

warning: non-local `impl` definition, `impl` blocks should be written at the same level as their item
  --> glean-core/src/metrics/time_unit.rs:14:43
   |
14 | #[derive(Copy, Clone, Debug, Deserialize, Serialize)]
   |                                           ^--------
   |                                           |
   |                                           `Serialize` is not local
   |                                           move the `impl` block outside of this constant `_IMPL_SERIALIZE_FOR_TimeUnit`
15 | #[serde(rename_all = "lowercase")]
16 | pub enum TimeUnit {
   |          -------- `TimeUnit` is not local
   |
   = note: the derive macro `Serialize` defines the non-local `impl`, and may need to be changed
   = note: the derive macro `Serialize` may come from an old version of the `serde_derive` crate, try updating your dependency with `cargo update -p serde_derive`
   = note: an `impl` is never scoped, even when it is nested inside an item, as it may impact type checking outside of that item, which can be the case if neither the trait or the self type are at the same nesting level as the `impl`
   = note: items in an anonymous const item (`const _: () = { ... }`) are treated as in the same scope as the anonymous const's declaration for the purpose of this lint
   = note: this warning originates in the derive macro `Serialize` (in Nightly builds, run with -Z macro-backtrace for more info)

warning: non-local `impl` definition, `impl` blocks should be written at the same level as their item
  --> glean-core/src/metrics/timing_distribution.rs:88:17
   |
88 | #[derive(Debug, Serialize)]
   |                 ^--------
   |                 |
   |                 `Serialize` is not local
   |                 move the `impl` block outside of this constant `_IMPL_SERIALIZE_FOR_Snapshot`
89 | pub struct Snapshot {
   |            -------- `Snapshot` is not local
   |
   = note: the derive macro `Serialize` defines the non-local `impl`, and may need to be changed
   = note: the derive macro `Serialize` may come from an old version of the `serde_derive` crate, try updating your dependency with `cargo update -p serde_derive`
   = note: an `impl` is never scoped, even when it is nested inside an item, as it may impact type checking outside of that item, which can be the case if neither the trait or the self type are at the same nesting level as the `impl`
   = note: items in an anonymous const item (`const _: () = { ... }`) are treated as in the same scope as the anonymous const's declaration for the purpose of this lint
   = note: this warning originates in the derive macro `Serialize` (in Nightly builds, run with -Z macro-backtrace for more info)

error[E0599]: no function or associated item named `default` found for struct `Configuration` in the current scope
   --> glean-core/src/storage/mod.rs:239:54
    |
239 |         let glean = Glean::new(crate::Configuration::default()).unwrap();
    |                                                      ^^^^^^^ function or associated item not found in `Configuration`
    |
   ::: glean-core/src/lib.rs:56:1
    |
56  | pub struct Configuration {
    | ------------------------ function or associated item `default` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following trait defines an item `default`, perhaps you need to implement it:
            candidate #1: `Default`

error[E0061]: this method takes 3 arguments but 4 arguments were supplied
   --> glean-core/src/storage/mod.rs:248:39
    |
248 |         let snapshot = StorageManager.snapshot_as_json(&glean, &glean.storage(), "experiments", false);
    |                                       ^^^^^^^^^^^^^^^^ ------ unexpected argument #1 of type `&Glean`
    |
note: method defined here
   --> glean-core/src/storage/mod.rs:77:12
    |
77  |     pub fn snapshot_as_json(
    |            ^^^^^^^^^^^^^^^^
help: remove the extra argument
    |
248 -         let snapshot = StorageManager.snapshot_as_json(&glean, &glean.storage(), "experiments", false);
248 +         let snapshot = StorageManager.snapshot_as_json(&glean.storage(), "experiments", false);
    |

Some errors have detailed explanations: E0061, E0599.
For more information about an error, try `rustc --explain E0061`.
warning: `glean-core` (lib test) generated 14 warnings (13 duplicates)
error: could not compile `glean-core` (lib test) due to 2 previous errors; 14 warnings emitted
warning: build failed, waiting for other jobs to finish...
warning: `glean-core` (lib) generated 28 warnings
