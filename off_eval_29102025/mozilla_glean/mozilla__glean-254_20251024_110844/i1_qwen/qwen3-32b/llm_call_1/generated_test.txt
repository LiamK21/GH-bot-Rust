#[test]
fn test_long_experiment_id_records_error() {
    let glean = Glean::new("test_app", "1.0", "https://example.com", vec!["test"].into_iter().collect()).unwrap();
    let long_id = "a".repeat(100); // Assuming MAX_EXPERIMENTS_IDS_LEN is 30
    let metric = ExperimentMetric::new(&glean, long_id);
    // Assuming there's a test helper to get recorded errors
    let errors = glean.get_recorded_errors();
    assert_eq!(errors.len(), 1);
    let error = &errors[0];
    assert_eq!(error.error_type, ErrorType::InvalidValue);
    assert!(error.message.contains("Value length 100 for experiment id exceeds maximum"));
}