#[test]
fn test_remove_dir_all_windows() {
    let temp_dir = tempfile::tempdir().unwrap();
    let path = temp_dir.path().join("test_dir");
    create_dir_all(&path).unwrap();
    let file_path = path.join("test_file.txt");
    let mut file = File::create(&file_path).unwrap();
    writeln!(file, "test content").unwrap();

    let event_db = EventDatabase {
        path: path.clone(),
        file_lock: RwLock::new(()),
        event_stores: Default::default(),
    };

    assert!(path.exists());
    event_db.clear_all().unwrap();
    assert!(!path.exists());
}