<Filename>glean-core/src/lib.rs</Filename>
<imports>
use super::initialize_core_metrics;
use crate::glean::Glean;
use crate::glean::ClientInfoMetrics;
use crate::glean::core_metrics::internal_metrics;
</imports>
<Rust>
#[test]
fn test_initialize_core_metrics_sets_correct_os_version() {
    let glean = Glean::new();
    let client_info = ClientInfoMetrics {
        os_version: Some("10.0".to_string()),
        architecture: Some("x86_64".to_string()),
        channel: None,
        android_sdk_version: None,
    };
    
    initialize_core_metrics(&glean, &client_info);
    
    let expected_os_version = "10.0";
    let actual_os_version = internal_metrics::os_version.get_value(&glean).unwrap();
    
    assert_eq!(expected_os_version, actual_os_version);
}
</Rust>