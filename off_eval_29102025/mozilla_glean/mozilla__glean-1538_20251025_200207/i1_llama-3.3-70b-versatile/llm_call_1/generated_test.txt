#[test]
fn test_os_version_detection() {
  let glean = &Glean {};
  let client_info = &ClientInfoMetrics {};
  let channel = None;
  let expected = system::get_os_version();
  initialize_core_metrics(glean, client_info, channel);
  let actual = core_metrics::internal_metrics::os_version.get_sync(glean);
  assert_eq!(actual, expected);
}