#[test]
fn test_get_upload_task_returns_wait_when_not_processed() {
    let dir = tempfile::tempdir().unwrap();
    let tmpname = dir.path().display().to_string();
    let upload_manager = PingUploadManager::new(&tmpname);

    // Allow some time for the processing thread to potentially start
    thread::sleep(Duration::from_millis(10));

    // Immediately check the upload task without waiting for processing to complete
    let upload_task = upload_manager.get_upload_task();

    assert_eq!(upload_task, PingUploadTask::Wait);
}