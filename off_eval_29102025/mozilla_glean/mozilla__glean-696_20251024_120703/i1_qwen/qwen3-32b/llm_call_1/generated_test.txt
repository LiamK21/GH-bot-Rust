#[test]
fn test_returns_wait_before_processing_complete() {
    let dir = tempfile::tempdir().unwrap();
    let path = dir.path().to_str().unwrap().to_string();
    let manager = PingUploadManager::new(&path);
    thread::sleep(Duration::from_millis(10));
    let task = manager.get_upload_task();
    assert_eq!(task, PingUploadTask::Wait);
    // Wait for processing to finish
    let mut task = PingUploadTask::Wait;
    while task == PingUploadTask::Wait {
        thread::sleep(Duration::from_millis(10));
        task = manager.get_upload_task();
    }
    assert_eq!(task, PingUploadTask::Done);
}