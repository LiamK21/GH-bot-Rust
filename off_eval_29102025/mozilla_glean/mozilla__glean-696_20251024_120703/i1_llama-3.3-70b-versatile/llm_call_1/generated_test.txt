#[test]
fn test_get_upload_task_returns_wait_when_processing_pending_pings() {
  let dir = tempdir().unwrap();
  let tmpname = dir.path().display().to_string();
  let upload_manager = PingUploadManager::new(&tmpname);
  let upload_task = upload_manager.get_upload_task();
  assert_eq!(upload_task, PingUploadTask::Wait);
  thread::sleep(Duration::from_millis(10));
  let upload_task = upload_manager.get_upload_task();
  assert_ne!(upload_task, PingUploadTask::Wait);
}