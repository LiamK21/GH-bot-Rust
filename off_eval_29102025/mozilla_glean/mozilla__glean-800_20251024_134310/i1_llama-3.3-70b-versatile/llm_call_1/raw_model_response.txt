<Filename> glean-core/src/lib.rs </Filename>
<imports> 
use super::setup_glean;
use super::global_glean;
use std::sync::Mutex;
use std::sync::OnceCell;
use glean_core::Error;
use glean_core::Glean;
</imports>
<Rust>
#[test]
fn test_global_glean_returns_none_before_setup() {
  let glean = global_glean();
  assert!(glean.is_none());
  let result = setup_glean(Glean::new());
  assert!(result.is_ok());
  let glean = global_glean();
  assert!(glean.is_some());
}</Rust>