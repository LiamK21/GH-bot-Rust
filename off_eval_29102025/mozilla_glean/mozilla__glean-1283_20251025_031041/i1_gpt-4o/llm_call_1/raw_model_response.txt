<Filename>glean-core/src/upload/mod.rs</Filename>
<imports>
use super::PingUploadManager;
use log::{self, Level, Record};
use std::sync::Mutex;
</imports>
<Rust>
#[test]
fn test_recoverable_failure_logging_level() {
    let log_messages = Mutex::new(Vec::new());
    let logger = log::set_logger(&|record: &Record| {
        if record.level() == Level::Info {
            log_messages.lock().unwrap().push(record.args().to_string());
        }
    }).unwrap();
    log::set_max_level(Level::Info.to_level_filter());

    let manager = PingUploadManager::new();
    manager.handle_upload_result("test_document_id", RecoverableFailure);

    let log_messages = log_messages.lock().unwrap();
    assert!(log_messages.iter().any(|msg| msg.contains("Recoverable upload failure while attempting to send ping test_document_id, will retry.")));

    log::set_logger(logger).unwrap();
}</Rust>