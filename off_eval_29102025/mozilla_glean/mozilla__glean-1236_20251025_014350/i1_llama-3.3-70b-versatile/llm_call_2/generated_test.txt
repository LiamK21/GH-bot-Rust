#[test]
fn test_pending_pings_directory_size_metric() {
  let mut upload_manager = PingUploadManager::new(PathBuf::from("/tmp"), "test");
  let mut upload_metrics = UploadMetrics::new();
  let pending_pings_directory_size = 1024;
  let expected_pending_pings_directory_size = pending_pings_directory_size as u64 / 1024;
  upload_manager.upload_metrics = upload_metrics;
  upload_manager.upload_metrics.pending_pings_directory_size.accumulate(&Glean, pending_pings_directory_size as u64 / 1024);
  let actual_pending_pings_directory_size = upload_manager.upload_metrics.pending_pings_directory_size.get_value(&Glean);
  assert_eq!(actual_pending_pings_directory_size, expected_pending_pings_directory_size);
}