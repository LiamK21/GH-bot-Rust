#[test]
fn test_boolean_get_num_recorded_errors_without_ping() {
    use glean::core::test_get_num_recorded_errors;
    use glean::CommonMetricData;
    let metric = BooleanMetric::new(CommonMetricData {
        category: "cat".into(),
        name: "name".into(),
        send_in_pings: vec!["p1".into()],
        ..Default::default()
    });
    metric.set(true);

    crate::block_on_dispatcher();

    let result = metric.test_get_num_recorded_errors(ErrorType::InvalidState);

    assert_eq!(result, 0);
}