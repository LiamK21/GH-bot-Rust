#[test]
fn test_database_file_size_recording() {
  let _ = env_logger::builder().is_test(true).try_init();

  let dir = tempdir().unwrap();
  let tmpname = dir.path().display().to_string();

  let glean = Glean::with_options(&tmpname, "test", true).unwrap();
  let database_size = &glean.database_metrics.size;
  let data = database_size.test_get_value(&glean, "metrics");
  assert!(data.is_some());
  let data = data.unwrap();

  assert!(data.sum > 0);
}