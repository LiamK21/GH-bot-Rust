#[test]
fn test_thread_name() {
  let handle_before_patch: JoinHandle<()> = thread::spawn(|| {});
  let handle_after_patch: JoinHandle<()> = Builder::new().name("glean.dispatcher".into()).spawn(|| {}).expect("Failed to spawn thread");
  let handle_before_patch_thread_name = handle_before_patch.thread().map(|t| t.name().unwrap_or("unknown"));
  let handle_after_patch_thread_name = handle_after_patch.thread().map(|t| t.name().unwrap_or("unknown"));
  assert_ne!(handle_before_patch_thread_name, Some("glean.dispatcher"));
  assert_eq!(handle_after_patch_thread_name, Some("glean.dispatcher"));
}