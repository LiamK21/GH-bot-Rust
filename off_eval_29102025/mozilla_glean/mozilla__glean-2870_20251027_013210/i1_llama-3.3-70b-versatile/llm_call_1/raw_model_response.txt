<Filename> glean-core/src/database/mod.rs </Filename>
<imports> 
use std::path::Path;
use super::rkv_new;
use std::fs;
</imports>
<Rust>
#[test]
fn test_rkv_new_does_not_migrate_lmdb() {
  let dir = tempfile::tempdir().unwrap();
  let database_dir = dir.path().join("db");
  fs::create_dir_all(&database_dir).unwrap();
  let datamdb = database_dir.join("data.mdb");
  let lockmdb = database_dir.join("lock.mdb");
  let safebin = database_dir.join("data.safe.bin");
  fs::File::create(&datamdb).unwrap();
  fs::File::create(&lockmdb).unwrap();
  assert!(datamdb.exists());
  assert!(lockmdb.exists());
  assert!(!safebin.exists());
  rkv_new(database_dir).unwrap();
  assert!(datamdb.exists());
  assert!(lockmdb.exists());
  assert!(!safebin.exists());
}
</Rust>