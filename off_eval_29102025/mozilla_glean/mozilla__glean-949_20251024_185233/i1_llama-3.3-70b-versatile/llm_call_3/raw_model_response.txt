<Filename>glean-core/src/metrics/labeled.rs</Filename>
<imports>
use super::dynamic_label;
use crate::common_metric_data::CommonMetricData;
use crate::error_recording::{ErrorType, record_error};
use crate::Glean;
use std::path::PathBuf;
</imports>
<Rust>
#[test]
fn test_dynamic_label_regex() {
  let glean = &Glean {
    application_id: "test_app".to_string(),
    core_metrics: CoreMetrics::new(),
    data_path: "/test/data".to_string().into(),
    data_store: None,
    event_data_store: None,
    internal_pings: None,
    ping_type: None,
    upload_enabled: false,
    server_endpoint: None,
    max_event_size: None,
    max_payload_size: None,
  };
  let meta = &CommonMetricData {
    category: "test_category".to_string(),
    disabled: false,
    dynamic_label: None,
    lifetime: None,
    name: "test_name".to_string(),
    send_in_pings: None,
  };
  let base_identifier = "test";
  let label = "test_label";
  let invalid_label = "1test_label";
  assert!(dynamic_label(glean, meta, base_identifier, label).len() > 0);
  assert!(dynamic_label(glean, meta, base_identifier, invalid_label).len() > 0);
}
</Rust>